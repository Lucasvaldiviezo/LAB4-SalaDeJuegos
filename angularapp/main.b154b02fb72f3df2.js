"use strict";(self.webpackChunkSalaDeJuegos=self.webpackChunkSalaDeJuegos||[]).push([[179],{7128:(kt,Ue,j)=>{j.d(Ue,{nm:()=>nn});var p=j(5813),pe=(j(5e3),j(3692),j(5867),j(5861)),he=j(9681),be=j(4859),Ce=j(2090),Me=j(1877);const ae=new Map,oe={activated:!1,tokenObservers:[]},Ae={initialized:!1,enabled:!1};function ut(Ie){return ae.get(Ie)||oe}function Be(Ie,de){ae.set(Ie,de)}function et(){return Ae}class He{constructor(de,Le,nt,pt,Pt){if(this.operation=de,this.retryPolicy=Le,this.getWaitDuration=nt,this.lowerBound=pt,this.upperBound=Pt,this.pending=null,this.nextErrorWaitInterval=pt,pt>Pt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(de){var Le=this;return(0,pe.Z)(function*(){Le.stop();try{Le.pending=new Ce.BH,yield function Xe(Ie){return new Promise(de=>{setTimeout(de,Ie)})}(Le.getNextRun(de)),Le.pending.resolve(),yield Le.pending.promise,Le.pending=new Ce.BH,yield Le.operation(),Le.pending.resolve(),yield Le.pending.promise,Le.process(!0).catch(()=>{})}catch(nt){Le.retryPolicy(nt)?Le.process(!1).catch(()=>{}):Le.stop()}})()}getNextRun(de){if(de)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Le=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Le}}}const ze=new Ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ee(Ie){if(!ut(Ie).activated)throw ze.create("use-before-activation",{appName:Ie.name})}function lt(Ie,de){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,pe.Z)(function*({url:Ie,body:de},Le){const nt={"Content-Type":"application/json"},pt=Le.getImmediate({optional:!0});if(pt){const Si=yield pt.getHeartbeatsHeader();Si&&(nt["X-Firebase-Client"]=Si)}const Pt={method:"POST",body:JSON.stringify(de),headers:nt};let Xn,Zn;try{Xn=yield fetch(Ie,Pt)}catch(Si){throw ze.create("fetch-network-error",{originalErrorMessage:Si.message})}if(200!==Xn.status)throw ze.create("fetch-status-error",{httpStatus:Xn.status});try{Zn=yield Xn.json()}catch(Si){throw ze.create("fetch-parse-error",{originalErrorMessage:Si.message})}const Nn=Zn.ttl.match(/^([\d.]+)(s)$/);if(!Nn||!Nn[2]||isNaN(Number(Nn[1])))throw ze.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Zn.ttl}`});const jn=1e3*Number(Nn[1]),Bi=Date.now();return{token:Zn.attestationToken,expireTimeMillis:Bi+jn,issuedAtTimeMillis:Bi}})).apply(this,arguments)}function Rt(Ie,de){const{projectId:Le,appId:nt,apiKey:pt}=Ie.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Le}/apps/${nt}:exchangeDebugToken?key=${pt}`,body:{debug_token:de}}}const sn="firebase-app-check-store";let wn=null;function $t(){return wn||(wn=new Promise((Ie,de)=>{try{const Le=indexedDB.open("firebase-app-check-database",1);Le.onsuccess=nt=>{Ie(nt.target.result)},Le.onerror=nt=>{var pt;de(ze.create("storage-open",{originalErrorMessage:null===(pt=nt.target.error)||void 0===pt?void 0:pt.message}))},Le.onupgradeneeded=nt=>{0===nt.oldVersion&&nt.target.result.createObjectStore(sn,{keyPath:"compositeKey"})}}catch(Le){de(ze.create("storage-open",{originalErrorMessage:Le.message}))}}),wn)}function Vr(){return(Vr=(0,pe.Z)(function*(Ie,de){const nt=(yield $t()).transaction(sn,"readwrite"),Pt=nt.objectStore(sn).put({compositeKey:Ie,value:de});return new Promise((Xn,Zn)=>{Pt.onsuccess=Nn=>{Xn()},nt.onerror=Nn=>{var jn;Zn(ze.create("storage-set",{originalErrorMessage:null===(jn=Nn.target.error)||void 0===jn?void 0:jn.message}))}})})).apply(this,arguments)}const ur=new Me.Yd("@firebase/app-check");function un(Ie,de){return(0,Ce.hl)()?function an(Ie,de){return function Qn(Ie,de){return Vr.apply(this,arguments)}(function tr(Ie){return`${Ie.options.appId}-${Ie.name}`}(Ie),de)}(Ie,de).catch(Le=>{ur.warn(`Failed to write token to IndexedDB. Error: ${Le}`)}):Promise.resolve()}function Ur(){return et().enabled}function Li(){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,pe.Z)(function*(){const Ie=et();if(Ie.enabled&&Ie.token)return Ie.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _e={error:"UNKNOWN_ERROR"};function ct(Ie){return Ce.US.encodeString(JSON.stringify(Ie),!1)}function xe(Ie){return st.apply(this,arguments)}function st(){return(st=(0,pe.Z)(function*(Ie,de=!1){const Le=Ie.app;Ee(Le);const nt=ut(Le);let Pt,pt=nt.token;if(!pt){const Nn=yield nt.cachedTokenPromise;Nn&&lr(Nn)&&(pt=Nn)}if(!de&&pt&&lr(pt))return{token:pt.token};let Zn,Xn=!1;if(Ur()){nt.exchangeTokenPromise||(nt.exchangeTokenPromise=lt(Rt(Le,yield Li()),Ie.heartbeatServiceProvider).then(jn=>(nt.exchangeTokenPromise=void 0,jn)),Xn=!0);const Nn=yield nt.exchangeTokenPromise;return yield un(Le,Nn),Be(Le,Object.assign(Object.assign({},nt),{token:Nn})),{token:Nn.token}}try{nt.exchangeTokenPromise||(nt.exchangeTokenPromise=nt.provider.getToken().then(Nn=>(nt.exchangeTokenPromise=void 0,Nn)),Xn=!0),pt=yield nt.exchangeTokenPromise}catch(Nn){"appCheck/throttled"===Nn.code?ur.warn(Nn.message):ur.error(Nn),Pt=Nn}return pt?(Zn={token:pt.token},Be(Le,Object.assign(Object.assign({},nt),{token:pt})),yield un(Le,pt)):Zn=Un(Pt),Xn&&Yr(Le,Zn),Zn})).apply(this,arguments)}function In(Ie,de){const Le=ut(Ie),nt=Le.tokenObservers.filter(pt=>pt.next!==de);0===nt.length&&Le.tokenRefresher&&Le.tokenRefresher.isRunning()&&Le.tokenRefresher.stop(),Be(Ie,Object.assign(Object.assign({},Le),{tokenObservers:nt}))}function mn(Ie){const{app:de}=Ie,Le=ut(de);let nt=Le.tokenRefresher;nt||(nt=function on(Ie){const{app:de}=Ie;return new He((0,pe.Z)(function*(){let nt;if(nt=ut(de).token?yield xe(Ie,!0):yield xe(Ie),nt.error)throw nt.error}),()=>!0,()=>{const Le=ut(de);if(Le.token){let nt=Le.token.issuedAtTimeMillis+.5*(Le.token.expireTimeMillis-Le.token.issuedAtTimeMillis)+3e5;return nt=Math.min(nt,Le.token.expireTimeMillis-3e5),Math.max(0,nt-Date.now())}return 0},3e4,96e4)}(Ie),Be(de,Object.assign(Object.assign({},Le),{tokenRefresher:nt}))),!nt.isRunning()&&Le.isTokenAutoRefreshEnabled&&nt.start()}function Yr(Ie,de){const Le=ut(Ie).tokenObservers;for(const nt of Le)try{"EXTERNAL"===nt.type&&null!=de.error?nt.error(de.error):nt.next(de)}catch(pt){}}function lr(Ie){return Ie.expireTimeMillis-Date.now()>0}function Un(Ie){return{token:ct(_e),error:Ie}}class It{constructor(de,Le){this.app=de,this.heartbeatServiceProvider=Le}_delete(){const{tokenObservers:de}=ut(this.app);for(const Le of de)In(this.app,Le.next);return Promise.resolve()}}const Vi="app-check-internal";!function Nr(){(0,he._registerComponent)(new be.wA("app-check",Ie=>function Rn(Ie,de){return new It(Ie,de)}(Ie.getProvider("app").getImmediate(),Ie.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ie,de,Le)=>{Ie.getProvider(Vi).initialize()})),(0,he._registerComponent)(new be.wA(Vi,Ie=>function yn(Ie){return{getToken:de=>xe(Ie,de),addTokenListener:de=>function bt(Ie,de,Le,nt){const{app:pt}=Ie,Pt=ut(pt),Xn={next:Le,error:nt,type:de};if(Be(pt,Object.assign(Object.assign({},Pt),{tokenObservers:[...Pt.tokenObservers,Xn]})),Pt.token&&lr(Pt.token)){const Zn=Pt.token;Promise.resolve().then(()=>{Le({token:Zn.token}),mn(Ie)}).catch(()=>{})}Pt.cachedTokenPromise.then(()=>mn(Ie))}(Ie,"INTERNAL",de),removeTokenListener:de=>In(Ie.app,de)}}(Ie.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)("@firebase/app-check","0.5.6")}();class nn{constructor(){return(0,p.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(kt,Ue,j)=>{j.d(Ue,{Ot:()=>Q}),j(5867),j(5e3);class Q{constructor(se){return se}}},1205:(kt,Ue,j)=>{j.d(Ue,{zQ:()=>Fe,rT:()=>le,f7:()=>we,L6:()=>Se,_Q:()=>Ee,lh:()=>Ve,Qv:()=>ze,nw:()=>lt});var p=j(5e3),O=j(7579),Q=j(9646),De=j(8306),pe=j(8996),he=j(6451),be=j(6063);class Ce extends O.x{constructor(Rt=1/0,wt=1/0,At=be.l){super(),this._bufferSize=Rt,this._windowTime=wt,this._timestampProvider=At,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=wt===1/0,this._bufferSize=Math.max(1,Rt),this._windowTime=Math.max(1,wt)}next(Rt){const{isStopped:wt,_buffer:At,_infiniteTimeWindow:sn,_timestampProvider:Vt,_windowTime:wn}=this;wt||(At.push(Rt),!sn&&At.push(Vt.now()+wn)),this._trimBuffer(),super.next(Rt)}_subscribe(Rt){this._throwIfClosed(),this._trimBuffer();const wt=this._innerSubscribe(Rt),{_infiniteTimeWindow:At,_buffer:sn}=this,Vt=sn.slice();for(let wn=0;wn<Vt.length&&!Rt.closed;wn+=At?1:2)Rt.next(Vt[wn]);return this._checkFinalizedStatuses(Rt),wt}_trimBuffer(){const{_bufferSize:Rt,_timestampProvider:wt,_buffer:At,_infiniteTimeWindow:sn}=this,Vt=(sn?1:2)*Rt;if(Rt<1/0&&Vt<At.length&&At.splice(0,At.length-Vt),!sn){const wn=wt.now();let $t=0;for(let fn=1;fn<At.length&&At[fn]<=wn;fn+=2)$t=fn;$t&&At.splice(0,$t+1)}}}var Me=j(3099);function ae(zt,Rt,wt){let At,sn=!1;return zt&&"object"==typeof zt?({bufferSize:At=1/0,windowTime:Rt=1/0,refCount:sn=!1,scheduler:wt}=zt):At=null!=zt?zt:1/0,(0,Me.B)({connector:()=>new Ce(At,Rt,wt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:sn})}var oe=j(3900),Ae=j(576);function ut(zt,Rt){return(0,Ae.m)(Rt)?(0,oe.w)(()=>zt,Rt):(0,oe.w)(()=>zt)}var Be=j(5363),et=j(4004),ft=j(590),ke=j(9468),tt=j(9300),Nt=j(5813),yt=j(2011),se=j(9808),He=j(7128);j(127);const ze=new p.OlP("angularfire2.auth.use-emulator"),Se=new p.OlP("angularfire2.auth.settings"),Ee=new p.OlP("angularfire2.auth.tenant-id"),le=new p.OlP("angularfire2.auth.langugage-code"),Ve=new p.OlP("angularfire2.auth.use-device-language"),we=new p.OlP("angularfire.auth.persistence"),lt=(zt,Rt,wt,At,sn,Vt,wn,$t)=>(0,yt.cc)(`${zt.name}.auth`,"AngularFireAuth",zt.name,()=>{const fn=Rt.runOutsideAngular(()=>zt.auth());if(wt&&fn.useEmulator(...wt),At&&(fn.tenantId=At),fn.languageCode=sn,Vt&&fn.useDeviceLanguage(),wn)for(const[an,vn]of Object.entries(wn))fn.settings[an]=vn;return $t&&fn.setPersistence($t),fn},[wt,At,sn,Vt,wn,$t]);let Fe=(()=>{class zt{constructor(wt,At,sn,Vt,wn,$t,fn,an,vn,qn,Qn,Vr){const er=new O.x,cr=(0,Q.of)(void 0).pipe((0,Be.Q)(wn.outsideAngular),(0,oe.w)(()=>Vt.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,820)))),(0,et.U)(()=>(0,yt.on)(wt,Vt,At)),(0,et.U)(tr=>lt(tr,Vt,$t,an,vn,qn,fn,Qn)),ae({bufferSize:1,refCount:!1}));if((0,se.PM)(sn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Q.of)(null);else{cr.pipe((0,ft.P)()).subscribe();const ur=cr.pipe((0,oe.w)(un=>un.getRedirectResult().then(kn=>kn,()=>null)),Nt.iC,ae({bufferSize:1,refCount:!1})),Jn=cr.pipe((0,oe.w)(un=>new De.y(kn=>({unsubscribe:Vt.runOutsideAngular(()=>un.onAuthStateChanged(pn=>kn.next(pn),pn=>kn.error(pn),()=>kn.complete()))})))),Ht=cr.pipe((0,oe.w)(un=>new De.y(kn=>({unsubscribe:Vt.runOutsideAngular(()=>un.onIdTokenChanged(pn=>kn.next(pn),pn=>kn.error(pn),()=>kn.complete()))}))));this.authState=ur.pipe(ut(Jn),(0,ke.R)(wn.outsideAngular),(0,Be.Q)(wn.insideAngular)),this.user=ur.pipe(ut(Ht),(0,ke.R)(wn.outsideAngular),(0,Be.Q)(wn.insideAngular)),this.idToken=this.user.pipe((0,oe.w)(un=>un?(0,pe.D)(un.getIdToken()):(0,Q.of)(null))),this.idTokenResult=this.user.pipe((0,oe.w)(un=>un?(0,pe.D)(un.getIdTokenResult()):(0,Q.of)(null))),this.credential=(0,he.T)(ur,er,this.authState.pipe((0,tt.h)(un=>!un))).pipe((0,et.U)(un=>(null==un?void 0:un.user)?un:null),(0,ke.R)(wn.outsideAngular),(0,Be.Q)(wn.insideAngular))}return(0,yt.pX)(this,cr,Vt,{spy:{apply:(tr,ur,Jn)=>{(tr.startsWith("signIn")||tr.startsWith("createUser"))&&Jn.then(Ht=>er.next(Ht))}}})}}return zt.\u0275fac=function(wt){return new(wt||zt)(p.LFG(yt.Dh),p.LFG(yt.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Nt.HU),p.LFG(ze,8),p.LFG(Se,8),p.LFG(Ee,8),p.LFG(le,8),p.LFG(Ve,8),p.LFG(we,8),p.LFG(He.nm,8))},zt.\u0275prov=p.Yz7({token:zt,factory:zt.\u0275fac,providedIn:"any"}),zt})()},7566:(kt,Ue,j)=>{j.d(Ue,{ST:()=>Jc,yb:()=>q_});var p=j(5e3),O=j(4986),Q=j(8306),De=j(8996),pe=j(9646),he=j(5813),be=j(4482),Ce=j(5403);function Me(){return(0,be.e)((i,e)=>{let t,o=!1;i.subscribe((0,Ce.x)(e,u=>{const d=t;t=u,o&&e.next([d,u]),o=!0}))})}var ae=j(4671);function Ae(i,e){return i===e}var le,ut=j(8675),Be=j(4004),et=j(5026),ft=j(9300),ke=j(2011),tt=j(9808),yt=(j(820),j(3942)),se=j(5861),He=j(9681),Xe=j(4859),$e=j(1877),ze=j(2090),Se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ee={},Ve=Ve||{},we=Se||self;function lt(){}function Fe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Jt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Rt="closure_uid_"+(1e9*Math.random()>>>0),wt=0;function At(i,e,t){return i.call.apply(i.bind,arguments)}function sn(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Vt(i,e,t){return(Vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?At:sn).apply(null,arguments)}function wn(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function $t(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,d){for(var m=Array(arguments.length-2),C=2;C<arguments.length;C++)m[C-2]=arguments[C];return e.prototype[u].apply(o,m)}}function fn(){this.s=this.s,this.o=this.o}var vn={};fn.prototype.s=!1,fn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function zt(i){return Object.prototype.hasOwnProperty.call(i,Rt)&&i[Rt]||(i[Rt]=++wt)}(this);delete vn[i]}},fn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Qn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,u="string"==typeof i?i.split(""):i;for(let d=0;d<o;d++)d in u&&e.call(t,u[d],d,i)};function er(i){return Array.prototype.concat.apply([],arguments)}function cr(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function tr(i){return/^[\s\xa0]*$/.test(i)}var un,ur=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Jn(i,e){return-1!=i.indexOf(e)}function Ht(i,e){return i<e?-1:i>e?1:0}e:{var kn=we.navigator;if(kn){var pn=kn.userAgent;if(pn){un=pn;break e}}un=""}function Ur(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Li(i){const e={};for(const t in i)e[t]=i[t];return e}var Qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let d=0;d<Qe.length;d++)t=Qe[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function _e(i){return _e[" "](i),i}_e[" "]=lt;var lr,i,xe=Jn(un,"Opera"),st=Jn(un,"Trident")||Jn(un,"MSIE"),bt=Jn(un,"Edge"),In=bt||st,mn=Jn(un,"Gecko")&&!(Jn(un.toLowerCase(),"webkit")&&!Jn(un,"Edge"))&&!(Jn(un,"Trident")||Jn(un,"MSIE"))&&!Jn(un,"Edge"),on=Jn(un.toLowerCase(),"webkit")&&!Jn(un,"Edge");function Yr(){var i=we.document;return i?i.documentMode:void 0}e:{var Un="",It=(i=un,mn?/rv:([^\);]+)(\)|;)/.exec(i):bt?/Edge\/([\d\.]+)/.exec(i):st?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):on?/WebKit\/(\S+)/.exec(i):xe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(It&&(Un=It?It[1]:""),st){var Rn=Yr();if(null!=Rn&&Rn>parseFloat(Un)){lr=String(Rn);break e}}lr=Un}var yn={};var Zt=we.document&&st&&(Yr()||parseInt(lr,10))||void 0,Cn=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{we.addEventListener("test",lt,e),we.removeEventListener("test",lt,e)}catch(t){}return i}();function Kt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function ue(i,e){if(Kt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(mn){e:{try{_e(e.nodeName);var u=!0;break e}catch(d){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ie[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ue.Z.h.call(this)}}Kt.prototype.h=function(){this.defaultPrevented=!0},$t(ue,Kt);var ie={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Oe(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++qe,this.ca=this.fa=!1}function Ct(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function qt(i){this.src=i,this.g={},this.h=0}function dn(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=qn(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(Ct(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Xt(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==o)return u}return-1}qt.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var m=Xt(i,e,o,u);return-1<m?(e=i[m],t||(e.fa=!1)):((e=new Oe(e,this.src,d,!!o,u)).fa=t,i.push(e)),e};var Dn="closure_lm_"+(1e6*Math.random()|0),gr={};function ln(i,e,t,o,u){if(o&&o.once)return mr(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)ln(i,e[d],t,o,u);return null}return t=dt(t),i&&i[me]?i.N(e,t,Jt(o)?!!o.capture:!!o,u):or(i,e,t,!1,o,u)}function or(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var m=Jt(u)?!!u.capture:!!u,C=Vi(i);if(C||(i[Dn]=C=new qt(i)),(t=C.add(e,t,o,m,d)).proxy)return t;if(o=function jr(){var e=Dr;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Cn||(u=m),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Rr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function mr(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)mr(i,e[d],t,o,u);return null}return t=dt(t),i&&i[me]?i.O(e,t,Jt(o)?!!o.capture:!!o,u):or(i,e,t,!0,o,u)}function Ds(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)Ds(i,e[d],t,o,u);else o=Jt(o)?!!o.capture:!!o,t=dt(t),i&&i[me]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Xt(d=i.g[e],t,o,u))&&(Ct(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Vi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Xt(e,t,o,u)),(t=-1<i?e[i]:null)&&Hr(t))}function Hr(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[me])dn(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Rr(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Vi(e))?(dn(t,i),0==t.h&&(t.src=null,e[Dn]=null)):Ct(i)}}}function Rr(i){return i in gr?gr[i]:gr[i]="on"+i}function Dr(i,e){if(i.ca)i=!0;else{e=new ue(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Hr(i),i=t.call(o,e)}return i}function Vi(i){return(i=i[Dn])instanceof qt?i:null}var Nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function dt(i){return"function"==typeof i?i:(i[Nr]||(i[Nr]=function(e){return i.handleEvent(e)}),i[Nr])}function Bt(){fn.call(this),this.i=new qt(this),this.P=this,this.I=null}function nn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Kt(e,i);else if(e instanceof Kt)e.target=e.target||i;else{var u=e;fe(e=new Kt(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var m=e.g=t[d];u=hr(m,o,!0,e)&&u}if(u=hr(m=e.g=i,o,!0,e)&&u,u=hr(m,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=hr(m=e.g=t[d],o,!1,e)&&u}function hr(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var m=e[d];if(m&&!m.ca&&m.capture==t){var C=m.listener,H=m.ia||m.src;m.fa&&dn(i.i,m),u=!1!==C.call(H,o)&&u}}return u&&!o.defaultPrevented}$t(Bt,fn),Bt.prototype[me]=!0,Bt.prototype.removeEventListener=function(i,e,t,o){Ds(this,i,e,t,o)},Bt.prototype.M=function(){if(Bt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Ct(t[o]);delete i.g[e],i.h--}}this.I=null},Bt.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Bt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var di=we.JSON.stringify;function Or(){var i=_i;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ai,Bn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new yr,i=>i.reset());class yr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yi(i){we.setTimeout(()=>{throw i},0)}function En(i,e){Ai||function Ui(){var i=we.Promise.resolve(void 0);Ai=function(){i.then(kr)}}(),Ji||(Ai(),Ji=!0),_i.add(i,e)}var Ji=!1,_i=new class zn{constructor(){this.h=this.g=null}add(e,t){const o=Bn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function kr(){for(var i;i=Or();){try{i.h.call(i.g)}catch(t){yi(t)}var e=Bn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Ji=!1}function Tr(i,e){Bt.call(this),this.h=i||1,this.g=e||we,this.j=Vt(this.kb,this),this.l=Date.now()}function $r(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Ie(i,e,t){if("function"==typeof i)t&&(i=Vt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Vt(i.handleEvent,i)}return 2147483647<Number(e)?-1:we.setTimeout(i,e||0)}function de(i){i.g=Ie(()=>{i.g=null,i.i&&(i.i=!1,de(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}$t(Tr,Bt),(le=Tr.prototype).da=!1,le.S=null,le.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nn(this,"tick"),this.da&&($r(this),this.start()))}},le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){Tr.Z.M.call(this),$r(this),delete this.g};class Le extends fn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:de(this)}M(){super.M(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nt(i){fn.call(this),this.h=i,this.g={}}$t(nt,fn);var pt=[];function Pt(i,e,t,o){Array.isArray(t)||(t&&(pt[0]=t.toString()),t=pt);for(var u=0;u<t.length;u++){var d=ln(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Xn(i){Ur(i.g,function(e,t){this.g.hasOwnProperty(t)&&Hr(e)},i),i.g={}}function Zn(){this.g=!0}function Bi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oo(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<u.length;m++)u[m]=""}}}return di(t)}catch(C){return e}}(i,t)+(o?" "+o:"")})}nt.prototype.M=function(){nt.Z.M.call(this),Xn(this)},nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zn.prototype.Aa=function(){this.g=!1},Zn.prototype.info=function(){};var nr={},Ks=null;function ao(){return Ks=Ks||new Bt}function vi(i){Kt.call(this,nr.Ma,i)}function ss(i){const e=ao();nn(e,new vi(e,i))}function Xi(i,e){Kt.call(this,nr.STAT_EVENT,i),this.stat=e}function Br(i){const e=ao();nn(e,new Xi(e,i))}function Gr(i,e){Kt.call(this,nr.Na,i),this.size=e}function Ls(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){i()},e)}nr.Ma="serverreachability",$t(vi,Kt),nr.STAT_EVENT="statevent",$t(Xi,Kt),nr.Na="timingevent",$t(Gr,Kt);var hi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ts(){}function As(){}Ts.prototype.h=null;var Js,Qs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function os(){Kt.call(this,"d")}function Mi(){Kt.call(this,"c")}function hs(){}function Ei(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new nt(this),this.P=Jr,this.W=new Tr(i=In?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qr}function Qr(){this.i=null,this.g="",this.h=!1}$t(os,Kt),$t(Mi,Kt),$t(hs,Ts),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},Js=new hs;var Jr=45e3,ji={},Hi={};function Ss(i,e,t){i.K=1,i.v=Dt(W(e)),i.s=t,i.U=!0,as(i,null)}function as(i,e){i.F=Date.now(),ps(i),i.A=W(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),F(t.h,"t",o),i.C=0,t=i.l.H,i.h=new Qr,i.g=Ha(i.l,t?e:null,!i.s),0<i.O&&(i.L=new Le(Vt(i.Ia,i,i.g),i.O)),Pt(i.V,i.g,"readystatechange",i.gb),e=i.H?Li(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ss(1),function Nn(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var m="",C=d.split("&"),H=0;H<C.length;H++){var Z=C[H].split("=");if(1<Z.length){var re=Z[0];Z=Z[1];var ye=re.split("_");m=2<=ye.length&&"type"==ye[1]?m+(re+"=")+Z+"&":m+(re+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function fs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Wr(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=xi(i,t),u==Hi){4==e&&(i.o=4,Br(14),o=!1),Bi(i.j,i.m,null,"[Incomplete Response]");break}if(u==ji){i.o=4,Br(15),Bi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Bi(i.j,i.m,u,null),Us(i,u)}fs(i)&&u!=Hi&&u!=ji&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Br(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),bi(e),e.L=!0,Br(11))):(Bi(i.j,i.m,t,"[Invalid Chunked Response]"),wi(i),wr(i))}function xi(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Hi:(t=Number(e.substring(t,o)),isNaN(t)?ji:(o+=1)+t>e.length?Hi:(e=e.substr(o,t),i.C=o+t,e))}function ps(i){i.Y=Date.now()+i.P,Vs(i,i.P)}function Vs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ls(Vt(i.eb,i),e)}function Er(i){i.B&&(we.clearTimeout(i.B),i.B=null)}function wr(i){0==i.l.G||i.I||Os(i.l,i)}function wi(i){Er(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,$r(i.W),Xn(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Us(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ui(t.i,i)))if(t.I=i.N,!i.J&&ui(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(Z){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ls(Vt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;ns(t),Po(t)}ni(t),Br(18)}if(1>=ti(t.i)&&t.ka){try{t.ka()}catch(Z){}t.ka=void 0}}else $i(t,11)}else if((i.J||t.g==i)&&ns(t),!tr(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let Z=u[e];if(t.U=Z[0],Z=Z[1],2==t.G)if("c"==Z[0]){t.J=Z[1],t.la=Z[2];const re=Z[3];null!=re&&(t.ma=re,t.h.info("VER="+t.ma));const ye=Z[4];null!=ye&&(t.za=ye,t.h.info("SVER="+t.za));const Ke=Z[5];null!=Ke&&"number"==typeof Ke&&0<Ke&&(t.K=o=1.5*Ke,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const ht=i.g;if(ht){const gt=ht.g?ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gt){var d=o.i;!d.g&&(Jn(gt,"spdy")||Jn(gt,"quic")||Jn(gt,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(ir(d,d.h),d.h=null))}if(o.D){const Qt=ht.g?ht.g.getResponseHeader("X-HTTP-Session-Id"):null;Qt&&(o.sa=Qt,Ye(o.F,o.D,Qt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var m=i;if((o=t).oa=Ia(o,o.H?o.la:null,o.W),m.J){Ms(o.i,m);var C=m,H=o.K;H&&C.setTimeout(H),C.B&&(Er(C),ps(C)),o.g=m}else Jo(o);0<t.l.length&&Do(t)}else"stop"!=Z[0]&&"close"!=Z[0]||$i(t,7);else 3==t.G&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?$i(t,7):zr(t):"noop"!=Z[0]&&t.j&&t.j.wa(Z),t.A=0)}ss(4)}catch(Z){}}function ms(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Fe(i)||"string"==typeof i)Qn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Fe(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;o=function gs(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Fe(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length;for(var d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}}function br(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof br)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function Fr(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Ri(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)Ri(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function Ri(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(le=Ei.prototype).setTimeout=function(i){this.P=i},le.gb=function(i){i=i.target;const e=this.L;e&&3==Rs(i)?e.l():this.Ia(i)},le.Ia=function(i){try{if(i==this.g)e:{const re=Rs(this.g);var e=this.g.Da();const ye=this.g.ba();if(!(3>re)&&(3!=re||In||this.g&&(this.h.h||this.g.ga()||ho(this.g)))){this.I||4!=re||7==e||ss(8==e||0>=ye?3:2),Er(this);var t=this.g.ba();this.N=t;t:if(fs(this)){var o=ho(this.g);i="";var u=o.length,d=4==Rs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){wi(this),wr(this);var m="";break t}this.h.i=new we.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==t,function jn(i,e,t,o,u,d,m){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.X,re,t),this.i){if(this.$&&!this.J){t:{if(this.g){var C,H=this.g;if((C=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tr(C)){var Z=C;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,Br(12),wi(this),wr(this);break e}Bi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Us(this,t)}this.U?(Wr(this,re,m),In&&this.i&&3==re&&(Pt(this.V,this.W,"tick",this.fb),this.W.start())):(Bi(this.j,this.m,m,null),Us(this,m)),4==re&&wi(this),this.i&&!this.I&&(4==re?Os(this.l,this):(this.i=!1,ps(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),wi(this),wr(this)}}}catch(re){}},le.fb=function(){if(this.g){var i=Rs(this.g),e=this.g.ga();this.C<e.length&&(Er(this),Wr(this,i,e),this.i&&4!=i&&ps(this))}},le.cancel=function(){this.I=!0,wi(this)},le.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Si(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ss(3),Br(17)),wi(this),this.o=2,wr(this)):Vs(this,this.Y-i)},(le=br.prototype).R=function(){Fr(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},le.T=function(){return Fr(this),this.g.concat()},le.get=function(i,e){return Ri(this.h,i)?this.h[i]:e},le.set=function(i,e){Ri(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},le.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],d=this.get(u);i.call(e,d,u,this)}};var us=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function N(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof N){this.g=void 0!==e?e:i.g,P(this,i.j),this.s=i.s,Y(this,i.i),ce(this,i.m),this.l=i.l,e=i.h;var t=new Pi;t.i=e.i,e.g&&(t.g=new br(e.g),t.h=e.h),Ze(this,t),this.o=i.o}else i&&(t=String(i).match(us))?(this.g=!!e,P(this,t[1]||"",!0),this.s=hn(t[2]||""),Y(this,t[3]||"",!0),ce(this,t[4]),this.l=hn(t[5]||"",!0),Ze(this,t[6]||"",!0),this.o=hn(t[7]||"")):(this.g=!!e,this.h=new Pi(null,this.g))}function W(i){return new N(i)}function P(i,e,t){i.j=t?hn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Y(i,e,t){i.i=t?hn(e,!0):e}function ce(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ze(i,e,t){e instanceof Pi?(i.h=e,function S(i,e){e&&!i.j&&(Ni(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Bs(this,o),F(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Sn(e,ai)),i.h=new Pi(e,i.g))}function Ye(i,e,t){i.h.set(e,t)}function Dt(i){return Ye(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function hn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Sn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Ar),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ar(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}N.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Sn(e,Kn,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Sn(e,Kn,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Sn(t,"/"==t.charAt(0)?Oi:rr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Sn(t,tn)),i.join("")};var Kn=/[#\/\?@]/g,rr=/[#\?:]/g,Oi=/[#\?]/g,ai=/[#\?@]/g,tn=/#/g;function Pi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ni(i){i.g||(i.g=new br,i.h=0,i.i&&function _r(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Bs(i,e){Ni(i),e=R(i,e),Ri(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Ri((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Fr(i)))}function Xs(i,e){return Ni(i),e=R(i,e),Ri(i.g.h,e)}function F(i,e,t){Bs(i,e),0<t.length&&(i.i=null,i.g.set(R(i,e),cr(t)),i.h+=t.length)}function R(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Pe(i){this.l=i||Ut,i=we.PerformanceNavigationTiming?0<(i=we.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(we.g&&we.g.Ea&&we.g.Ea()&&we.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=Pi.prototype).add=function(i,e){Ni(this),this.i=null,i=R(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},le.forEach=function(i,e){Ni(this),this.g.forEach(function(t,o){Qn(t,function(u){i.call(e,u,o,this)},this)},this)},le.T=function(){Ni(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],d=0;d<u.length;d++)t.push(e[o]);return t},le.R=function(i){Ni(this);var e=[];if("string"==typeof i)Xs(this,i)&&(e=er(e,this.g.get(R(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=er(e,i[t])}return e},le.set=function(i,e){return Ni(this),this.i=null,Xs(this,i=R(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},le.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var m=u;""!==o[d]&&(m+="="+encodeURIComponent(String(o[d]))),i.push(m)}}return this.i=i.join("&")};var Ut=10;function cn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ti(i){return i.h?1:i.g?i.g.size:0}function ui(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ir(i,e){i.g?i.g.add(e):i.h=e}function Ms(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ys(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return cr(i.i)}function xs(){}function wa(){this.g=new xs}function ua(i,e,t){const o=t||"";try{ms(i,function(u,d){let m=u;Jt(u)&&(m=di(u)),e.push(o+d+"="+encodeURIComponent(m))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ir(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(d){}}function ki(i){this.l=i.$b||null,this.j=i.ib||!1}function bo(i,e){Bt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pe.prototype.cancel=function(){if(this.i=ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},xs.prototype.stringify=function(i){return we.JSON.stringify(i,void 0)},xs.prototype.parse=function(i){return we.JSON.parse(i,void 0)},$t(ki,Ts),ki.prototype.g=function(){return new bo(this.l,this.j)},ki.prototype.i=function(i){return function(){return i}}({}),$t(bo,Bt);var js=0;function _s(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function lo(i){i.readyState=4,i.l=null,i.j=null,i.A=null,es(i)}function es(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(le=bo.prototype).open=function(i,e){if(this.readyState!=js)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,es(this)},le.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||we).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lo(this)),this.readyState=js},le.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==we.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_s(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},le.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?lo(this):es(this),3==this.readyState&&_s(this)}},le.Ua=function(i){this.g&&(this.response=this.responseText=i,lo(this))},le.Ta=function(i){this.g&&(this.response=i,lo(this))},le.ha=function(){this.g&&lo(this)},le.setRequestHeader=function(i,e){this.v.append(i,e)},le.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var la=we.JSON.parse;function qr(i){Bt.call(this),this.headers=new br,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Io,this.K=this.L=!1}$t(qr,Bt);var Io="",Zo=/^https?$/i,Ko=["POST","PUT"];function Yo(i){return"content-type"==i.toLowerCase()}function co(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Hs(i),$s(i)}function Hs(i){i.D||(i.D=!0,nn(i,"complete"),nn(i,"error"))}function ca(i){if(i.h&&void 0!==Ve&&(!i.C[1]||4!=Rs(i)||2!=i.ba()))if(i.v&&4==Rs(i))Ie(i.Fa,0,i);else if(nn(i,"readystatechange"),4==Rs(i)){i.h=!1;try{const C=i.ba();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===C){var u=String(i.H).match(us)[1]||null;if(!u&&we.self&&we.self.location){var d=we.self.location.protocol;u=d.substr(0,d.length-1)}o=!Zo.test(u?u.toLowerCase():"")}t=o}if(t)nn(i,"complete"),nn(i,"success");else{i.m=6;try{var m=2<Rs(i)?i.g.statusText:""}catch(H){m=""}i.j=m+" ["+i.ba()+"]",Hs(i)}}finally{$s(i)}}}function $s(i,e){if(i.g){da(i);const t=i.g,o=i.C[0]?lt:null;i.g=null,i.C=null,e||nn(i,"ready");try{t.onreadystatechange=o}catch(u){}}}function da(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(we.clearTimeout(i.A),i.A=null)}function Rs(i){return i.g?i.g.readyState:0}function ho(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Io:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Qo(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function ja(i){let e="";return Ur(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ye(i,e,t))}function Zr(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Co(i){this.za=0,this.l=[],this.h=new Zn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zr("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zr("baseRetryDelayMs",5e3,i),this.$a=Zr("retryDelaySeedMs",1e4,i),this.Ya=Zr("forwardChannelMaxRetries",2,i),this.ra=Zr("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Pe(i&&i.concurrentRequestLimit),this.Ca=new wa,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function zr(i){if(ha(i),3==i.G){var e=i.V++,t=W(i.F);Ye(t,"SID",i.J),Ye(t,"RID",e),Ye(t,"TYPE","terminate"),ts(i,t),(e=new Ei(i,i.h,e,void 0)).K=2,e.v=Dt(W(t)),t=!1,we.navigator&&we.navigator.sendBeacon&&(t=we.navigator.sendBeacon(e.v.toString(),"")),!t&&we.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ha(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ps(e)}fo(i)}function Po(i){i.g&&(bi(i),i.g.cancel(),i.g=null)}function ha(i){Po(i),i.u&&(we.clearTimeout(i.u),i.u=null),ns(i),i.i.cancel(),i.m&&("number"==typeof i.m&&we.clearTimeout(i.m),i.m=null)}function fa(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Do(i)}function Do(i){cn(i.i)||i.m||(i.m=!0,En(i.Ha,i),i.C=0)}function ba(i,e){var t;t=e?e.m:i.V++;const o=W(i.F);Ye(o,"SID",i.J),Ye(o,"RID",t),Ye(o,"AID",i.U),ts(i,o),i.o&&i.s&&Qo(o,i.o,i.s),t=new Ei(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=To(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ir(i.i,t),Ss(t,o,e)}function ts(i,e){i.j&&ms({},function(t,o){Ye(e,o,t)})}function To(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Vt(i.j.Oa,i.j,i):null;e:{var u=i.l;let d=-1;for(;;){const m=["count="+t];-1==d?0<t?(d=u[0].h,m.push("ofs="+d)):d=0:m.push("ofs="+d);let C=!0;for(let H=0;H<t;H++){let Z=u[H].h;const re=u[H].g;if(Z-=d,0>Z)d=Math.max(0,u[H].h-100),C=!1;else try{ua(re,m,"req"+Z+"_")}catch(ye){o&&o(re)}}if(C){o=m.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function Jo(i){i.g||i.u||(i.Y=1,En(i.Ga,i),i.A=0)}function ni(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Ls(Vt(i.Ga,i),No(i,i.A)),i.A++,0))}function bi(i){null!=i.B&&(we.clearTimeout(i.B),i.B=null)}function au(i){i.g=new Ei(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=W(i.oa);Ye(e,"RID","rpc"),Ye(e,"SID",i.J),Ye(e,"CI",i.N?"0":"1"),Ye(e,"AID",i.U),ts(i,e),Ye(e,"TYPE","xmlhttp"),i.o&&i.s&&Qo(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Dt(W(e)),t.s=null,t.U=!0,as(t,i)}function ns(i){null!=i.v&&(we.clearTimeout(i.v),i.v=null)}function Os(i,e){var t=null;if(i.g==e){ns(i),bi(i),i.g=null;var o=2}else{if(!ui(i.i,e))return;t=e.D,Ms(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;nn(o=ao(),new Gr(o,t,e,u)),Do(i)}else Jo(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function ou(i,e){return!(ti(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Ls(Vt(i.Ha,i,e),No(i,i.C)),i.C++,0)))}(i,e)||2==o&&ni(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:$i(i,5);break;case 4:$i(i,10);break;case 3:$i(i,6);break;default:$i(i,2)}}function No(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function $i(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Vt(i.jb,i);t||(t=new N("//www.google.com/images/cleardot.gif"),we.location&&"http"==we.location.protocol||P(t,"https"),Dt(t)),function uo(i,e){const t=new Zn;if(we.Image){const o=new Image;o.onload=wn(Ir,t,o,"TestLoadImage: loaded",!0,e),o.onerror=wn(Ir,t,o,"TestLoadImage: error",!1,e),o.onabort=wn(Ir,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=wn(Ir,t,o,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Br(2);i.G=0,i.j&&i.j.va(e),fo(i),ha(i)}function fo(i){i.G=0,i.I=-1,i.j&&((0!=ys(i.i).length||0!=i.l.length)&&(i.i.i.length=0,cr(i.l),i.l.length=0),i.j.ua())}function Ia(i,e,t){let o=function Fn(i){return i instanceof N?W(i):new N(i,void 0)}(t);if(""!=o.i)e&&Y(o,e+"."+o.i),ce(o,o.m);else{const u=we.location;o=function An(i,e,t,o){var u=new N(null,void 0);return i&&P(u,i),e&&Y(u,e),t&&ce(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&Ur(i.aa,function(u,d){Ye(o,d,u)}),t=i.sa,(e=i.D)&&t&&Ye(o,e,t),Ye(o,"VER",i.ma),ts(i,o),o}function Ha(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qr(t&&i.Ba&&!i.qa?new ki({ib:!0}):i.qa)).L=i.H,e}function uu(){}function $a(){if(st&&!(10<=Number(Zt)))throw Error("Environmental error: no available transport.")}function Cr(i,e){Bt.call(this),this.g=new Co(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!tr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Gi(this)}function ko(i){os.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function vs(){Mi.call(this),this.status=1}function Gi(i){this.g=i}(le=qr.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Js.g(),this.C=function Ys(i){return i.h||(i.h=i.i())}(this.u?this.u:Js),this.g.onreadystatechange=Vt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void co(this,d)}i=t||"";const u=new br(this.headers);o&&ms(o,function(d,m){u.set(m,d)}),o=function Vr(i){e:{var e=Yo;const t=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=we.FormData&&i instanceof we.FormData,!(0<=qn(Ko,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(d,m){this.g.setRequestHeader(m,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{da(this),0<this.B&&((this.K=function Ba(i){return st&&function Lt(){return function ct(i){var e=yn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=ur(String(lr)).split("."),t=ur("9").split("."),o=Math.max(e.length,t.length);for(let m=0;0==i&&m<o;m++){var u=e[m]||"",d=t[m]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=Ht(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Ht(0==u[2].length,0==d[2].length)||Ht(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.pa,this)):this.A=Ie(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){co(this,d)}},le.pa=function(){void 0!==Ve&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))},le.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,nn(this,"complete"),nn(this,"abort"),$s(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$s(this,!0)),qr.Z.M.call(this)},le.Fa=function(){this.s||(this.F||this.v||this.l?ca(this):this.cb())},le.cb=function(){ca(this)},le.ba=function(){try{return 2<Rs(this)?this.g.status:-1}catch(i){return-1}},le.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},le.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),la(e)}},le.Da=function(){return this.m},le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=Co.prototype).ma=8,le.G=1,le.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},le.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Ei(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=Li(d),fe(d,this.P)):d=this.P),null===this.o&&(u.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=To(this,u,e),Ye(t=W(this.F),"RID",i),Ye(t,"CVER",22),this.D&&Ye(t,"X-HTTP-Session-Id",this.D),ts(this,t),this.o&&d&&Qo(t,this.o,d),ir(this.i,u),this.Ra&&Ye(t,"TYPE","init"),this.ja?(Ye(t,"$req",e),Ye(t,"SID","null"),u.$=!0,Ss(u,t,null)):Ss(u,t,e),this.G=2}}else 3==this.G&&(i?ba(this,i):0==this.l.length||cn(this.i)||ba(this))},le.Ga=function(){if(this.u=null,au(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Ls(Vt(this.bb,this),i)}},le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Br(10),Po(this),au(this))},le.ab=function(){null!=this.v&&(this.v=null,Po(this),ni(this),Br(19))},le.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Br(2)):(this.h.info("Failed to ping google.com"),Br(1))},(le=uu.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Oa=function(){},$a.prototype.g=function(i,e){return new Cr(i,e)},$t(Cr,Bt),Cr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),En(Vt(i.hb,i,e))),Br(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Ia(i,null,i.W),Do(i)},Cr.prototype.close=function(){zr(this.g)},Cr.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,fa(this.g,e)}else this.v?((e={}).__data__=di(i),fa(this.g,e)):fa(this.g,i)},Cr.prototype.M=function(){this.g.j=null,delete this.j,zr(this.g),delete this.g,Cr.Z.M.call(this)},$t(ko,os),$t(vs,Mi),$t(Gi,uu),Gi.prototype.xa=function(){nn(this.g,"a")},Gi.prototype.wa=function(i){nn(this.g,new ko(i))},Gi.prototype.va=function(i){nn(this.g,new vs(i))},Gi.prototype.ua=function(){nn(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,Cr.prototype.send=Cr.prototype.u,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,wo.COMPLETE="complete",As.EventType=Qs,Qs.OPEN="a",Qs.CLOSE="b",Qs.ERROR="c",Qs.MESSAGE="d",Bt.prototype.listen=Bt.prototype.N,qr.prototype.listenOnce=qr.prototype.O,qr.prototype.getLastError=qr.prototype.La,qr.prototype.getLastErrorCode=qr.prototype.Da,qr.prototype.getStatus=qr.prototype.ba,qr.prototype.getResponseJson=qr.prototype.Qa,qr.prototype.getResponseText=qr.prototype.ga,qr.prototype.send=qr.prototype.ea;var Fo=Ee.createWebChannelTransport=function(){return new $a},Xo=Ee.getStatEventTarget=function(){return ao()},Lo=Ee.ErrorCode=hi,Pr=Ee.EventType=wo,lu=Ee.Event=nr,Gs=Ee.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ca=Ee.FetchXmlHttpFactory=ki,Es=Ee.WebChannel=As,ml=Ee.XhrIo=qr;const Ga="@firebase/firestore";class fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");let Ao="9.6.11";const ws=new $e.Yd("@firebase/firestore");function So(){return ws.logLevel}function vt(i,...e){if(ws.logLevel<=$e.in.DEBUG){const t=e.map(E);ws.debug(`Firestore (${Ao}): ${i}`,...t)}}function vr(i,...e){if(ws.logLevel<=$e.in.ERROR){const t=e.map(E);ws.error(`Firestore (${Ao}): ${i}`,...t)}}function b(i,...e){if(ws.logLevel<=$e.in.WARN){const t=e.map(E);ws.warn(`Firestore (${Ao}): ${i}`,...t)}}function E(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function y(i="Unexpected state"){const e=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+i;throw vr(e),new Error(e)}function A(i,e){i||y()}function $(i,e){return i}const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends ze.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class je{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ot{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fi.UNAUTHENTICATED))}shutdown(){}}class Yt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fr{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const d=Z=>this.i!==u?(u=this.i,t(Z)):Promise.resolve();let m=new je;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new je,e.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const Z=m;e.enqueueRetryable((0,se.Z)(function*(){yield Z.promise,yield d(o.currentUser)}))},H=Z=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(Z=>H(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?H(Z):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new je)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(A("string"==typeof o.accessToken),new Ot(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return A(null===e||"string"==typeof e),new fi(e)}}class $n{constructor(e,t,o){this.type="FirstParty",this.user=fi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Ps{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new $n(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ls{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vo{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=d=>{null!=d.error&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.p;return this.p=d.token,vt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?u(d):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(A("string"==typeof t.token),this.p=t.token,new ls(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Xr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function zs(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}Xr.A=-1;class yl{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=zs(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length))}return o}}function Ln(i,e){return i<e?-1:i>e?1:0}function to(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function Da(i){return i+"\0"}class li{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return li.fromMillis(Date.now())}static fromDate(e){return li.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new li(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new li(0,0))}static max(){return new Gt(new li(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function _l(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ta(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function D(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class I{constructor(e,t,o){void 0===t?t=0:t>e.length&&y(),void 0===o?o=e.length-t:o>e.length-t&&y(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===I.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof I?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const d=e.get(u),m=t.get(u);if(d<m)return-1;if(d>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class x extends I{construct(e,t,o){return new x(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new x(t)}static emptyPath(){return new x([])}}const G=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ee extends I{construct(e,t,o){return new ee(e,t,o)}static isValidIdentifier(e){return G.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ee.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ee(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const d=()=>{if(0===o.length)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let m=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[u+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=H,u+=2}else"`"===C?(m=!m,u++):"."!==C||m?(o+=C,u++):(d(),u++)}if(d(),m)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ee(t)}static emptyPath(){return new ee([])}}class ve{constructor(e){this.fields=e,e.sort(ee.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class at{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new at(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new at(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const Mt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _n(i){if(A(!!i),"string"==typeof i){let e=0;const t=Mt.exec(i);if(A(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:bn(i.seconds),nanos:bn(i.nanos)}}function bn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Sr(i){return"string"==typeof i?at.fromBase64String(i):at.fromUint8Array(i)}function ar(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Lr(i){const e=i.mapValue.fields.__previous_value__;return ar(e)?Lr(e):e}function ri(i){const e=_n(i.mapValue.fields.__local_write_time__.timestampValue);return new li(e.seconds,e.nanos)}class zi{constructor(e,t,o,u,d,m,C,H){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=C,this.useFetchStreams=H}}class Yn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yn&&e.projectId===this.projectId&&e.database===this.database}}function Kr(i){return null==i}function Wi(i){return 0===i&&1/i==-1/0}function Ii(i){return"number"==typeof i&&Number.isInteger(i)&&!Wi(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Et{constructor(e){this.path=e}static fromPath(e){return new Et(x.fromString(e))}static fromName(e){return new Et(x.fromString(e).popFirst(5))}static empty(){return new Et(x.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===x.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return x.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new x(e.slice()))}}const Uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ws={nullValue:"NULL_VALUE"};function ci(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ar(i)?4:na(i)?9:10:y()}function cs(i,e){if(i===e)return!0;const t=ci(i);if(t!==ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ri(i).isEqual(ri(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=_n(o.timestampValue),m=_n(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Sr(i.bytesValue).isEqual(Sr(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return bn(o.geoPointValue.latitude)===bn(u.geoPointValue.latitude)&&bn(o.geoPointValue.longitude)===bn(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return bn(o.integerValue)===bn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=bn(o.doubleValue),m=bn(u.doubleValue);return d===m?Wi(d)===Wi(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return to(i.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(_l(d)!==_l(m))return!1;for(const C in d)if(d.hasOwnProperty(C)&&(void 0===m[C]||!cs(d[C],m[C])))return!1;return!0}(i,e);default:return y()}var u}function no(i,e){return void 0!==(i.values||[]).find(t=>cs(t,e))}function ea(i,e){if(i===e)return 0;const t=ci(i),o=ci(e);if(t!==o)return Ln(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ln(i.booleanValue,e.booleanValue);case 2:return function(u,d){const m=bn(u.integerValue||u.doubleValue),C=bn(d.integerValue||d.doubleValue);return m<C?-1:m>C?1:m===C?0:isNaN(m)?isNaN(C)?0:-1:1}(i,e);case 3:return vl(i.timestampValue,e.timestampValue);case 4:return vl(ri(i),ri(e));case 5:return Ln(i.stringValue,e.stringValue);case 6:return function(u,d){const m=Sr(u),C=Sr(d);return m.compareTo(C)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),C=d.split("/");for(let H=0;H<m.length&&H<C.length;H++){const Z=Ln(m[H],C[H]);if(0!==Z)return Z}return Ln(m.length,C.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const m=Ln(bn(u.latitude),bn(d.latitude));return 0!==m?m:Ln(bn(u.longitude),bn(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const m=u.values||[],C=d.values||[];for(let H=0;H<m.length&&H<C.length;++H){const Z=ea(m[H],C[H]);if(Z)return Z}return Ln(m.length,C.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){const m=u.fields||{},C=Object.keys(m),H=d.fields||{},Z=Object.keys(H);C.sort(),Z.sort();for(let re=0;re<C.length&&re<Z.length;++re){const ye=Ln(C[re],Z[re]);if(0!==ye)return ye;const Ke=ea(m[C[re]],H[Z[re]]);if(0!==Ke)return Ke}return Ln(C.length,Z.length)}(i.mapValue,e.mapValue);default:throw y()}}function vl(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ln(i,e);const t=_n(i),o=_n(e),u=Ln(t.seconds,o.seconds);return 0!==u?u:Ln(t.nanos,o.nanos)}function ro(i){return Ou(i)}function Ou(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=_n(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Sr(i.bytesValue).toBase64():"referenceValue"in i?Et.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const m of o.values||[])d?d=!1:u+=",",u+=Ou(m);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",m=!0;for(const C of u)m?m=!1:d+=",",d+=`${C}:${Ou(o.fields[C])}`;return d+"}"}(i.mapValue):y();var e}function ta(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function cu(i){return!!i&&"integerValue"in i}function xo(i){return!!i&&"arrayValue"in i}function za(i){return!!i&&"nullValue"in i}function Bo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Wa(i){return!!i&&"mapValue"in i}function du(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ta(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=du(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(i.arrayValue.values[t]);return e}return Object.assign({},i)}function na(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function hu(i){return"nullValue"in i?Ws:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ta(Yn.empty(),Et.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:y()}function Pu(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ta(Yn.empty(),Et.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Uo:y()}function El(i,e){return void 0===i?e:void 0===e||ea(i,e)>0?i:e}function M(i,e){return void 0===i?e:void 0===e||ea(i,e)<0?i:e}class k{constructor(e){this.value=e}static empty(){return new k({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Wa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=ee.emptyPath(),o={},u=[];e.forEach((m,C)=>{if(!t.isImmediateParentOf(C)){const H=this.getFieldsMap(t);this.applyChanges(H,o,u),o={},u=[],t=C.popLast()}m?o[C.lastSegment()]=du(m):u.push(C.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,u)}delete(e){const t=this.field(e.popLast());Wa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Wa(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Ta(t,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new k(du(this.value))}}function K(i){const e=[];return Ta(i.fields,(t,o)=>{const u=new ee([t]);if(Wa(o)){const d=K(o.mapValue).fields;if(0===d.length)e.push(u);else for(const m of d)e.push(u.child(m))}else e.push(u)}),new ve(e)}class ne{constructor(e,t,o,u,d,m){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new ne(e,0,Gt.min(),Gt.min(),k.empty(),0)}static newFoundDocument(e,t,o){return new ne(e,1,t,Gt.min(),o,0)}static newNoDocument(e,t){return new ne(e,2,t,Gt.min(),k.empty(),0)}static newUnknownDocument(e,t){return new ne(e,3,t,Gt.min(),k.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=k.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=k.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ne&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ne(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Re{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function We(i){return i.fields.find(e=>2===e.kind)}function _t(i){return i.fields.filter(e=>2!==e.kind)}Re.UNKNOWN_ID=-1;class xt{constructor(e,t){this.fieldPath=e,this.kind=t}}class Mn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Mn(0,gn.min())}}function On(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Gt.fromTimestamp(1e9===o?new li(t+1,0):new li(t,o));return new gn(u,Et.empty(),e)}function pr(i){return new gn(i.readTime,i.key,-1)}class gn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new gn(Gt.min(),Et.empty(),-1)}static max(){return new gn(Gt.max(),Et.empty(),-1)}}function Ns(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Et.comparator(i.documentKey,e.documentKey),0!==t?t:Ln(i.largestBatchId,e.largestBatchId))}class qi{constructor(e,t=null,o=[],u=[],d=null,m=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=m,this.endAt=C,this.P=null}}function qa(i,e=null,t=[],o=[],u=null,d=null,m=null){return new qi(i,e,t,o,u,d,m)}function qs(i){const e=$(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+ro(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Kr(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>ro(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>ro(o)).join(",")),e.P=t}return e.P}function io(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!xf(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!cs(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Kd(i.startAt,e.startAt)&&Kd(i.endAt,e.endAt)}function Zs(i){return Et.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Za(i,e){return i.filters.filter(t=>t instanceof Fi&&t.field.isEqual(e))}function Xc(i,e,t){let o,u=!0;for(const d of Za(i,e)){let m,C=!0;switch(d.op){case"<":case"<=":m=hu(d.value);break;case"==":case"in":case">=":m=d.value;break;case">":m=d.value,C=!1;break;case"!=":case"not-in":m=Ws}El(o,m)===m&&(o=m,u=C)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];El(o,m)===m&&(o=m,u=t.inclusive);break}return{value:o,inclusive:u}}function wl(i,e,t){let o,u=!0;for(const d of Za(i,e)){let m,C=!0;switch(d.op){case">=":case">":m=Pu(d.value),C=!1;break;case"==":case"in":case"<=":m=d.value;break;case"<":m=d.value,C=!1;break;case"!=":case"not-in":m=Uo}M(o,m)===m&&(o=m,u=C)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];M(o,m)===m&&(o=m,u=t.inclusive);break}return{value:o,inclusive:u}}class Fi extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new Wd(e,t,o):"array-contains"===t?new bl(e,o):"in"===t?new Sf(e,o):"not-in"===t?new Mf(e,o):"array-contains-any"===t?new qd(e,o):new Fi(e,t,o)}static V(e,t,o){return"in"===t?new Tf(e,o):new Af(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ea(t,this.value)):null!==t&&ci(this.value)===ci(t)&&this.v(ea(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Wd extends Fi{constructor(e,t,o){super(e,t,o),this.key=Et.fromName(o.referenceValue)}matches(e){const t=Et.comparator(e.key,this.key);return this.v(t)}}class Tf extends Fi{constructor(e,t){super(e,"in",t),this.keys=Aa(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Af extends Fi{constructor(e,t){super(e,"not-in",t),this.keys=Aa(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Aa(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Et.fromName(o.referenceValue))}class bl extends Fi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xo(t)&&no(t.arrayValue,this.value)}}class Sf extends Fi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&no(this.value.arrayValue,t)}}class Mf extends Fi{constructor(e,t){super(e,"not-in",t)}matches(e){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!no(this.value.arrayValue,t)}}class qd extends Fi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>no(this.value.arrayValue,o))}}class ia{constructor(e,t){this.position=e,this.inclusive=t}}class Il{constructor(e,t="asc"){this.field=e,this.dir=t}}function xf(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Zd(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],m=i.position[u];if(o=d.field.isKeyField()?Et.comparator(Et.fromName(m.referenceValue),t.key):ea(m,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Kd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!cs(i.position[t],e.position[t]))return!1;return!0}class jo{constructor(e,t=null,o=[],u=[],d=null,m="F",C=null,H=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=m,this.startAt=C,this.endAt=H,this.D=null,this.C=null}}function lc(i,e,t,o,u,d,m,C){return new jo(i,e,t,o,u,d,m,C)}function sa(i){return new jo(i)}function cc(i){return!Kr(i.limit)&&"F"===i.limitType}function Nu(i){return!Kr(i.limit)&&"L"===i.limitType}function Yd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ku(i){for(const e of i.filters)if(e.S())return e.field;return null}function Cl(i){return null!==i.collectionGroup}function fu(i){const e=$(i);if(null===e.D){e.D=[];const t=ku(e),o=Yd(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new Il(t)),e.D.push(new Il(ee.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.D.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Il(ee.keyField(),d))}}}return e.D}function Ro(i){const e=$(i);if(!e.C)if("F"===e.limitType)e.C=qa(e.path,e.collectionGroup,fu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of fu(e))t.push(new Il(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new ia(e.endAt.position,!e.endAt.inclusive):null,u=e.startAt?new ia(e.startAt.position,!e.startAt.inclusive):null;e.C=qa(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.C}function dc(i,e,t){return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Fu(i,e){return io(Ro(i),Ro(e))&&i.limitType===e.limitType}function Qd(i){return`${qs(Ro(i))}|lt:${i.limitType}`}function ed(i){return`Query(target=${function ra(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${ro(o.value)}`;var o}).join(", ")}]`),Kr(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>ro(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>ro(t)).join(",")),`Target(${e})`}(Ro(i))}; limitType=${i.limitType})`}function td(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Et.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,d,m){const C=Zd(u,d,m);return u.inclusive?C<=0:C<0}(t.startAt,fu(t),o)||t.endAt&&!function(u,d,m){const C=Zd(u,d,m);return u.inclusive?C>=0:C>0}(t.endAt,fu(t),o)));var t,o}function hc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Jd(i){return(e,t)=>{let o=!1;for(const u of fu(i)){const d=pa(u,e,t);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function pa(i,e,t){const o=i.field.isKeyField()?Et.comparator(e.key,t.key):function(u,d,m){const C=d.data.field(u),H=m.data.field(u);return null!==C&&null!==H?ea(C,H):y()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return y()}}function Lu(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wi(e)?"-0":e}}function nd(i){return{integerValue:""+i}}function Rf(i,e){return Ii(e)?nd(e):Lu(i,e)}class Dl{constructor(){this._=void 0}}function Sg(i,e,t){return i instanceof pu?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof gu?eh(i,e):i instanceof Vu?Ka(i,e):function(o,u){const d=Xd(o,u),m=th(d)+th(o.k);return cu(d)&&cu(o.k)?nd(m):Lu(o.M,m)}(i,e)}function Of(i,e,t){return i instanceof gu?eh(i,e):i instanceof Vu?Ka(i,e):t}function Xd(i,e){return i instanceof Tl?cu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class pu extends Dl{}class gu extends Dl{constructor(e){super(),this.elements=e}}function eh(i,e){const t=mu(e);for(const o of i.elements)t.some(u=>cs(u,o))||t.push(o);return{arrayValue:{values:t}}}class Vu extends Dl{constructor(e){super(),this.elements=e}}function Ka(i,e){let t=mu(e);for(const o of i.elements)t=t.filter(u=>!cs(u,o));return{arrayValue:{values:t}}}class Tl extends Dl{constructor(e,t){super(),this.M=e,this.k=t}}function th(i){return bn(i.integerValue||i.doubleValue)}function mu(i){return xo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Uu{constructor(e,t){this.field=e,this.transform=t}}class Al{constructor(e,t){this.version=e,this.transformResults=t}}class Zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Sl{}function Mg(i,e,t){i instanceof _u?function(o,u,d){const m=o.value.clone(),C=Ml(o.fieldTransforms,u,d.transformResults);m.setAll(C),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Bu?function(o,u,d){if(!yu(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=Ml(o.fieldTransforms,u,d.transformResults),C=u.data;C.setAll(nh(o)),C.setAll(m),u.convertToFoundDocument(d.version,C).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fc(i,e,t){var u;i instanceof _u?function(o,u,d){if(!yu(o.precondition,u))return;const m=o.value.clone(),C=rh(o.fieldTransforms,d,u);m.setAll(C),u.convertToFoundDocument(gc(u),m).setHasLocalMutations()}(i,e,t):i instanceof Bu?function(o,u,d){if(!yu(o.precondition,u))return;const m=rh(o.fieldTransforms,d,u),C=u.data;C.setAll(nh(o)),C.setAll(m),u.convertToFoundDocument(gc(u),C).setHasLocalMutations()}(i,e,t):yu(i.precondition,u=e)&&u.convertToNoDocument(Gt.min())}function xg(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=Xd(o.transform,u||null);null!=d&&(null==t&&(t=k.empty()),t.set(o.field,d))}return t||null}function pc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&to(t,o,(u,d)=>function Ho(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof gu&&o instanceof gu||t instanceof Vu&&o instanceof Vu?to(t.elements,o.elements,cs):t instanceof Tl&&o instanceof Tl?cs(t.k,o.k):t instanceof pu&&o instanceof pu);var t,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function gc(i){return i.isFoundDocument()?i.version:Gt.min()}class _u extends Sl{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Bu extends Sl{constructor(e,t,o,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}}function nh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Ml(i,e,t){const o=new Map;A(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],m=d.transform,C=e.data.field(d.field);o.set(d.field,Of(m,C,t[u]))}return o}function rh(i,e,t){const o=new Map;for(const u of i){const d=u.transform,m=t.data.field(u.field);o.set(u.field,Sg(d,m,e))}return o}class xl extends Sl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Rl extends Sl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class rd{constructor(e){this.count=e}}var Ki,dr;function Ol(i){switch(i){default:return y();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function mc(i){if(void 0===i)return vr("GRPC error has no .code"),z.UNKNOWN;switch(i){case Ki.OK:return z.OK;case Ki.CANCELLED:return z.CANCELLED;case Ki.UNKNOWN:return z.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return z.INTERNAL;case Ki.UNAVAILABLE:return z.UNAVAILABLE;case Ki.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ki.NOT_FOUND:return z.NOT_FOUND;case Ki.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ki.ABORTED:return z.ABORTED;case Ki.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ki.DATA_LOSS:return z.DATA_LOSS;default:return y()}}(dr=Ki||(Ki={}))[dr.OK=0]="OK",dr[dr.CANCELLED=1]="CANCELLED",dr[dr.UNKNOWN=2]="UNKNOWN",dr[dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dr[dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dr[dr.NOT_FOUND=5]="NOT_FOUND",dr[dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",dr[dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",dr[dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",dr[dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dr[dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dr[dr.ABORTED=10]="ABORTED",dr[dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",dr[dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",dr[dr.INTERNAL=13]="INTERNAL",dr[dr.UNAVAILABLE=14]="UNAVAILABLE",dr[dr.DATA_LOSS=15]="DATA_LOSS";class Ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(t,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return D(this.inner)}size(){return this.innerSize}}class sr{constructor(e,t){this.comparator=e,this.root=t||ks.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ks.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ks.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pl(this.root,e,this.comparator,!0)}}class Pl{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ks{constructor(e,t,o,u,d){this.key=e,this.value=t,this.color=null!=o?o:ks.RED,this.left=null!=u?u:ks.EMPTY,this.right=null!=d?d:ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,d){return new ks(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ks.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return ks.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw y();const e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)}}ks.EMPTY=null,ks.RED=!0,ks.BLACK=!1,ks.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(i,e,t,o,u){return this}insert(i,e,t){return new ks(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ei{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new id(this.data.getIterator())}getIteratorFrom(e){return new id(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof ei)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ei(this.comparator);return t.data=e,t}}class id{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ju(i){return i.hasNext()?i.getNext():void 0}const yc=new sr(Et.comparator);function $o(){return yc}const ih=new sr(Et.comparator);function sd(){return ih}function _c(){return new Ya(i=>i.toString(),(i,e)=>i.isEqual(e))}const Rg=new sr(Et.comparator),Nl=new ei(Et.comparator);function Gn(...i){let e=Nl;for(const t of i)e=e.add(t);return e}const kl=new ei(Ln);function vu(){return kl}class Eu{constructor(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,rs.createSynthesizedTargetChangeForCurrentChange(e,t)),new Eu(Gt.min(),o,vu(),$o(),Gn())}}class rs{constructor(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new rs(at.EMPTY_BYTE_STRING,t,Gn(),Gn(),Gn())}}class ga{constructor(e,t,o,u){this.O=e,this.removedTargetIds=t,this.key=o,this.F=u}}class vc{constructor(e,t){this.targetId=e,this.$=t}}class po{constructor(e,t,o=at.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Hu{constructor(){this.B=0,this.L=Fl(),this.U=at.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Gn(),t=Gn(),o=Gn();return this.L.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:y()}}),new rs(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=Fl()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class od{constructor(e){this.nt=e,this.st=new Map,this.it=$o(),this.rt=sh(),this.ot=new ei(Ln)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,u)=>{this.ft(u)&&t(u)})}_t(e){const t=e.targetId,o=e.$.count,u=this.wt(t);if(u){const d=u.target;if(Zs(d))if(0===o){const m=new Et(d.path);this.ct(t,m,ne.newNoDocument(m,Gt.min()))}else A(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((d,m)=>{const C=this.wt(m);if(C){if(d.current&&Zs(C.target)){const H=new Et(C.target.path);null!==this.it.get(H)||this.It(m,H)||this.ct(m,H,ne.newNoDocument(H,e))}d.j&&(t.set(m,d.H()),d.J())}});let o=Gn();this.rt.forEach((d,m)=>{let C=!0;m.forEachWhile(H=>{const Z=this.wt(H);return!Z||2===Z.purpose||(C=!1,!1)}),C&&(o=o.add(d))}),this.it.forEach((d,m)=>m.setReadTime(e));const u=new Eu(e,t,this.ot,this.it,o);return this.it=$o(),this.rt=sh(),this.ot=new ei(Ln),u}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,t)?u.Y(t,1):u.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Hu,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new ei(Ln),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||vt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Hu),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function sh(){return new sr(Et.comparator)}function Fl(){return new sr(Et.comparator)}const ad={asc:"ASCENDING",desc:"DESCENDING"},oh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ah{constructor(e,t){this.databaseId=e,this.N=t}}function Ll(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oa(i,e){return i.N?e.toBase64():e.toUint8Array()}function uh(i,e){return Ll(i,e.toTimestamp())}function bs(i){return A(!!i),Gt.fromTimestamp(function(e){const t=_n(e);return new li(t.seconds,t.nanos)}(i))}function Vl(i,e){return(t=i,new x(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lh(i){const e=x.fromString(i);return A(Tn(e)),e}function $u(i,e){return Vl(i.databaseId,e.path)}function ii(i,e){const t=lh(e);if(t.get(1)!==i.databaseId.projectId)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Et(ma(t))}function Ul(i,e){return Vl(i.databaseId,e)}function Ec(i){const e=lh(i);return 4===e.length?x.emptyPath():ma(e)}function Bl(i){return new x(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ma(i){return A(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Gu(i,e,t){return{name:$u(i,e),fields:t.value.mapValue.fields}}function wc(i,e,t){const o=ii(i,e.name),u=bs(e.updateTime),d=new k({mapValue:{fields:e.fields}}),m=ne.newFoundDocument(o,u,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function wu(i,e){let t;if(e instanceof _u)t={update:Gu(i,e.key,e.value)};else if(e instanceof xl)t={delete:$u(i,e.key)};else if(e instanceof Bu)t={update:Gu(i,e.key,e.data),updateMask:en(e.fieldMask)};else{if(!(e instanceof Rl))return y();t={verify:$u(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const m=d.transform;if(m instanceof pu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Vu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Tl)return{fieldPath:d.field.canonicalString(),increment:m.k};throw y()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:uh(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:y()),t;var u}function ud(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Zi.updateTime(bs(u.updateTime)):void 0!==u.exists?Zi.exists(u.exists):Zi.none():Zi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,m){let C=null;"setToServerValue"in m?(A("REQUEST_TIME"===m.setToServerValue),C=new pu):"appendMissingElements"in m?C=new gu(m.appendMissingElements.values||[]):"removeAllFromArray"in m?C=new Vu(m.removeAllFromArray.values||[]):"increment"in m?C=new Tl(d,m.increment):y();const H=ee.fromServerFormat(m.fieldPath);return new Uu(H,C)}(i,u)):[];var u;if(e.update){const u=ii(i,e.update.name),d=new k({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new ve((e.updateMask.fieldPaths||[]).map(Z=>ee.fromServerFormat(Z)));return new Bu(u,d,m,t,o)}return new _u(u,d,t,o)}if(e.delete){const u=ii(i,e.delete);return new xl(u,t)}if(e.verify){const u=ii(i,e.verify);return new Rl(u,t)}return y()}function dh(i,e){return{documents:[Ul(i,e.path)]}}function hh(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Ul(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ul(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(H){if(0===H.length)return;const Z=H.map(re=>function(ye){if("=="===ye.op){if(Bo(ye.value))return{unaryFilter:{field:J(ye.field),op:"IS_NAN"}};if(za(ye.value))return{unaryFilter:{field:J(ye.field),op:"IS_NULL"}}}else if("!="===ye.op){if(Bo(ye.value))return{unaryFilter:{field:J(ye.field),op:"IS_NOT_NAN"}};if(za(ye.value))return{unaryFilter:{field:J(ye.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:J(ye.field),op:U(ye.op),value:ye.value}}}(re));return 1===Z.length?Z[0]:{compositeFilter:{op:"AND",filters:Z}}}(e.filters);u&&(t.structuredQuery.where=u);const d=function(H){if(0!==H.length)return H.map(Z=>{return{field:J((re=Z).field),direction:v(re.dir)};var re})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=(Z=e.limit,i.N||Kr(Z)?Z:{value:Z});var Z,C,H;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),t}function g(i){let e=Ec(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){A(1===o);const re=t.from[0];re.allDescendants?u=re.collectionId:e=e.child(re.collectionId)}let d=[];t.where&&(d=f(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(re=>{return new Il(Te((ye=re).field),function(Ke){switch(Ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ye.direction));var ye}));let C=null;t.limit&&(C=function(re){let ye;return ye="object"==typeof re?re.value:re,Kr(ye)?null:ye}(t.limit));let H=null;var re;t.startAt&&(H=new ia((re=t.startAt).values||[],!!re.before));let Z=null;return t.endAt&&(Z=function(re){return new ia(re.values||[],!re.before)}(t.endAt)),lc(e,u,m,d,C,"F",H,Z)}function f(i){return i?void 0!==i.unaryFilter?[Ft(i)]:void 0!==i.fieldFilter?[Je(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>f(e)).reduce((e,t)=>e.concat(t)):y():[]}function v(i){return ad[i]}function U(i){return oh[i]}function J(i){return{fieldPath:i.canonicalString()}}function Te(i){return ee.fromServerFormat(i.fieldPath)}function Je(i){return Fi.create(Te(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ft(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Te(i.unaryFilter.field);return Fi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Te(i.unaryFilter.field);return Fi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Te(i.unaryFilter.field);return Fi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Te(i.unaryFilter.field);return Fi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return y()}}function en(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tn(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Wt(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Oo(e)),e=Ci(i.get(t),e);return Oo(e)}function Ci(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Oo(i){return i+"\x01\x01"}function go(i){const e=i.length;if(A(e>=2),2===e)return A("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),x.emptyPath();const t=e-2,o=[];let u="";for(let d=0;d<e;){const m=i.indexOf("\x01",d);switch((m<0||m>t)&&y(),i.charAt(m+1)){case"\x01":const C=i.substring(d,m);let H;0===u.length?H=C:(u+=C,H=u,u=""),o.push(H);break;case"\x10":u+=i.substring(d,m),u+="\0";break;case"\x11":u+=i.substring(d,m+1);break;default:y()}d=m+2}return new x(o)}const jl=["userId","batchId"];function Qa(i,e){return[i,Wt(e)]}function bc(i,e,t){return[i,Wt(e),t]}const kf={},Ja=["prefixPath","collectionGroup","readTime","documentId"],Ic=["prefixPath","collectionGroup","documentId"],ld=["collectionGroup","readTime","prefixPath","documentId"],cd=["canonicalId","targetId"],Cc=["targetId","path"],Ff=["path","targetId"],dd=["collectionId","parent"],Lf=["indexId","uid"],Ay=["uid","sequenceNumber"],Sy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],My=["indexId","uid","orderedDocumentKey"],Og=["userId","collectionPath","documentId"],Vf=["userId","collectionPath","largestBatchId"],Pg=["userId","collectionGroup","largestBatchId"],fh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xy=[...fh,"documentOverlays"],Ng=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kg=[...Ng,"indexConfiguration","indexState","indexEntries"],Uf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rt((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof rt?t:rt.resolve(t)}catch(t){return rt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):rt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):rt.reject(t)}static resolve(e){return new rt((t,o)=>{t(e)})}static reject(e){return new rt((t,o)=>{o(e)})}static waitFor(e){return new rt((t,o)=>{let u=0,d=0,m=!1;e.forEach(C=>{++u,C.next(()=>{++d,m&&d===u&&t()},H=>o(H))}),m=!0,d===u&&t()})}static or(e){let t=rt.resolve(!1);for(const o of e)t=t.next(u=>u?rt.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,d)=>{o.push(t.call(this,u,d))}),this.waitFor(o)}}class hd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new je,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new fd(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=mh(o.target.error);this.At.reject(new fd(e,u))}}static open(e,t,o,u){try{return new hd(t,e.transaction(u,o))}catch(d){throw new fd(t,d)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Fg(t)}}class Sa{constructor(e,t,o){this.name=e,this.version=t,this.bt=o,12.2===Sa.Vt((0,ze.z$)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return vt("SimpleDb","Removing database:",e),qu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,ze.hl)())return!1;if(Sa.St())return!0;const e=(0,ze.z$)(),t=Sa.Vt(e),o=0<t&&t<10,u=Sa.Dt(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,se.Z)(function*(){return t.db||(vt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=m=>{o(m.target.result)},d.onblocked=()=>{u(new fd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const C=m.target.error;u("VersionError"===C.name?new X(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new X(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new fd(e,C))},d.onupgradeneeded=m=>{vt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.bt.kt(m.target.result,d.transaction,m.oldVersion,t.version).next(()=>{vt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var d=this;return(0,se.Z)(function*(){const m="readonly"===t;let C=0;for(;;){++C;try{d.db=yield d.Nt(e);const H=hd.open(d.db,e,m?"readonly":"readwrite",o),Z=u(H).next(re=>(H.Pt(),re)).catch(re=>(H.abort(re),rt.reject(re))).toPromise();return Z.catch(()=>{}),yield H.Rt,Z}catch(H){const Z="FirebaseError"!==H.name&&C<3;if(vt("SimpleDb","Transaction failed with error:",H.message,"Retrying:",Z),d.close(),!Z)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ph{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return qu(this.Ft.delete())}}class fd extends X{constructor(e,t){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wu(i){return"IndexedDbTransactionError"===i.name}class Fg{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(vt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),qu(o)}add(e){return vt("SimpleDb","ADD",this.store.name,e,e),qu(this.store.add(e))}get(e){return qu(this.store.get(e)).next(t=>(void 0===t&&(t=null),vt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return vt("SimpleDb","DELETE",this.store.name,e),qu(this.store.delete(e))}count(){return vt("SimpleDb","COUNT",this.store.name),qu(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.Kt(u,(m,C)=>{d.push(C)}).next(()=>d)}{const u=this.store.getAll(o.range);return new rt((d,m)=>{u.onerror=C=>{m(C.target.error)},u.onsuccess=C=>{d(C.target.result)}})}}Gt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new rt((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}Qt(e,t){vt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const u=this.cursor(o);return this.Kt(u,(d,m,C)=>C.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.Kt(u,t)}zt(e){const t=this.cursor({});return new rt((o,u)=>{t.onerror=d=>{const m=mh(d.target.error);u(m)},t.onsuccess=d=>{const m=d.target.result;m?e(m.primaryKey,m.value).next(C=>{C?m.continue():o()}):o()}})}Kt(e,t){const o=[];return new rt((u,d)=>{e.onerror=m=>{d(m.target.error)},e.onsuccess=m=>{const C=m.target.result;if(!C)return void u();const H=new ph(C),Z=t(C.primaryKey,C.value,H);if(Z instanceof rt){const re=Z.catch(ye=>(H.done(),rt.reject(ye)));o.push(re)}H.isDone?u():null===H.Lt?C.continue():C.continue(H.Lt)}}).next(()=>rt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qu(i){return new rt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=mh(o.target.error);t(u)}})}let gh=!1;function mh(i){const e=Sa.Vt((0,ze.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gh||(gh=!0,setTimeout(()=>{throw o},0)),o}}return i}class pd extends zu{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ds(i,e){const t=$(i);return Sa.xt(t.Ht,e)}class yh{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&Mg(d,e,o[u])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&fc(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&fc(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Gt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gn())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(t,o)=>pc(t,o))&&to(this.baseMutations,e.baseMutations,(t,o)=>pc(t,o))}}class gd{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){A(e.mutations.length===o.length);let u=Rg;const d=e.mutations;for(let m=0;m<d.length;m++)u=u.insert(d[m].key,o[m].version);return new gd(e,t,o,u)}}class _h{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xa{constructor(e,t,o,u,d=Gt.min(),m=Gt.min(),C=at.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=C}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Dc{constructor(e){this.Jt=e}}function Bf(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:$u(u=i.Jt,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Ll(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Hl(e.version)};else{if(!e.isUnknownDocument())return y();o.unknownDocument={path:t.path.toArray(),version:Hl(e.version)}}var u,d;return o}function vh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Hl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zu(i){const e=new li(i.seconds,i.nanoseconds);return Gt.fromTimestamp(e)}function Ku(i,e){const t=(e.baseMutations||[]).map(d=>ud(i.Jt,d));for(let d=0;d<e.mutations.length-1;++d){const m=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(m.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>ud(i.Jt,d)),u=li.fromMillis(e.localWriteTimeMs);return new yh(e.batchId,u,t,o)}function Tc(i){const e=Zu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Zu(i.lastLimboFreeSnapshotVersion):Gt.min();let o;var u;return void 0!==i.query.documents?(A(1===(u=i.query).documents.length),o=Ro(sa(Ec(u.documents[0])))):o=Ro(g(i.query)),new Xa(o,i.targetId,0,i.lastListenSequenceNumber,e,t,at.fromBase64String(i.resumeToken))}function Oy(i,e){const t=Hl(e.snapshotVersion),o=Hl(e.lastLimboFreeSnapshotVersion);let u;u=Zs(e.target)?dh(i.Jt,e.target):hh(i.Jt,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qs(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Eh(i){const e=g({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?dc(e,e.limit,"L"):e}function jf(i,e){return new _h(e.largestBatchId,ud(i.Jt,e.overlayMutation))}function Hf(i,e){const t=e.path.lastSegment();return[i,Wt(e.path.popLast()),t]}class Py{getBundleMetadata(e,t){return Lg(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Zu(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Lg(e).put({bundleId:(o=t).id,createTime:Hl(bs(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return ya(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:Eh(u.bundledQuery),readTime:Zu(u.readTime)};var u})}saveNamedQuery(e,t){return ya(e).put({name:(o=t).name,readTime:Hl(bs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Lg(i){return ds(i,"bundles")}function ya(i){return ds(i,"namedQueries")}class $f{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new $f(e,t.uid||"")}getOverlay(e,t){return Ac(e).get(Hf(this.userId,t)).next(o=>o?jf(this.M,o):null)}saveOverlays(e,t,o){const u=[];return o.forEach((d,m)=>{const C=new _h(t,m);u.push(this.Xt(e,C))}),rt.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(m=>u.add(Wt(m.getCollectionPath())));const d=[];return u.forEach(m=>{const C=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);d.push(Ac(e).Qt("collectionPathOverlayIndex",C))}),rt.waitFor(d)}getOverlaysForCollection(e,t,o){const u=_c(),d=Wt(t),m=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Ac(e).qt("collectionPathOverlayIndex",m).next(C=>{for(const H of C){const Z=jf(this.M,H);u.set(Z.getKey(),Z)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const d=_c();let m;const C=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ac(e).Wt({index:"collectionGroupOverlayIndex",range:C},(H,Z,re)=>{const ye=jf(this.M,Z);d.size()<u||ye.largestBatchId===m?(d.set(ye.getKey(),ye),m=ye.largestBatchId):re.done()}).next(()=>d)}Xt(e,t){return Ac(e).put(function(o,u,d){const[m,C,H]=Hf(u,d.mutation.key);return{userId:u,collectionPath:C,documentId:H,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:wu(o.Jt,d.mutation)}}(this.M,this.userId,t))}}function Ac(i){return ds(i,"documentOverlays")}class $l{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(bn(e.integerValue));else if("doubleValue"in e){const o=bn(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),Wi(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Sr(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?na(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):y()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const u of Object.keys(o))this.re(u,t),this.te(o[u],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const u of o)this.te(u,t)}ae(e,t){this.ne(t,37),Et.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Ny(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Vg(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const d=Ny(255&t[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}$l.fe=new $l;class ky{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const u=t.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const u=t.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}this.ye()}Te(e){const t=this.Ee(e),o=Vg(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Re(e){const t=this.Ee(e),o=Vg(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Ug{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Fy{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class md{constructor(){this.De=new ky,this.Ce=new Ug(this.De),this.xe=new Fy(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Yu{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Yu(this.indexId,this.documentKey,this.arrayValue,o)}}function Vn(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Gf(i.arrayValue,e.arrayValue),0!==t?t:(t=Gf(i.directionalValue,e.directionalValue),0!==t?t:Et.comparator(i.documentKey,e.documentKey)))}function Gf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Bg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=We(e);if(void 0!==t&&!this.Be(t))return!1;const o=_t(e);let u=0,d=0;for(;u<o.length&&this.Be(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Fe){const m=o[u];if(!this.Le(this.Fe,m)||!this.Ue(this.Me[d++],m))return!1;++u}for(;u<o.length;++u){const m=o[u];if(d>=this.Me.length||!this.Ue(this.Me[d++],m))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class jg{constructor(){this.qe=new Sc}addToCollectionParentIndex(e,t){return this.qe.add(t),rt.resolve()}getCollectionParents(e,t){return rt.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return rt.resolve()}deleteFieldIndex(e,t){return rt.resolve()}getDocumentsMatchingTarget(e,t){return rt.resolve(null)}getFieldIndex(e,t){return rt.resolve(null)}getFieldIndexes(e,t){return rt.resolve([])}getNextCollectionGroupToUpdate(e){return rt.resolve(null)}updateCollectionGroup(e,t,o){return rt.resolve()}updateIndexEntries(e,t){return rt.resolve()}}class Sc{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new ei(x.comparator),d=!u.has(o);return this.index[t]=u.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new ei(x.comparator)).toArray()}}const mo=new Uint8Array(0);class Hg{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Sc,this.Ge=new Ya(o=>qs(o),(o,u)=>io(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const d={collectionId:o,parent:Wt(u)};return $g(e).put(d)}return rt.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Da(t),""],!1,!0);return $g(e).qt(u).next(d=>{for(const m of d){if(m.collectionId!==t)break;o.push(go(m.parent))}return o})}addFieldIndex(e,t){const o=_a(e),u={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,t){const o=_a(e),u=Mc(e),d=Gl(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Gl(e);let u=!0;const d=new Map;return rt.forEach(this.Qe(t),m=>this.getFieldIndex(e,m).next(C=>{u&&(u=!!C),d.set(m,C)})).next(()=>{if(u){let m=Gn();const C=[];return rt.forEach(d,(H,Z)=>{var re;vt("IndexedDbIndexManager",`Using index ${re=H,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(si=>`${si.fieldPath}:${si.kind}`).join(",")}`} to execute ${qs(t)}`);const ye=function(si,Cs){const Ti=We(Cs);if(void 0===Ti)return null;for(const Qi of Za(si,Ti.fieldPath))switch(Qi.op){case"array-contains-any":return Qi.value.arrayValue.values||[];case"array-contains":return[Qi.value]}return null}(Z,H),Ke=function(si,Cs){const Ti=new Map;for(const Qi of _t(Cs))for(const Eo of Za(si,Qi.fieldPath))switch(Eo.op){case"==":case"in":Ti.set(Qi.fieldPath.canonicalString(),Eo.value);break;case"not-in":case"!=":return Ti.set(Qi.fieldPath.canonicalString(),Eo.value),Array.from(Ti.values())}return null}(Z,H),ht=function(si,Cs){const Ti=[];let Qi=!0;for(const Eo of _t(Cs)){const pl=0===Eo.kind?Xc(si,Eo.fieldPath,si.startAt):wl(si,Eo.fieldPath,si.startAt);if(!pl.value)return null;Ti.push(pl.value),Qi&&(Qi=pl.inclusive)}return new ia(Ti,Qi)}(Z,H),gt=function(si,Cs){const Ti=[];let Qi=!0;for(const Eo of _t(Cs)){const pl=0===Eo.kind?wl(si,Eo.fieldPath,si.endAt):Xc(si,Eo.fieldPath,si.endAt);if(!pl.value)return null;Ti.push(pl.value),Qi&&(Qi=pl.inclusive)}return new ia(Ti,Qi)}(Z,H),Qt=this.je(H,Z,ht),Wn=this.je(H,Z,gt),mi=this.We(H,Z,Ke),Di=this.ze(H.indexId,ye,Qt,!!ht&&ht.inclusive,Wn,!!gt&&gt.inclusive,mi);return rt.forEach(Di,si=>o.Gt(si,t.limit).next(Cs=>{Cs.forEach(Ti=>{const Qi=Et.fromSegments(Ti.documentKey);m.has(Qi)||(m=m.add(Qi),C.push(Qi))})}))}).next(()=>C)}return rt.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,o,u,d,m,C){const H=(null!=t?t.length:1)*Math.max(null!=o?o.length:1,null!=d?d.length:1),Z=H/(null!=t?t.length:1),re=[];for(let ye=0;ye<H;++ye){const Ke=t?this.He(t[ye/Z]):mo,ht=o?this.Je(e,Ke,o[ye%Z],u):this.Ye(e),gt=d?this.Xe(e,Ke,d[ye%Z],m):this.Ye(e+1);re.push(...this.createRange(ht,gt,C.map(Qt=>this.Je(e,Ke,Qt,!0))))}return re}Je(e,t,o,u){const d=new Yu(e,Et.empty(),t,o);return u?d:d.ke()}Xe(e,t,o,u){const d=new Yu(e,Et.empty(),t,o);return u?d.ke():d}Ye(e){return new Yu(e,Et.empty(),mo,mo)}getFieldIndex(e,t){const o=new Bg(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{const m=d.filter(C=>o.$e(C));return m.sort((C,H)=>H.fields.length-C.fields.length),m.length>0?m[0]:null})}Ze(e,t){const o=new md;for(const u of _t(e)){const d=t.data.field(u.fieldPath);if(null==d)return null;const m=o.Ne(u.kind);$l.fe.Zt(d,m)}return o.Se()}He(e){const t=new md;return $l.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const o=new md;return $l.fe.Zt(ta(this.databaseId,t),o.Ne(function(u){const d=_t(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.Se()}We(e,t,o){if(null===o)return[];let u=[];u.push(new md);let d=0;for(const m of _t(e)){const C=o[d++];for(const H of u)if(this.en(t,m.fieldPath)&&xo(C))u=this.nn(u,m,C);else{const Z=H.Ne(m.kind);$l.fe.Zt(C,Z)}}return this.sn(u)}je(e,t,o){return null==o?null:this.We(e,t,o.position)}sn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}nn(e,t,o){const u=[...e],d=[];for(const m of o.arrayValue.values||[])for(const C of u){const H=new md;H.seed(C.Se()),$l.fe.Zt(m,H.Ne(t.kind)),d.push(H)}return d}en(e,t){return!!e.filters.find(o=>o instanceof Fi&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=_a(e),u=Mc(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(d=>{const m=[];return rt.forEach(d,C=>u.get([C.indexId,this.uid]).next(H=>{m.push(function(Z,re){const ye=re?new Mn(re.sequenceNumber,new gn(Zu(re.readTime),new Et(go(re.documentKey)),re.largestBatchId)):Mn.empty(),Ke=Z.fields.map(([ht,gt])=>new xt(ee.fromServerFormat(ht),gt));return new Re(Z.indexId,Z.collectionGroup,Ke,ye)}(C,H))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Ln(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=_a(e),d=Mc(e);return this.rn(e).next(m=>u.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>rt.forEach(C,H=>{return d.put({indexId:H.indexId,uid:this.user.uid||"",sequenceNumber:m,readTime:Hl((Ke=o).readTime),documentKey:Wt(Ke.documentKey.path),largestBatchId:Ke.largestBatchId});var Ke})))}updateIndexEntries(e,t){const o=new Map;return rt.forEach(t,(u,d)=>{const m=o.get(u.collectionGroup);return(m?rt.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(C=>(o.set(u.collectionGroup,C),rt.forEach(C,H=>this.on(e,u,H).next(Z=>{const re=this.un(d,H);return Z.isEqual(re)?rt.resolve():this.an(e,d,H,Z,re)}))))})}cn(e,t,o,u){return Gl(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.tn(o,t.key),documentKey:t.key.path.toArray()})}hn(e,t,o,u){return Gl(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.tn(o,t.key),t.key.path.toArray()])}on(e,t,o){const u=Gl(e);let d=new ei(Vn);return u.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,t)])},(m,C)=>{d=d.add(new Yu(o.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>d)}un(e,t){let o=new ei(Vn);const u=this.Ze(t,e);if(null==u)return o;const d=We(t);if(null!=d){const m=e.data.field(d.fieldPath);if(xo(m))for(const C of m.arrayValue.values||[])o=o.add(new Yu(t.indexId,e.key,this.He(C),u))}else o=o.add(new Yu(t.indexId,e.key,mo,u));return o}an(e,t,o,u,d){vt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(C,H,Z,re,ye){const Ke=C.getIterator(),ht=H.getIterator();let gt=ju(Ke),Qt=ju(ht);for(;gt||Qt;){let Wn=!1,mi=!1;if(gt&&Qt){const Di=Z(gt,Qt);Di<0?mi=!0:Di>0&&(Wn=!0)}else null!=gt?mi=!0:Wn=!0;Wn?(re(Qt),Qt=ju(ht)):mi?(ye(gt),gt=ju(Ke)):(gt=ju(Ke),Qt=ju(ht))}}(u,d,Vn,C=>{m.push(this.cn(e,t,o,C))},C=>{m.push(this.hn(e,t,o,C))}),rt.waitFor(m)}rn(e){let t=1;return Mc(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((m,C)=>Vn(m,C)).filter((m,C,H)=>!C||0!==Vn(m,H[C-1]));const u=[];u.push(e);for(const m of o){const C=Vn(m,e),H=Vn(m,t);if(0===C)u[0]=e.ke();else if(C>0&&H<0)u.push(m),u.push(m.ke());else if(H>0)break}u.push(t);const d=[];for(let m=0;m<u.length;m+=2)d.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,mo,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,mo,[]]));return d}}function $g(i){return ds(i,"collectionParents")}function Gl(i){return ds(i,"indexEntries")}function _a(i){return ds(i,"indexConfiguration")}function Mc(i){return ds(i,"indexState")}const zf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new yo(e,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ly(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],m=IDBKeyRange.only(t.batchId);let C=0;const H=o.Wt({range:m},(re,ye,Ke)=>(C++,Ke.delete()));d.push(H.next(()=>{A(1===C)}));const Z=[];for(const re of t.mutations){const ye=bc(e,re.key.path,t.batchId);d.push(u.delete(ye)),Z.push(re.key)}return rt.waitFor(d).next(()=>Z)}function yd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw y();e=i.noDocument}return JSON.stringify(e).length}yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(41943040,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);class Gg{constructor(e,t,o,u){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=u,this.ln={}}static Yt(e,t,o,u){A(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Gg(d,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ma(e).Wt({index:"userMutationsIndex",range:o},(u,d,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const d=Qu(e),m=Ma(e);return m.add({}).next(C=>{A("number"==typeof C);const H=new yh(C,t,o,u),Z=function(Ke,ht,gt){const Qt=gt.baseMutations.map(mi=>wu(Ke.Jt,mi)),Wn=gt.mutations.map(mi=>wu(Ke.Jt,mi));return{userId:ht,batchId:gt.batchId,localWriteTimeMs:gt.localWriteTime.toMillis(),baseMutations:Qt,mutations:Wn}}(this.M,this.userId,H),re=[];let ye=new ei((Ke,ht)=>Ln(Ke.canonicalString(),ht.canonicalString()));for(const Ke of u){const ht=bc(this.userId,Ke.key.path,C);ye=ye.add(Ke.key.path.popLast()),re.push(m.put(Z)),re.push(d.put(ht,kf))}return ye.forEach(Ke=>{re.push(this.indexManager.addToCollectionParentIndex(e,Ke))}),e.addOnCommittedListener(()=>{this.ln[C]=H.keys()}),rt.waitFor(re).next(()=>H)})}lookupMutationBatch(e,t){return Ma(e).get(t).next(o=>o?(A(o.userId===this.userId),Ku(this.M,o)):null)}fn(e,t){return this.ln[t]?rt.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.ln[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return Ma(e).Wt({index:"userMutationsIndex",range:u},(m,C,H)=>{C.userId===this.userId&&(A(C.batchId>=o),d=Ku(this.M,C)),H.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ma(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(u,d,m)=>{o=d.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ma(e).qt("userMutationsIndex",t).next(o=>o.map(u=>Ku(this.M,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Qa(this.userId,t.path),u=IDBKeyRange.lowerBound(o),d=[];return Qu(e).Wt({range:u},(m,C,H)=>{const[Z,re,ye]=m,Ke=go(re);if(Z===this.userId&&t.path.isEqual(Ke))return Ma(e).get(ye).next(ht=>{if(!ht)throw y();A(ht.userId===this.userId),d.push(Ku(this.M,ht))});H.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ei(Ln);const u=[];return t.forEach(d=>{const m=Qa(this.userId,d.path),C=IDBKeyRange.lowerBound(m),H=Qu(e).Wt({range:C},(Z,re,ye)=>{const[Ke,ht,gt]=Z,Qt=go(ht);Ke===this.userId&&d.path.isEqual(Qt)?o=o.add(gt):ye.done()});u.push(H)}),rt.waitFor(u).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,d=Qa(this.userId,o),m=IDBKeyRange.lowerBound(d);let C=new ei(Ln);return Qu(e).Wt({range:m},(H,Z,re)=>{const[ye,Ke,ht]=H,gt=go(Ke);ye===this.userId&&o.isPrefixOf(gt)?gt.length===u&&(C=C.add(ht)):re.done()}).next(()=>this.dn(e,C))}dn(e,t){const o=[],u=[];return t.forEach(d=>{u.push(Ma(e).get(d).next(m=>{if(null===m)throw y();A(m.userId===this.userId),o.push(Ku(this.M,m))}))}),rt.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return Ly(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),rt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return rt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Qu(e).Wt({range:o},(d,m,C)=>{if(d[0]===this.userId){const H=go(d[1]);u.push(H)}else C.done()}).next(()=>{A(0===u.length)})})}containsKey(e,t){return _d(e,this.userId,t)}wn(e){return wh(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _d(i,e,t){const o=Qa(e,t.path),u=o[1],d=IDBKeyRange.lowerBound(o);let m=!1;return Qu(i).Wt({range:d,jt:!0},(C,H,Z)=>{const[re,ye,Ke]=C;re===e&&ye===u&&(m=!0),Z.done()}).next(()=>m)}function Ma(i){return ds(i,"mutations")}function Qu(i){return ds(i,"documentMutations")}function wh(i){return ds(i,"mutationQueues")}class bu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new bu(0)}static yn(){return new bu(-1)}}class Bv{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const o=new bu(t.highestTargetId);return t.highestTargetId=o.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Gt.fromTimestamp(new li(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.pn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.In(e,u)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(t,o),this.In(e,o))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>xc(e).delete(t.targetId)).next(()=>this.pn(e)).next(o=>(A(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,t,o){let u=0;const d=[];return xc(e).Wt((m,C)=>{const H=Tc(C);H.sequenceNumber<=t&&null===o.get(H.targetId)&&(u++,d.push(this.removeTargetData(e,H)))}).next(()=>rt.waitFor(d)).next(()=>u)}forEachTarget(e,t){return xc(e).Wt((o,u)=>{const d=Tc(u);t(d)})}pn(e){return zg(e).get("targetGlobalKey").next(t=>(A(null!==t),t))}In(e,t){return zg(e).put("targetGlobalKey",t)}Tn(e,t){return xc(e).put(Oy(this.M,t))}En(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=qs(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return xc(e).Wt({range:u,index:"queryTargetsIndex"},(m,C,H)=>{const Z=Tc(C);io(t,Z.target)&&(d=Z,H.done())}).next(()=>d)}addMatchingKeys(e,t,o){const u=[],d=Ju(e);return t.forEach(m=>{const C=Wt(m.path);u.push(d.put({targetId:o,path:C})),u.push(this.referenceDelegate.addReference(e,o,m))}),rt.waitFor(u)}removeMatchingKeys(e,t,o){const u=Ju(e);return rt.forEach(t,d=>{const m=Wt(d.path);return rt.waitFor([u.delete([o,m]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=Ju(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Ju(e);let d=Gn();return u.Wt({range:o,jt:!0},(m,C,H)=>{const Z=go(m[1]),re=new Et(Z);d=d.add(re)}).next(()=>d)}containsKey(e,t){const o=Wt(t.path),u=IDBKeyRange.bound([o],[Da(o)],!1,!0);let d=0;return Ju(e).Wt({index:"documentTargetsIndex",jt:!0,range:u},([m,C],H,Z)=>{0!==m&&(d++,Z.done())}).next(()=>d>0)}Et(e,t){return xc(e).get(t).next(o=>o?Tc(o):null)}}function xc(i){return ds(i,"targets")}function zg(i){return ds(i,"targetGlobal")}function Ju(i){return ds(i,"targetDocuments")}function zl(i){return bh.apply(this,arguments)}function bh(){return bh=(0,se.Z)(function*(i){if(i.code!==z.FAILED_PRECONDITION||i.message!==Uf)throw i;vt("LocalStore","Unexpectedly lost primary lease")}),bh.apply(this,arguments)}function Vy([i,e],[t,o]){const u=Ln(i,t);return 0===u?Ln(e,o):u}class Uy{constructor(e){this.An=e,this.buffer=new ei(Vy),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Vy(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jv{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const o=this.Vn?3e5:6e4;vt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,se.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(u){Wu(u)?vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield zl(u)}yield t.Sn(e)}))}}class Wg{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return rt.resolve(Xr.A);const o=new Uy(t);return this.Dn.forEachTarget(e,u=>o.bn(u.sequenceNumber)).next(()=>this.Dn.xn(e,u=>o.bn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Dn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(zf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zf):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let o,u,d,m,C,H,Z;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),u=this.params.maximumSequenceNumbersToCollect):u=ye,m=Date.now(),this.nthSequenceNumber(e,u))).next(ye=>(o=ye,C=Date.now(),this.removeTargets(e,o,t))).next(ye=>(d=ye,H=Date.now(),this.removeOrphanedDocuments(e,o))).next(ye=>(Z=Date.now(),So()<=$e.in.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-re}ms\n\tDetermined least recently used ${u} in `+(C-m)+`ms\n\tRemoved ${d} targets in `+(H-C)+`ms\n\tRemoved ${ye} documents in `+(Z-H)+`ms\nTotal Duration: ${Z-re}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:ye})))}}class qg{constructor(e,t){this.db=e,this.garbageCollector=new Wg(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}kn(e){let t=0;return this.xn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(o,u)=>t(u))}addReference(e,t,o){return Ih(e,o)}removeReference(e,t,o){return Ih(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Ih(e,t)}On(e,t){return function(o,u){let d=!1;return wh(o).zt(m=>_d(o,m,u).next(C=>(C&&(d=!0),rt.resolve(!C)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Mn(e,(m,C)=>{if(C<=t){const H=this.On(e,m).next(Z=>{if(!Z)return d++,o.getEntry(e,m).next(()=>(o.removeEntry(m,Gt.min()),Ju(e).delete([0,Wt(m.path)])))});u.push(H)}}).next(()=>rt.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Ih(e,t)}Mn(e,t){const o=Ju(e);let u,d=Xr.A;return o.Wt({index:"documentTargetsIndex"},([m,C],{path:H,sequenceNumber:Z})=>{0===m?(d!==Xr.A&&t(new Et(go(u)),d),d=Z,u=H):d=Xr.A}).next(()=>{d!==Xr.A&&t(new Et(go(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ih(i,e){return Ju(i).put((o=i.currentSequenceNumber,{targetId:0,path:Wt(e.path),sequenceNumber:o}));var o}class Ch{constructor(){this.changes=new Ya(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ne.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?rt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hv{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Rc(e).put(o)}removeEntry(e,t,o){return Rc(e).delete(function(u,d){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],vh(d),m[m.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Fn(e,o)))}getEntry(e,t){let o=ne.newInvalidDocument(t);return Rc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(t))},(u,d)=>{o=this.$n(t,d)}).next(()=>o)}Bn(e,t){let o={size:0,document:ne.newInvalidDocument(t)};return Rc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(t))},(u,d)=>{o={document:this.$n(t,d),size:yd(d)}}).next(()=>o)}getEntries(e,t){let o=$o();return this.Ln(e,t,(u,d)=>{const m=this.$n(u,d);o=o.insert(u,m)}).next(()=>o)}Un(e,t){let o=$o(),u=new sr(Et.comparator);return this.Ln(e,t,(d,m)=>{const C=this.$n(d,m);o=o.insert(d,C),u=u.insert(d,yd(m))}).next(()=>({documents:o,qn:u}))}Ln(e,t,o){if(t.isEmpty())return rt.resolve();let u=new ei(Hy);t.forEach(H=>u=u.add(H));const d=IDBKeyRange.bound(Dh(u.first()),Dh(u.last())),m=u.getIterator();let C=m.getNext();return Rc(e).Wt({index:"documentKeyIndex",range:d},(H,Z,re)=>{const ye=Et.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;C&&Hy(C,ye)<0;)o(C,null),C=m.getNext();C&&C.isEqual(ye)&&(o(C,Z),C=m.hasNext()?m.getNext():null),C?re.Ut(Dh(C)):re.done()}).next(()=>{for(;C;)o(C,null),C=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),vh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rc(e).qt(IDBKeyRange.bound(u,d,!0)).next(m=>{let C=$o();for(const H of m){const Z=this.$n(Et.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);C=C.insert(Z.key,Z)}return C})}getAllFromCollectionGroup(e,t,o,u){let d=$o();const m=jy(t,o),C=jy(t,gn.max());return Rc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,C,!0)},(H,Z,re)=>{const ye=this.$n(Et.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);d=d.insert(ye.key,ye),d.size===u&&re.done()}).next(()=>d)}newChangeBuffer(e){return new $v(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return By(e).get("remoteDocumentGlobalKey").next(t=>(A(!!t),t))}Fn(e,t){return By(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const o=function Ry(i,e){let t;if(e.document)t=wc(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Et.fromSegments(e.noDocument.path),u=Zu(e.noDocument.readTime);t=ne.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return y();{const o=Et.fromSegments(e.unknownDocument.path),u=Zu(e.unknownDocument.version);t=ne.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new li(o[0],o[1]);return Gt.fromTimestamp(u)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(Gt.min()))return o}return ne.newInvalidDocument(e)}}class $v extends Ch{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Ya(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new ei((d,m)=>Ln(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const C=this.Gn.get(d);if(t.push(this.Kn.removeEntry(e,d,C.readTime)),m.isValidDocument()){const H=Bf(this.Kn.M,m);u=u.add(d.path.popLast()),o+=yd(H)-C.size,t.push(this.Kn.addEntry(e,d,H))}else if(o-=C.size,this.trackRemovals){const H=Bf(this.Kn.M,m.convertToNoDocument(Gt.min()));t.push(this.Kn.addEntry(e,d,H))}}),u.forEach(d=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Kn.updateMetadata(e,o)),rt.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:o,qn:u})=>(u.forEach((d,m)=>{this.Gn.set(d,{size:m,readTime:o.get(d).readTime})}),o))}}function By(i){return ds(i,"remoteDocumentGlobal")}function Rc(i){return ds(i,"remoteDocumentsV14")}function Dh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jy(i,e){const t=e.documentKey.path.toArray();return[i,vh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Hy(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<t.length-2&&d<o.length-2;++d)if(u=Ln(t[d],o[d]),u)return u;return u=Ln(t.length,o.length),u||(u=Ln(t[t.length-2],o[o.length-2]),u||Ln(t[t.length-1],o[o.length-1]))}class Gv{constructor(e){this.M=e}kt(e,t,o,u){const d=new hd("createOrUpgrade",t);var C;o<1&&u>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jl,{unique:!0}),C.createObjectStore("documentMutations"),$y(e),function(C){C.createObjectStore("remoteDocuments")}(e));let m=rt.resolve();return o<3&&u>=3&&(0!==o&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),$y(e)),m=m.next(()=>function(C){const H=C.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gt.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",Z)}(d))),o<4&&u>=4&&(0!==o&&(m=m.next(()=>function(C,H){return H.store("mutations").qt().next(Z=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jl,{unique:!0});const re=H.store("mutations"),ye=Z.map(Ke=>re.put(Ke));return rt.waitFor(ye)})}(e,d))),m=m.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(m=m.next(()=>this.Qn(d))),o<6&&u>=6&&(m=m.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.jn(d)))),o<7&&u>=7&&(m=m.next(()=>this.Wn(d))),o<8&&u>=8&&(m=m.next(()=>this.zn(e,d))),o<9&&u>=9&&(m=m.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(m=m.next(()=>this.Hn(d))),o<11&&u>=11&&(m=m.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(m=m.next(()=>{!function(C){const H=C.createObjectStore("documentOverlays",{keyPath:Og});H.createIndex("collectionPathOverlayIndex",Vf,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",Pg,{unique:!1})}(e)})),o<13&&u>=13&&(m=m.next(()=>function(C){const H=C.createObjectStore("remoteDocumentsV14",{keyPath:Ja});H.createIndex("documentKeyIndex",Ic),H.createIndex("collectionGroupIndex",ld)}(e)).next(()=>this.Jn(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(m=m.next(()=>{!function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:Lf}).createIndex("sequenceNumberIndex",Ay,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:Sy}).createIndex("documentKeyIndex",My,{unique:!1})}(e)})),m}jn(e){let t=0;return e.store("remoteDocuments").Wt((o,u)=>{t+=yd(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(u=>rt.forEach(u,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",m).next(C=>rt.forEach(C,H=>{A(H.userId===d.userId);const Z=Ku(this.M,H);return Ly(e,d.userId,Z).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Wt((m,C)=>{const H=new x(m),Z=[0,Wt(H)];d.push(t.get(Z).next(re=>re?rt.resolve():t.put({targetId:0,path:Wt(H),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>rt.waitFor(d))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:dd});const o=t.store("collectionParents"),u=new Sc,d=m=>{if(u.add(m)){const C=m.lastSegment(),H=m.popLast();return o.put({collectionId:C,parent:Wt(H)})}};return t.store("remoteDocuments").Wt({jt:!0},(m,C)=>{const H=new x(m);return d(H.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([m,C,H],Z)=>{const re=go(C);return d(re.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((o,u)=>{const d=Tc(u),m=Oy(this.M,d);return t.put(m)})}Jn(e,t){const o=t.store("remoteDocuments"),u=[];return o.Wt((d,m)=>{const C=t.store("remoteDocumentsV14"),H=(Z=m,Z.document?new Et(x.fromString(Z.document.name).popFirst(5)):Z.noDocument?Et.fromSegments(Z.noDocument.path):Z.unknownDocument?Et.fromSegments(Z.unknownDocument.path):y()).path.toArray();var Z;const re={prefixPath:H.slice(0,H.length-2),collectionGroup:H[H.length-2],documentId:H[H.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};u.push(C.put(re))}).next(()=>rt.waitFor(u))}}function $y(i){i.createObjectStore("targetDocuments",{keyPath:Cc}).createIndex("documentTargetsIndex",Ff,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cd,{unique:!0}),i.createObjectStore("targetGlobal")}const Zg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eu{constructor(e,t,o,u,d,m,C,H,Z,re,ye=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Yn=d,this.window=m,this.document=C,this.Xn=Z,this.Zn=re,this.ts=ye,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Ke=>Promise.resolve(),!eu.vt())throw new X(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qg(this,u),this.hs=t+"main",this.M=new Dc(H),this.ls=new Sa(this.hs,this.ts,new Gv(this.M)),this.fs=new Bv(this.referenceDelegate,this.M),this.ds=new Hv(this.M),this._s=new Py,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===re&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(z.FAILED_PRECONDITION,Zg);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Xr(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var o=(0,se.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,se.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,se.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Th(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Wu(e))return vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Wl(e).get("owner").next(t=>rt.resolve(this.bs(t)))}Vs(e){return Th(e).delete(this.clientId)}vs(){var e=this;return(0,se.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=ds(o,"clientMetadata");return u.qt().next(d=>{const m=e.Ds(d,18e5),C=d.filter(H=>-1===m.indexOf(H));return rt.forEach(C,H=>u.delete(H.clientId)).next(()=>C)})}).catch(()=>[]);if(e.ws)for(const o of t)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?rt.resolve(!0):Wl(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new X(z.FAILED_PRECONDITION,Zg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Th(e).qt().next(o=>void 0===this.Ds(o,5e3).find(u=>{if(this.clientId!==u.clientId){const m=!this.inForeground&&u.inForeground,C=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||m&&C)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&vt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,se.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new pd(t,Xr.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(o=>this.Ss(o.updateTimeMs,t)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Th(e).qt().next(t=>this.Ds(t,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Gg.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Hg(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return $f.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,o){vt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=14===(m=this.ts)?kg:13===m?Ng:12===m?xy:11===m?fh:void y();var m;let C;return this.ls.runTransaction(e,u,d,H=>(C=new pd(H,this.es?this.es.next():Xr.A),"readwrite-primary"===t?this.Es(C).next(Z=>!!Z||this.As(C)).next(Z=>{if(!Z)throw vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new X(z.FAILED_PRECONDITION,Uf);return o(C)}).next(Z=>this.Ps(C).next(()=>Z)):this.$s(C).next(()=>o(C)))).then(H=>(C.raiseOnCommittedEvent(),H))}$s(e){return Wl(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new X(z.FAILED_PRECONDITION,Zg)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wl(e).put("owner",t)}static vt(){return Sa.vt()}Rs(e){const t=Wl(e);return t.get("owner").next(o=>this.bs(o)?(vt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):rt.resolve())}Ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(vr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,ze.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const o=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return vt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return vr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){vr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wl(i){return ds(i,"owner")}function Th(i){return ds(i,"clientMetadata")}function Ah(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Wf{constructor(e,t,o){this.ds=e,this.Bs=t,this.indexManager=o}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Us(e,t,o))}Us(e,t,o){return this.ds.getEntry(e,t).next(u=>{for(const d of o)d.applyToLocalView(u);return u})}qs(e,t){e.forEach((o,u)=>{for(const d of t)d.applyToLocalView(u)})}Ks(e,t){return this.ds.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.qs(t,o))}Qs(e,t,o){return Et.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.js(e,t.path):Cl(t)?this.Ws(e,t,o):this.zs(e,t,o);var u}js(e,t){return this.Ls(e,new Et(t)).next(o=>{let u=sd();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ws(e,t,o){const u=t.collectionGroup;let d=sd();return this.indexManager.getCollectionParents(e,u).next(m=>rt.forEach(m,C=>{const H=(Z=t,re=C.child(u),new jo(re,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,re;return this.zs(e,H,o).next(Z=>{Z.forEach((re,ye)=>{d=d.insert(re,ye)})})}).next(()=>d))}zs(e,t,o){let u;return this.ds.getAllFromCollection(e,t.path,o).next(d=>(u=d,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(d=>{for(const m of d)for(const C of m.mutations){const H=C.key;let Z=u.get(H);null==Z&&(Z=ne.newInvalidDocument(H),u=u.insert(H,Z)),fc(C,Z,m.localWriteTime),Z.isFoundDocument()||(u=u.remove(H))}}).next(()=>(u.forEach((d,m)=>{td(t,m)||(u=u.remove(d))}),u))}}class Sh{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Hs=o,this.Js=u}static Ys(e,t){let o=Gn(),u=Gn();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Sh(e,t.fromCache,o,u)}}class Mh{Xs(e){this.Zs=e}Qs(e,t,o,u){return 0===(d=t).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||o.isEqual(Gt.min())?this.ti(e,t):this.Zs.Ks(e,u).next(d=>{const m=this.ei(t,d);return(cc(t)||Nu(t))&&this.ni(t.limitType,m,u,o)?this.ti(e,t):(So()<=$e.in.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ed(t)),this.Zs.Qs(e,t,On(o,-1)).next(C=>(m.forEach(H=>{C=C.insert(H.key,H)}),C)))});var d}ei(e,t){let o=new ei(Jd(e));return t.forEach((u,d)=>{td(e,d)&&(o=o.add(d))}),o}ni(e,t,o,u){if(o.size!==t.size)return!0;const d="F"===e?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}ti(e,t){return So()<=$e.in.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",ed(t)),this.Zs.Qs(e,t,gn.min())}}class Gy{constructor(e,t,o,u){this.persistence=e,this.si=t,this.M=u,this.ii=new sr(Ln),this.ri=new Ya(d=>qs(d),io),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Wf(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function Iu(i,e,t,o){return new Gy(i,e,t,o)}function qf(i,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,se.Z)(function*(i,e){const t=$(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.Bs.getAllMutationBatches(o).next(d=>(u=d,t.ai(e),t.Bs.getAllMutationBatches(o))).next(d=>{const m=[],C=[];let H=Gn();for(const Z of u){m.push(Z.batchId);for(const re of Z.mutations)H=H.add(re.key)}for(const Z of d){C.push(Z.batchId);for(const re of Z.mutations)H=H.add(re.key)}return t.ci.Ks(o,H).next(Z=>({hi:Z,removedBatchIds:m,addedBatchIds:C}))})})}),Zf.apply(this,arguments)}function Kf(i,e){const t=$(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=t.ui.newChangeBuffer({trackRemovals:!0});return function(m,C,H,Z){const re=H.batch,ye=re.keys();let Ke=rt.resolve();return ye.forEach(ht=>{Ke=Ke.next(()=>Z.getEntry(C,ht)).next(gt=>{const Qt=H.docVersions.get(ht);A(null!==Qt),gt.version.compareTo(Qt)<0&&(re.applyToRemoteDocument(gt,H),gt.isValidDocument()&&(gt.setReadTime(H.commitVersion),Z.addEntry(gt)))})}),Ke.next(()=>m.Bs.removeMutationBatch(C,re))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.Bs.performConsistencyCheck(o)).next(()=>t.ci.Ks(o,u))})}function Kg(i){const e=$(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Yg(i,e){const t=$(i),o=e.snapshotVersion;let u=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=t.ui.newChangeBuffer({trackRemovals:!0});u=t.ii;const C=[];e.targetChanges.forEach((Z,re)=>{const ye=u.get(re);if(!ye)return;C.push(t.fs.removeMatchingKeys(d,Z.removedDocuments,re).next(()=>t.fs.addMatchingKeys(d,Z.addedDocuments,re)));let Ke=ye.withSequenceNumber(d.currentSequenceNumber);var ht,gt,Qt;e.targetMismatches.has(re)?Ke=Ke.withResumeToken(at.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):Z.resumeToken.approximateByteSize()>0&&(Ke=Ke.withResumeToken(Z.resumeToken,o)),u=u.insert(re,Ke),gt=Ke,Qt=Z,(0===(ht=ye).resumeToken.approximateByteSize()||gt.snapshotVersion.toMicroseconds()-ht.snapshotVersion.toMicroseconds()>=3e8||Qt.addedDocuments.size+Qt.modifiedDocuments.size+Qt.removedDocuments.size>0)&&C.push(t.fs.updateTargetData(d,Ke))});let H=$o();if(e.documentUpdates.forEach(Z=>{e.resolvedLimboDocuments.has(Z)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(d,Z))}),C.push(Qg(d,m,e.documentUpdates).next(Z=>{H=Z})),!o.isEqual(Gt.min())){const Z=t.fs.getLastRemoteSnapshotVersion(d).next(re=>t.fs.setTargetsMetadata(d,d.currentSequenceNumber,o));C.push(Z)}return rt.waitFor(C).next(()=>m.apply(d)).next(()=>t.ci.Gs(d,H)).next(()=>H)}).then(d=>(t.ii=u,d))}function Qg(i,e,t){let o=Gn();return t.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let d=$o();return t.forEach((m,C)=>{const H=u.get(m);C.isNoDocument()&&C.version.isEqual(Gt.min())?(e.removeEntry(m,C.readTime),d=d.insert(m,C)):!H.isValidDocument()||C.version.compareTo(H.version)>0||0===C.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(C),d=d.insert(m,C)):vt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",H.version," Watch version:",C.version)}),d})}function zy(i,e){const t=$(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(o,e)))}function tu(i,e){const t=$(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.fs.getTargetData(o,e).next(d=>d?(u=d,rt.resolve(u)):t.fs.allocateTargetId(o).next(m=>(u=new Xa(e,m,0,o.currentSequenceNumber),t.fs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.ii.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.ii=t.ii.insert(o.targetId,o),t.ri.set(e,o.targetId)),o})}function xa(i,e,t){return vd.apply(this,arguments)}function vd(){return vd=(0,se.Z)(function*(i,e,t){const o=$(i),u=o.ii.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!Wu(m))throw m;vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.ii=o.ii.remove(e),o.ri.delete(u.target)}),vd.apply(this,arguments)}function Cu(i,e,t){const o=$(i);let u=Gt.min(),d=Gn();return o.persistence.runTransaction("Execute query","readonly",m=>function(C,H,Z){const re=$(C),ye=re.ri.get(Z);return void 0!==ye?rt.resolve(re.ii.get(ye)):re.fs.getTargetData(H,Z)}(o,m,Ro(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(m,C.targetId).next(H=>{d=H})}).next(()=>o.si.Qs(m,e,t?u:Gt.min(),t?d:Gn())).next(C=>(Jg(o,hc(e),C),{documents:C,li:d})))}function Oc(i,e){const t=$(i),o=$(t.fs),u=t.ii.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>o.Et(d,e).next(m=>m?m.target:null))}function ql(i,e){const t=$(i),o=t.oi.get(e)||Gt.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.ui.getAllFromCollectionGroup(u,e,On(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Jg(t,e,u),u))}function Jg(i,e,t){let o=Gt.min();t.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.oi.set(e,o)}function xh(){return xh=(0,se.Z)(function*(i,e,t,o){const u=$(i);let d=Gn(),m=$o();for(const Z of t){const re=e.fi(Z.metadata.name);Z.document&&(d=d.add(re));const ye=e.di(Z);ye.setReadTime(e._i(Z.metadata.readTime)),m=m.insert(re,ye)}const C=u.ui.newChangeBuffer({trackRemovals:!0}),H=yield tu(u,(Z=o,Ro(sa(x.fromString(`__bundle__/docs/${Z}`)))));var Z;return u.persistence.runTransaction("Apply bundle documents","readwrite",Z=>Qg(Z,C,m).next(re=>(C.apply(Z),re)).next(re=>u.fs.removeMatchingKeysForTargetId(Z,H.targetId).next(()=>u.fs.addMatchingKeys(Z,d,H.targetId)).next(()=>u.ci.Gs(Z,re)).next(()=>re)))}),xh.apply(this,arguments)}function Yf(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,se.Z)(function*(i,e,t=Gn()){const o=yield tu(i,Ro(Eh(e.bundledQuery))),u=$(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const m=bs(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u._s.saveNamedQuery(d,e);const C=o.withResumeToken(at.EMPTY_BYTE_STRING,m);return u.ii=u.ii.insert(C.targetId,C),u.fs.updateTargetData(d,C).next(()=>u.fs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.fs.addMatchingKeys(d,t,o.targetId)).next(()=>u._s.saveNamedQuery(d,e))})}),Ed.apply(this,arguments)}class em{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return rt.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var o;return this.wi.set(t.id,{id:(o=t).id,version:o.version,createTime:bs(o.createTime)}),rt.resolve()}getNamedQuery(e,t){return rt.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(o=t).name,query:Eh(o.bundledQuery),readTime:bs(o.readTime)}),rt.resolve();var o}}class Rh{constructor(){this.overlays=new sr(Et.comparator),this.gi=new Map}getOverlay(e,t){return rt.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((u,d)=>{this.Xt(e,t,d)}),rt.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.gi.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.gi.delete(o)),rt.resolve()}getOverlaysForCollection(e,t,o){const u=_c(),d=t.length+1,m=new Et(t.child("")),C=this.overlays.getIteratorFrom(m);for(;C.hasNext();){const H=C.getNext().value,Z=H.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===d&&H.largestBatchId>o&&u.set(H.getKey(),H)}return rt.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let d=new sr((Z,re)=>Z-re);const m=this.overlays.getIterator();for(;m.hasNext();){const Z=m.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>o){let re=d.get(Z.largestBatchId);null===re&&(re=_c(),d=d.insert(Z.largestBatchId,re)),re.set(Z.getKey(),Z)}}const C=_c(),H=d.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((Z,re)=>C.set(Z,re)),!(C.size()>=u)););return rt.resolve(C)}Xt(e,t,o){if(null===o)return;const u=this.overlays.get(o.key);if(null!==u){const m=this.gi.get(u.largestBatchId).delete(o.key);this.gi.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new _h(t,o));let d=this.gi.get(t);void 0===d&&(d=Gn(),this.gi.set(t,d)),this.gi.set(t,d.add(o.key))}}class Qf{constructor(){this.yi=new ei(Fs.pi),this.Ii=new ei(Fs.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const o=new Fs(e,t);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ai(new Fs(e,t))}Ri(e,t){e.forEach(o=>this.removeReference(o,t))}Pi(e){const t=new Et(new x([])),o=new Fs(t,e),u=new Fs(t,e+1),d=[];return this.Ii.forEachInRange([o,u],m=>{this.Ai(m),d.push(m.key)}),d}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Et(new x([])),o=new Fs(t,e),u=new Fs(t,e+1);let d=Gn();return this.Ii.forEachInRange([o,u],m=>{d=d.add(m.key)}),d}containsKey(e){const t=new Fs(e,0),o=this.yi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Fs{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Et.comparator(e.key,t.key)||Ln(e.vi,t.vi)}static Ti(e,t){return Ln(e.vi,t.vi)||Et.comparator(e.key,t.key)}}class zv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new ei(Fs.pi)}checkEmpty(e){return rt.resolve(0===this.Bs.length)}addMutationBatch(e,t,o,u){const d=this.Si;this.Si++;const m=new yh(d,t,o,u);this.Bs.push(m);for(const C of u)this.Di=this.Di.add(new Fs(C.key,d)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return rt.resolve(m)}lookupMutationBatch(e,t){return rt.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.xi(t+1),d=u<0?0:u;return rt.resolve(this.Bs.length>d?this.Bs[d]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return rt.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Fs(t,0),u=new Fs(t,Number.POSITIVE_INFINITY),d=[];return this.Di.forEachInRange([o,u],m=>{const C=this.Ci(m.vi);d.push(C)}),rt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ei(Ln);return t.forEach(u=>{const d=new Fs(u,0),m=new Fs(u,Number.POSITIVE_INFINITY);this.Di.forEachInRange([d,m],C=>{o=o.add(C.vi)})}),rt.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let d=o;Et.isDocumentKey(d)||(d=d.child(""));const m=new Fs(new Et(d),0);let C=new ei(Ln);return this.Di.forEachWhile(H=>{const Z=H.key.path;return!!o.isPrefixOf(Z)&&(Z.length===u&&(C=C.add(H.vi)),!0)},m),rt.resolve(this.Ni(C))}Ni(e){const t=[];return e.forEach(o=>{const u=this.Ci(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){A(0===this.ki(t.batchId,"removed")),this.Bs.shift();let o=this.Di;return rt.forEach(t.mutations,u=>{const d=new Fs(u.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,t){const o=new Fs(t,0),u=this.Di.firstAfterOrEqual(o);return rt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return rt.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class tm{constructor(e){this.Mi=e,this.docs=new sr(Et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),d=u?u.size:0,m=this.Mi(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return rt.resolve(o?o.document.mutableCopy():ne.newInvalidDocument(t))}getEntries(e,t){let o=$o();return t.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():ne.newInvalidDocument(u))}),rt.resolve(o)}getAllFromCollection(e,t,o){let u=$o();const d=new Et(t.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:C,value:{document:H}}=m.getNext();if(!t.isPrefixOf(C.path))break;C.path.length>t.length+1||Ns(pr(H),o)<=0||(u=u.insert(H.key,H.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(e,t,o,u){y()}Oi(e,t){return rt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new nm(this)}getSize(e){return rt.resolve(this.size)}}class nm extends Ch{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Kn.addEntry(e,u)):this.Kn.removeEntry(o)}),rt.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Wy{constructor(e){this.persistence=e,this.Fi=new Ya(t=>qs(t),io),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Qf,this.targetCount=0,this.Li=bu.gn()}forEachTarget(e,t){return this.Fi.forEach((o,u)=>t(u)),rt.resolve()}getLastRemoteSnapshotVersion(e){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rt.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.$i&&(this.$i=t),rt.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new bu(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,rt.resolve()}updateTargetData(e,t){return this.Tn(t),rt.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,rt.resolve()}removeTargets(e,t,o){let u=0;const d=[];return this.Fi.forEach((m,C)=>{C.sequenceNumber<=t&&null===o.get(C.targetId)&&(this.Fi.delete(m),d.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),rt.waitFor(d).next(()=>u)}getTargetCount(e){return rt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Fi.get(t)||null;return rt.resolve(o)}addMatchingKeys(e,t,o){return this.Bi.Ei(t,o),rt.resolve()}removeMatchingKeys(e,t,o){this.Bi.Ri(t,o);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(m=>{d.push(u.markPotentiallyOrphaned(e,m))}),rt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),rt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Bi.Vi(t);return rt.resolve(o)}containsKey(e,t){return rt.resolve(this.Bi.containsKey(t))}}class rm{constructor(e,t){this.Ui={},this.overlays={},this.es=new Xr(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Wy(this),this.indexManager=new jg,this.ds=new tm(o=>this.referenceDelegate.qi(o)),this.M=new Dc(t),this._s=new em(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ui[e.toKey()];return o||(o=new zv(t,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,o){vt("MemoryPersistence","Starting transaction:",e);const u=new qy(this.es.next());return this.referenceDelegate.Ki(),o(u).next(d=>this.referenceDelegate.Gi(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Qi(e,t){return rt.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,t)))}}class qy extends zu{constructor(e){super(),this.currentSequenceNumber=e}}class Jf{constructor(e){this.persistence=e,this.ji=new Qf,this.Wi=null}static zi(e){return new Jf(e)}get Hi(){if(this.Wi)return this.Wi;throw y()}addReference(e,t,o){return this.ji.addReference(o,t),this.Hi.delete(o.toString()),rt.resolve()}removeReference(e,t,o){return this.ji.removeReference(o,t),this.Hi.add(o.toString()),rt.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),rt.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(u=>this.Hi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Hi.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Hi,o=>{const u=Et.fromPath(o);return this.Ji(e,u).next(d=>{d||t.removeEntry(u,Gt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(o=>{o?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return rt.or([()=>rt.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function Go(i,e){return`firestore_clients_${i}_${e}`}function im(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Xf(i,e){return`firestore_targets_${i}_${e}`}class ep{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Yi(e,t,o){const u=JSON.parse(o);let d,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(d=new X(u.error.code,u.error.message))),m?new ep(e,t,u.state,d):(vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Oh{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Yi(e,t){const o=JSON.parse(t);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new X(o.error.code,o.error.message))),d?new Oh(e,o.state,u):(vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=vu();for(let m=0;u&&m<o.activeTargetIds.length;++m)u=Ii(o.activeTargetIds[m]),d=d.add(o.activeTargetIds[m]);return u?new wd(e,d):(vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sm{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sm(t.clientId,t.onlineState):(vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tp{constructor(){this.activeTargetIds=vu()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bd{constructor(e,t,o,u,d){this.window=e,this.Yn=t,this.persistenceKey=o,this.er=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new sr(Ln),this.started=!1,this.rr=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ur=Go(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new tp),this.cr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,se.Z)(function*(){const t=yield e.syncEngine.Fs();for(const u of t){if(u===e.er)continue;const d=e.getItem(Go(e.persistenceKey,u));if(d){const m=wd.Yi(u,d);m&&(e.ir=e.ir.insert(m.clientId,m))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const u=e.mr(o);u&&e.gr(u)}for(const u of e.rr)e.sr(u);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,o){this.pr(e,t,o),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Xf(this.persistenceKey,e));if(o){const u=Oh.Yi(e,o);u&&(t=u.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xf(this.persistenceKey,e))}updateQueryState(e,t,o){this.Er(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Ir(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return vt("SharedClientState","READ",e,t),t}setItem(e,t){vt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(vt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,se.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const u=t.Pr(o.key);return t.br(u,null)}{const u=t.Vr(o.key,o.newValue);if(u)return t.br(u.clientId,u)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const u=t.vr(o.key,o.newValue);if(u)return t.Sr(u)}}else if(t.lr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(o.key===t.dr){if(null!==o.newValue){const u=t.mr(o.newValue);if(u)return t.gr(u)}}else if(o.key===t.ar){const u=function(d){let m=Xr.A;if(null!=d)try{const C=JSON.parse(d);A("number"==typeof C),m=C}catch(C){vr("SharedClientState","Failed to read sequence number from WebStorage",C)}return m}(o.newValue);u!==Xr.A&&t.sequenceNumberHandler(u)}else if(o.key===t._r){const u=t.Nr(o.newValue);yield Promise.all(u.map(d=>t.syncEngine.kr(d)))}}else t.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,o){const u=new ep(this.currentUser,e,t,o),d=im(this.persistenceKey,this.currentUser,e);this.setItem(d,u.Xi())}Ir(e){const t=im(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,o){const u=Xf(this.persistenceKey,e),d=new Oh(e,t,o);this.setItem(u,d.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const o=this.Pr(e);return wd.Yi(o,t)}vr(e,t){const o=this.hr.exec(e),u=Number(o[1]);return ep.Yi(new fi(void 0!==o[2]?o[2]:null),u,t)}Dr(e,t){const o=this.lr.exec(e),u=Number(o[1]);return Oh.Yi(u,t)}mr(e){return sm.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const o=t?this.ir.insert(e,t):this.ir.remove(e),u=this.yr(this.ir),d=this.yr(o),m=[],C=[];return d.forEach(H=>{u.has(H)||m.push(H)}),u.forEach(H=>{d.has(H)||C.push(H)}),this.syncEngine.Fr(m,C).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=vu();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class np{constructor(){this.$r=new tp,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,o){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new tp,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zy{Lr(e){}shutdown(){}}class om{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ky={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class am{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Yy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,o,u,d){const m=this.uo(e,t);vt("RestConnection","Sending: ",m,o);const C={};return this.ao(C,u,d),this.co(e,m,C,o).then(H=>(vt("RestConnection","Received: ",H),H),H=>{throw b("RestConnection",`${e} failed with error: `,H,"url: ",m,"request:",o),H})}ho(e,t,o,u,d){return this.oo(e,t,o,u,d)}ao(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ao,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}uo(e,t){return`${this.io}/v1/${t}:${Ky[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,u){return new Promise((d,m)=>{const C=new ml;C.listenOnce(Pr.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case Lo.NO_ERROR:const Z=C.getResponseJson();vt("Connection","XHR received:",JSON.stringify(Z)),d(Z);break;case Lo.TIMEOUT:vt("Connection",'RPC "'+e+'" timed out'),m(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case Lo.HTTP_ERROR:const re=C.getStatus();if(vt("Connection",'RPC "'+e+'" failed with status:',re,"response text:",C.getResponseText()),re>0){const ye=C.getResponseJson().error;if(ye&&ye.status&&ye.message){const Ke=function(ht){const gt=ht.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(gt)>=0?gt:z.UNKNOWN}(ye.status);m(new X(Ke,ye.message))}else m(new X(z.UNKNOWN,"Server responded with status "+C.getStatus()))}else m(new X(z.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{vt("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(u);C.send(t,"POST",H,o,15)})}lo(e,t,o){const u=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Fo(),m=Xo(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Ca({})),this.ao(C.initMessageHeaders,t,o),(0,ze.uI)()||(0,ze.b$)()||(0,ze.d)()||(0,ze.w1)()||(0,ze.Mn)()||(0,ze.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");const H=u.join("");vt("Connection","Creating WebChannel: "+H,C);const Z=d.createWebChannel(H,C);let re=!1,ye=!1;const Ke=new am({Wr:gt=>{ye?vt("Connection","Not sending because WebChannel is closed:",gt):(re||(vt("Connection","Opening WebChannel transport."),Z.open(),re=!0),vt("Connection","WebChannel sending:",gt),Z.send(gt))},zr:()=>Z.close()}),ht=(gt,Qt,Wn)=>{gt.listen(Qt,mi=>{try{Wn(mi)}catch(Di){setTimeout(()=>{throw Di},0)}})};return ht(Z,Es.EventType.OPEN,()=>{ye||vt("Connection","WebChannel transport opened.")}),ht(Z,Es.EventType.CLOSE,()=>{ye||(ye=!0,vt("Connection","WebChannel transport closed"),Ke.no())}),ht(Z,Es.EventType.ERROR,gt=>{ye||(ye=!0,b("Connection","WebChannel transport errored:",gt),Ke.no(new X(z.UNAVAILABLE,"The operation could not be completed")))}),ht(Z,Es.EventType.MESSAGE,gt=>{var Qt;if(!ye){const Wn=gt.data[0];A(!!Wn);const mi=Wn,Di=mi.error||(null===(Qt=mi[0])||void 0===Qt?void 0:Qt.error);if(Di){vt("Connection","WebChannel received error:",Di);const si=Di.status;let Cs=function(Qi){const Eo=Ki[Qi];if(void 0!==Eo)return mc(Eo)}(si),Ti=Di.message;void 0===Cs&&(Cs=z.INTERNAL,Ti="Unknown error status: "+si+" with message "+Di.message),ye=!0,Ke.no(new X(Cs,Ti)),Z.close()}else vt("Connection","WebChannel received:",Wn),Ke.so(Wn)}}),ht(m,lu.STAT_EVENT,gt=>{gt.stat===Gs.PROXY?vt("Connection","Detected buffering proxy"):gt.stat===Gs.NOPROXY&&vt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ke.eo()},0),Ke}}function rp(){return"undefined"!=typeof window?window:null}function Ph(){return"undefined"!=typeof document?document:null}function Id(i){return new ah(i,!0)}class Nh{constructor(e,t,o=1e3,u=1.5,d=6e4){this.Yn=e,this.timerId=t,this.fo=o,this._o=u,this.wo=d,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),u=Math.max(0,t-o);u>0&&vt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,u,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class ip{constructor(e,t,o,u,d,m,C,H){this.Yn=e,this.Ro=o,this.Po=u,this.bo=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=C,this.listener=H,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Nh(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,se.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,se.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var o=this;return(0,se.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():t&&t.code===z.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):t&&t.code===z.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Vo===t&&this.qo(o,u)},o=>{e(()=>{const u=new X(z.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(u)})})}qo(e,t){const o=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(u=>{o(()=>this.Ko(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}No(){var e=this;this.state=5,this.Do.To((0,se.Z)(function*(){e.state=0,e.start()}))}Ko(e){return vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qy extends ip{constructor(e,t,o,u,d,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,m),this.M=d}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function Pf(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:y(),u=e.targetChange.targetIds||[],d=function(H,Z){return H.N?(A(void 0===Z||"string"==typeof Z),at.fromBase64String(Z||"")):(A(void 0===Z||Z instanceof Uint8Array),at.fromUint8Array(Z||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,C=m&&function(H){const Z=void 0===H.code?z.UNKNOWN:mc(H.code);return new X(Z,H.message||"")}(m);t=new po(o,u,d,C||null)}else if("documentChange"in e){const o=e.documentChange,u=ii(i,o.document.name),d=bs(o.document.updateTime),m=new k({mapValue:{fields:o.document.fields}}),C=ne.newFoundDocument(u,d,m);t=new ga(o.targetIds||[],o.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const o=e.documentDelete,u=ii(i,o.document),d=o.readTime?bs(o.readTime):Gt.min(),m=ne.newNoDocument(u,d);t=new ga([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,u=ii(i,o.document);t=new ga([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return y();{const o=e.filter,d=new rd(o.count||0);t=new vc(o.targetId,d)}}var H;return t}(this.M,e),o=function(u){if(!("targetChange"in u))return Gt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Gt.min():d.readTime?bs(d.readTime):Gt.min()}(e);return this.listener.Qo(t,o)}jo(e){const t={};t.database=Bl(this.M),t.addTarget=function(u,d){let m;const C=d.target;return m=Zs(C)?{documents:dh(u,C)}:{query:hh(u,C)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=oa(u,d.resumeToken):d.snapshotVersion.compareTo(Gt.min())>0&&(m.readTime=Ll(u,d.snapshotVersion.toTimestamp())),m}(this.M,e);const o=function c(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=Bl(this.M),t.removeTarget=e,this.Fo(t)}}class nu extends ip{constructor(e,t,o,u,d,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,m),this.M=d,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(A(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function Nf(i,e){return i&&i.length>0?(A(void 0!==e),i.map(t=>function(o,u){let d=bs(o.updateTime?o.updateTime:u);return d.isEqual(Gt.min())&&(d=bs(u)),new Al(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=bs(e.commitTime);return this.listener.Yo(o,t)}return A(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Bl(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>wu(this.M,o))};this.Fo(t)}}class sp extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=u,this.tu=!1}eu(){if(this.tu)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.bo.oo(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new X(z.UNKNOWN,u.toString())})}ho(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.bo.ho(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new X(z.UNKNOWN,u.toString())})}terminate(){this.tu=!0}}class Jy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(vr(t),this.iu=!1):vt("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Xy{constructor(e,t,o,u,d){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=d,this._u.Lr(C=>{o.enqueueAndForget((0,se.Z)(function*(){var H;Xu(m)&&(vt("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,se.Z)(function*(Z){const re=$(Z);re.fu.add(4),yield Pc(re),re.wu.set("Unknown"),re.fu.delete(4),yield kh(re)}),function(Z){return H.apply(this,arguments)})(m))}))}),this.wu=new Jy(o,u)}}function kh(i){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,se.Z)(function*(i){if(Xu(i))for(const e of i.du)yield e(!0)}),Fh.apply(this,arguments)}function Pc(i){return op.apply(this,arguments)}function op(){return op=(0,se.Z)(function*(i){for(const e of i.du)yield e(!1)}),op.apply(this,arguments)}function Lh(i,e){const t=$(i);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),Cd(t)?Nc(t):el(t).xo()&&ap(t,e))}function Zl(i,e){const t=$(i),o=el(t);t.lu.delete(e),o.xo()&&um(t,e),0===t.lu.size&&(o.xo()?o.Mo():Xu(t)&&t.wu.set("Unknown"))}function ap(i,e){i.mu.Z(e.targetId),el(i).jo(e)}function um(i,e){i.mu.Z(e),el(i).Wo(e)}function Nc(i){i.mu=new od({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.lu.get(e)||null}),el(i).start(),i.wu.ru()}function Cd(i){return Xu(i)&&!el(i).Co()&&i.lu.size>0}function Xu(i){return 0===$(i).fu.size}function Vh(i){i.mu=void 0}function up(i){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,se.Z)(function*(i){i.lu.forEach((e,t)=>{ap(i,e)})}),Uh.apply(this,arguments)}function e_(i,e){return lp.apply(this,arguments)}function lp(){return lp=(0,se.Z)(function*(i,e){Vh(i),Cd(i)?(i.wu.au(e),Nc(i)):i.wu.set("Unknown")}),lp.apply(this,arguments)}function cp(i,e,t){return lm.apply(this,arguments)}function lm(){return lm=(0,se.Z)(function*(i,e,t){if(i.wu.set("Online"),e instanceof po&&2===e.state&&e.cause)try{yield(o=(0,se.Z)(function*(u,d){const m=d.cause;for(const C of d.targetIds)u.lu.has(C)&&(yield u.remoteSyncer.rejectListen(C,m),u.lu.delete(C),u.mu.removeTarget(C))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Bh(i,o)}else if(e instanceof ga?i.mu.ut(e):e instanceof vc?i.mu._t(e):i.mu.ht(e),!t.isEqual(Gt.min()))try{const o=yield Kg(i.localStore);t.compareTo(o)>=0&&(yield function(u,d){const m=u.mu.yt(d);return m.targetChanges.forEach((C,H)=>{if(C.resumeToken.approximateByteSize()>0){const Z=u.lu.get(H);Z&&u.lu.set(H,Z.withResumeToken(C.resumeToken,d))}}),m.targetMismatches.forEach(C=>{const H=u.lu.get(C);if(!H)return;u.lu.set(C,H.withResumeToken(at.EMPTY_BYTE_STRING,H.snapshotVersion)),um(u,C);const Z=new Xa(H.target,C,1,H.sequenceNumber);ap(u,Z)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t))}catch(o){vt("RemoteStore","Failed to raise snapshot:",o),yield Bh(i,o)}var o}),lm.apply(this,arguments)}function Bh(i,e,t){return jh.apply(this,arguments)}function jh(){return jh=(0,se.Z)(function*(i,e,t){if(!Wu(e))throw e;i.fu.add(1),yield Pc(i),i.wu.set("Offline"),t||(t=()=>Kg(i.localStore)),i.asyncQueue.enqueueRetryable((0,se.Z)(function*(){vt("RemoteStore","Retrying IndexedDB access"),yield t(),i.fu.delete(1),yield kh(i)}))}),jh.apply(this,arguments)}function dp(i,e){return e().catch(t=>Bh(i,t,e))}function Kl(i){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,se.Z)(function*(i){const e=$(i),t=tl(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;cm(e);)try{const u=yield zy(e.localStore,o);if(null===u){0===e.hu.length&&t.Mo();break}o=u.batchId,Du(e,u)}catch(u){yield Bh(e,u)}Dd(e)&&dm(e)}),Hh.apply(this,arguments)}function cm(i){return Xu(i)&&i.hu.length<10}function Du(i,e){i.hu.push(e);const t=tl(i);t.xo()&&t.Ho&&t.Jo(e.mutations)}function Dd(i){return Xu(i)&&!tl(i).Co()&&i.hu.length>0}function dm(i){tl(i).start()}function t_(i){return hm.apply(this,arguments)}function hm(){return hm=(0,se.Z)(function*(i){tl(i).Zo()}),hm.apply(this,arguments)}function hp(i){return $h.apply(this,arguments)}function $h(){return $h=(0,se.Z)(function*(i){const e=tl(i);for(const t of i.hu)e.Jo(t.mutations)}),$h.apply(this,arguments)}function fp(i,e,t){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,se.Z)(function*(i,e,t){const o=i.hu.shift(),u=gd.from(o,e,t);yield dp(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Kl(i)}),Yl.apply(this,arguments)}function n_(i,e){return Td.apply(this,arguments)}function Td(){return Td=(0,se.Z)(function*(i,e){var t;e&&tl(i).Ho&&(yield(t=(0,se.Z)(function*(o,u){if(Ol(d=u.code)&&d!==z.ABORTED){const m=o.hu.shift();tl(o).ko(),yield dp(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield Kl(o)}var d}),function(o,u){return t.apply(this,arguments)})(i,e)),Dd(i)&&dm(i)}),Td.apply(this,arguments)}function pp(i,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,se.Z)(function*(i,e){const t=$(i);t.asyncQueue.verifyOperationInProgress(),vt("RemoteStore","RemoteStore received new credentials");const o=Xu(t);t.fu.add(3),yield Pc(t),o&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield kh(t)}),Gh.apply(this,arguments)}function zh(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,se.Z)(function*(i,e){const t=$(i);e?(t.fu.delete(2),yield kh(t)):e||(t.fu.add(2),yield Pc(t),t.wu.set("Unknown"))}),gp.apply(this,arguments)}function el(i){return i.gu||(i.gu=function(e,t,o){const u=$(e);return u.eu(),new Qy(t,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Hr:up.bind(null,i),Yr:e_.bind(null,i),Qo:cp.bind(null,i)}),i.du.push(function(){var e=(0,se.Z)(function*(t){t?(i.gu.ko(),Cd(i)?Nc(i):i.wu.set("Unknown")):(yield i.gu.stop(),Vh(i))});return function(t){return e.apply(this,arguments)}}())),i.gu}function tl(i){return i.yu||(i.yu=function(e,t,o){const u=$(e);return u.eu(),new nu(t,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Hr:t_.bind(null,i),Yr:n_.bind(null,i),Xo:hp.bind(null,i),Yo:fp.bind(null,i)}),i.du.push(function(){var e=(0,se.Z)(function*(t){t?(i.yu.ko(),yield Kl(i)):(yield i.yu.stop(),i.hu.length>0&&(vt("RemoteStore",`Stopping write stream with ${i.hu.length} pending writes`),i.hu=[]))});return function(t){return e.apply(this,arguments)}}())),i.yu}class mp{constructor(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new je,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,o,u,d){const m=Date.now()+o,C=new mp(e,t,m,u,d);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ql(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Wu(i))return new X(z.UNAVAILABLE,`${e}: ${i}`);throw i}class Ra{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Et.comparator(t.key,o.key):(t,o)=>Et.comparator(t.key,o.key),this.keyedMap=sd(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new Ra(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Ra;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class yp{constructor(){this.pu=new sr(Et.comparator)}track(e){const t=e.doc.key,o=this.pu.get(t);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(t):1===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):y():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,o)=>{e.push(o)}),e}}class kc{constructor(e,t,o,u,d,m,C,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=C,this.excludesMetadataChanges=H}static fromInitialDocuments(e,t,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new kc(e,t,Ra.emptySet(t),d,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class r_{constructor(){this.Tu=void 0,this.listeners=[]}}class Fc{constructor(){this.queries=new Ya(e=>Qd(e),Fu),this.onlineState="Unknown",this.Eu=new Set}}function _p(i,e){return vp.apply(this,arguments)}function vp(){return vp=(0,se.Z)(function*(i,e){const t=$(i),o=e.query;let u=!1,d=t.queries.get(o);if(d||(u=!0,d=new r_),u)try{d.Tu=yield t.onListen(o)}catch(m){const C=Ql(m,`Initialization of query '${ed(e.query)}' failed`);return void e.onError(C)}t.queries.set(o,d),d.listeners.push(e),e.Au(t.onlineState),d.Tu&&e.Ru(d.Tu)&&Wh(t)}),vp.apply(this,arguments)}function Ep(i,e){return wp.apply(this,arguments)}function wp(){return wp=(0,se.Z)(function*(i,e){const t=$(i),o=e.query;let u=!1;const d=t.queries.get(o);if(d){const m=d.listeners.indexOf(e);m>=0&&(d.listeners.splice(m,1),u=0===d.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),wp.apply(this,arguments)}function Oa(i,e){const t=$(i);let o=!1;for(const u of e){const m=t.queries.get(u.query);if(m){for(const C of m.listeners)C.Ru(u)&&(o=!0);m.Tu=u}}o&&Wh(t)}function bp(i,e,t){const o=$(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);o.queries.delete(e)}function Wh(i){i.Eu.forEach(e=>{e.next()})}class qh{constructor(e,t,o){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new kc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class fm{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class Ip{constructor(e){this.M=e}fi(e){return ii(this.M,e)}di(e){return e.metadata.exists?wc(this.M,e.document,!1):ne.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return bs(e)}}class i_{constructor(e,t,o){this.Nu=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pm(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=x.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,o=new Ip(this.M);for(const u of e)if(u.metadata.queries){const d=o.fi(u.metadata.name);for(const m of u.metadata.queries){const C=(t.get(m)||Gn()).add(d);t.set(m,C)}}return t}complete(){var e=this;return(0,se.Z)(function*(){const t=yield function Xg(i,e,t,o){return xh.apply(this,arguments)}(e.localStore,new Ip(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const u of e.queries)yield Yf(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function pm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class gm{constructor(e){this.key=e}}class mm{constructor(e){this.key=e}}class Cp{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Gn(),this.mutatedKeys=Gn(),this.Uu=Jd(e),this.qu=new Ra(this.Uu)}get Ku(){return this.$u}Gu(e,t){const o=t?t.Qu:new yp,u=t?t.qu:this.qu;let d=t?t.mutatedKeys:this.mutatedKeys,m=u,C=!1;const H=cc(this.query)&&u.size===this.query.limit?u.last():null,Z=Nu(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((re,ye)=>{const Ke=u.get(re),ht=td(this.query,ye)?ye:null,gt=!!Ke&&this.mutatedKeys.has(Ke.key),Qt=!!ht&&(ht.hasLocalMutations||this.mutatedKeys.has(ht.key)&&ht.hasCommittedMutations);let Wn=!1;Ke&&ht?Ke.data.isEqual(ht.data)?gt!==Qt&&(o.track({type:3,doc:ht}),Wn=!0):this.ju(Ke,ht)||(o.track({type:2,doc:ht}),Wn=!0,(H&&this.Uu(ht,H)>0||Z&&this.Uu(ht,Z)<0)&&(C=!0)):!Ke&&ht?(o.track({type:0,doc:ht}),Wn=!0):Ke&&!ht&&(o.track({type:1,doc:Ke}),Wn=!0,(H||Z)&&(C=!0)),Wn&&(ht?(m=m.add(ht),d=Qt?d.add(re):d.delete(re)):(m=m.delete(re),d=d.delete(re)))}),cc(this.query)||Nu(this.query))for(;m.size>this.query.limit;){const re=cc(this.query)?m.last():m.first();m=m.delete(re.key),d=d.delete(re.key),o.track({type:1,doc:re})}return{qu:m,Qu:o,ni:C,mutatedKeys:d}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const d=e.Qu.Iu();d.sort((Z,re)=>function(ye,Ke){const ht=gt=>{switch(gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return ht(ye)-ht(Ke)}(Z.type,re.type)||this.Uu(Z.doc,re.doc)),this.Wu(o);const m=t?this.zu():[],C=0===this.Lu.size&&this.current?1:0,H=C!==this.Bu;return this.Bu=C,0!==d.length||H?{snapshot:new kc(this.query,e.qu,u,d,e.mutatedKeys,0===C,H,!1),Hu:m}:{Hu:m}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new yp,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Gn(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const t=[];return e.forEach(o=>{this.Lu.has(o)||t.push(new mm(o))}),this.Lu.forEach(o=>{e.has(o)||t.push(new gm(o))}),t}Yu(e){this.$u=e.li,this.Lu=Gn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return kc.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Wv{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class ym{constructor(e){this.key=e,this.Zu=!1}}class s_{constructor(e,t,o,u,d,m){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.ta={},this.ea=new Ya(C=>Qd(C),Fu),this.na=new Map,this.sa=new Set,this.ia=new sr(Et.comparator),this.ra=new Map,this.oa=new Qf,this.ua={},this.aa=new Map,this.ca=bu.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function o_(i,e){return _m.apply(this,arguments)}function _m(){return _m=(0,se.Z)(function*(i,e){const t=ol(i);let o,u;const d=t.ea.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),u=d.view.Xu();else{const m=yield tu(t.localStore,Ro(e));t.isPrimaryClient&&Lh(t.remoteStore,m);const C=t.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,u=yield vm(t,e,o,"current"===C)}return u}),_m.apply(this,arguments)}function vm(i,e,t,o){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,se.Z)(function*(i,e,t,o){i.la=(re,ye,Ke)=>{return(ht=(0,se.Z)(function*(gt,Qt,Wn,mi){let Di=Qt.view.Gu(Wn);Di.ni&&(Di=yield Cu(gt.localStore,Qt.query,!1).then(({documents:Ti})=>Qt.view.Gu(Ti,Di)));const si=mi&&mi.targetChanges.get(Qt.targetId),Cs=Qt.view.applyChanges(Di,gt.isPrimaryClient,si);return Mp(gt,Qt.targetId,Cs.Hu),Cs.snapshot}),function(gt,Qt,Wn,mi){return ht.apply(this,arguments)})(i,re,ye,Ke);var ht};const u=yield Cu(i.localStore,e,!0),d=new Cp(e,u.li),m=d.Gu(u.documents),C=rs.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),H=d.applyChanges(m,i.isPrimaryClient,C);Mp(i,t,H.Hu);const Z=new Wv(e,t,d);return i.ea.set(e,Z),i.na.has(t)?i.na.get(t).push(e):i.na.set(t,[e]),H.snapshot}),Ad.apply(this,arguments)}function a_(i,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,se.Z)(function*(i,e){const t=$(i),o=t.ea.get(e),u=t.na.get(o.targetId);if(u.length>1)return t.na.set(o.targetId,u.filter(d=>!Fu(d,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield xa(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Zl(t.remoteStore,o.targetId),Lc(t,o.targetId)}).catch(zl))):(Lc(t,o.targetId),yield xa(t.localStore,o.targetId,!0))}),Zh.apply(this,arguments)}function wm(){return wm=(0,se.Z)(function*(i,e,t){const o=al(i);try{const u=yield function(d,m){const C=$(d),H=li.now(),Z=m.reduce((ye,Ke)=>ye.add(Ke.key),Gn());let re;return C.persistence.runTransaction("Locally write mutations","readwrite",ye=>C.ci.Ks(ye,Z).next(Ke=>{re=Ke;const ht=[];for(const gt of m){const Qt=xg(gt,re.get(gt.key));null!=Qt&&ht.push(new Bu(gt.key,Qt,K(Qt.value.mapValue),Zi.exists(!0)))}return C.Bs.addMutationBatch(ye,H,ht,m)})).then(ye=>(ye.applyToLocalDocumentSet(re),{batchId:ye.batchId,changes:re}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,m,C){let H=d.ua[d.currentUser.toKey()];H||(H=new sr(Ln)),H=H.insert(m,C),d.ua[d.currentUser.toKey()]=H}(o,u.batchId,t),yield Ea(o,u.changes),yield Kl(o.remoteStore)}catch(u){const d=Ql(u,"Failed to persist write");t.reject(d)}}),wm.apply(this,arguments)}function va(i,e){return bm.apply(this,arguments)}function bm(){return bm=(0,se.Z)(function*(i,e){const t=$(i);try{const o=yield Yg(t.localStore,e);e.targetChanges.forEach((u,d)=>{const m=t.ra.get(d);m&&(A(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.Zu=!0:u.modifiedDocuments.size>0?A(m.Zu):u.removedDocuments.size>0&&(A(m.Zu),m.Zu=!1))}),yield Ea(t,o,e)}catch(o){yield zl(o)}}),bm.apply(this,arguments)}function u_(i,e,t){const o=$(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ea.forEach((d,m)=>{const C=m.view.Au(e);C.snapshot&&u.push(C.snapshot)}),function(d,m){const C=$(d);C.onlineState=m;let H=!1;C.queries.forEach((Z,re)=>{for(const ye of re.listeners)ye.Au(m)&&(H=!0)}),H&&Wh(C)}(o.eventManager,e),u.length&&o.ta.Qo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Im(i,e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,se.Z)(function*(i,e,t){const o=$(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.ra.get(e),d=u&&u.key;if(d){let m=new sr(Et.comparator);m=m.insert(d,ne.newNoDocument(d,Gt.min()));const C=Gn().add(d),H=new Eu(Gt.min(),new Map,new ei(Ln),m,C);yield va(o,H),o.ia=o.ia.remove(d),o.ra.delete(e),xp(o)}else yield xa(o.localStore,e,!1).then(()=>Lc(o,e,t)).catch(zl)}),Kh.apply(this,arguments)}function Cm(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,se.Z)(function*(i,e){const t=$(i),o=e.batch.batchId;try{const u=yield Kf(t.localStore,e);Sp(t,o,null),Sd(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Ea(t,u)}catch(u){yield zl(u)}}),Dp.apply(this,arguments)}function qv(i,e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,se.Z)(function*(i,e,t){const o=$(i);try{const u=yield function(d,m){const C=$(d);return C.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let Z;return C.Bs.lookupMutationBatch(H,m).next(re=>(A(null!==re),Z=re.keys(),C.Bs.removeMutationBatch(H,re))).next(()=>C.Bs.performConsistencyCheck(H)).next(()=>C.ci.Ks(H,Z))})}(o.localStore,e);Sp(o,e,t),Sd(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Ea(o,u)}catch(u){yield zl(u)}}),Yh.apply(this,arguments)}function Ap(){return Ap=(0,se.Z)(function*(i,e){const t=$(i);Xu(t.remoteStore)||vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const m=$(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>m.Bs.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===o)return void e.resolve();const u=t.aa.get(o)||[];u.push(e),t.aa.set(o,u)}catch(o){const u=Ql(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Ap.apply(this,arguments)}function Sd(i,e){(i.aa.get(e)||[]).forEach(t=>{t.resolve()}),i.aa.delete(e)}function Sp(i,e,t){const o=$(i);let u=o.ua[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.ua[o.currentUser.toKey()]=u}}function Lc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.na.get(e))i.ea.delete(o),t&&i.ta.fa(o,t);i.na.delete(e),i.isPrimaryClient&&i.oa.Pi(e).forEach(o=>{i.oa.containsKey(o)||Dm(i,o)})}function Dm(i,e){i.sa.delete(e.path.canonicalString());const t=i.ia.get(e);null!==t&&(Zl(i.remoteStore,t),i.ia=i.ia.remove(e),i.ra.delete(t),xp(i))}function Mp(i,e,t){for(const o of t)o instanceof gm?(i.oa.addReference(o.key,e),l_(i,o)):o instanceof mm?(vt("SyncEngine","Document no longer in limbo: "+o.key),i.oa.removeReference(o.key,e),i.oa.containsKey(o.key)||Dm(i,o.key)):y()}function l_(i,e){const t=e.key,o=t.path.canonicalString();i.ia.get(t)||i.sa.has(o)||(vt("SyncEngine","New document in limbo: "+t),i.sa.add(o),xp(i))}function xp(i){for(;i.sa.size>0&&i.ia.size<i.maxConcurrentLimboResolutions;){const e=i.sa.values().next().value;i.sa.delete(e);const t=new Et(x.fromString(e)),o=i.ca.next();i.ra.set(o,new ym(t)),i.ia=i.ia.insert(t,o),Lh(i.remoteStore,new Xa(Ro(sa(t.path)),o,2,Xr.A))}}function Ea(i,e,t){return nl.apply(this,arguments)}function nl(){return nl=(0,se.Z)(function*(i,e,t){const o=$(i),u=[],d=[],m=[];var C;o.ea.isEmpty()||(o.ea.forEach((C,H)=>{m.push(o.la(H,e,t).then(Z=>{if(Z){o.isPrimaryClient&&o.sharedClientState.updateQueryState(H.targetId,Z.fromCache?"not-current":"current"),u.push(Z);const re=Sh.Ys(H.targetId,Z);d.push(re)}}))}),yield Promise.all(m),o.ta.Qo(u),yield(C=(0,se.Z)(function*(H,Z){const re=$(H);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",ye=>rt.forEach(Z,Ke=>rt.forEach(Ke.Hs,ht=>re.persistence.referenceDelegate.addReference(ye,Ke.targetId,ht)).next(()=>rt.forEach(Ke.Js,ht=>re.persistence.referenceDelegate.removeReference(ye,Ke.targetId,ht)))))}catch(ye){if(!Wu(ye))throw ye;vt("LocalStore","Failed to update sequence numbers: "+ye)}for(const ye of Z){const Ke=ye.targetId;if(!ye.fromCache){const ht=re.ii.get(Ke),Qt=ht.withLastLimboFreeSnapshotVersion(ht.snapshotVersion);re.ii=re.ii.insert(Ke,Qt)}}}),function(H,Z){return C.apply(this,arguments)})(o.localStore,d))}),nl.apply(this,arguments)}function c_(i,e){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,se.Z)(function*(i,e){const t=$(i);if(!t.currentUser.isEqual(e)){vt("SyncEngine","User change. New user:",e.toKey());const o=yield qf(t.localStore,e);t.currentUser=e,(u=t).aa.forEach(m=>{m.forEach(C=>{C.reject(new X(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.aa.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ea(t,o.hi)}var u}),Jl.apply(this,arguments)}function d_(i,e){const t=$(i),o=t.ra.get(e);if(o&&o.Zu)return Gn().add(o.key);{let u=Gn();const d=t.na.get(e);if(!d)return u;for(const m of d){const C=t.ea.get(m);u=u.unionWith(C.view.Ku)}return u}}function h_(i,e){return Md.apply(this,arguments)}function Md(){return Md=(0,se.Z)(function*(i,e){const t=$(i),o=yield Cu(t.localStore,e.query,!0),u=e.view.Yu(o);return t.isPrimaryClient&&Mp(t,e.targetId,u.Hu),u}),Md.apply(this,arguments)}function ru(i,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,se.Z)(function*(i,e){const t=$(i);return ql(t.localStore,e).then(o=>Ea(t,o))}),Xl.apply(this,arguments)}function _o(i,e,t,o){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,se.Z)(function*(i,e,t,o){const u=$(i),d=yield function(m,C){const H=$(m),Z=$(H.Bs);return H.persistence.runTransaction("Lookup mutation documents","readonly",re=>Z.fn(re,C).next(ye=>ye?H.ci.Ks(re,ye):rt.resolve(null)))}(u.localStore,e);var C;null!==d?("pending"===t?yield Kl(u.remoteStore):"acknowledged"===t||"rejected"===t?(Sp(u,e,o||null),Sd(u,e),C=e,$($(u.localStore).Bs)._n(C)):y(),yield Ea(u,d)):vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Tu.apply(this,arguments)}function zo(){return zo=(0,se.Z)(function*(i,e){const t=$(i);if(ol(t),al(t),!0===e&&!0!==t.ha){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Jh(t,o.toArray());t.ha=!0,yield zh(t.remoteStore,!0);for(const d of u)Lh(t.remoteStore,d)}else if(!1===e&&!1!==t.ha){const o=[];let u=Promise.resolve();t.na.forEach((d,m)=>{t.sharedClientState.isLocalQueryTarget(m)?o.push(m):u=u.then(()=>(Lc(t,m),xa(t.localStore,m,!0))),Zl(t.remoteStore,m)}),yield u,yield Jh(t,o),function(d){const m=$(d);m.ra.forEach((C,H)=>{Zl(m.remoteStore,H)}),m.oa.bi(),m.ra=new Map,m.ia=new sr(Et.comparator)}(t),t.ha=!1,yield zh(t.remoteStore,!1)}}),zo.apply(this,arguments)}function Jh(i,e,t){return rl.apply(this,arguments)}function rl(){return rl=(0,se.Z)(function*(i,e,t){const o=$(i),u=[],d=[];for(const m of e){let C;const H=o.na.get(m);if(H&&0!==H.length){C=yield tu(o.localStore,Ro(H[0]));for(const Z of H){const re=o.ea.get(Z),ye=yield h_(o,re);ye.snapshot&&d.push(ye.snapshot)}}else{const Z=yield Oc(o.localStore,m);C=yield tu(o.localStore,Z),yield vm(o,ec(Z),m,!1)}u.push(C)}return o.ta.Qo(d),u}),rl.apply(this,arguments)}function ec(i){return lc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Vc(i){const e=$(i);return $($(e.localStore).persistence).Fs()}function Uc(i,e,t,o){return il.apply(this,arguments)}function il(){return il=(0,se.Z)(function*(i,e,t,o){const u=$(i);if(u.ha)return void vt("SyncEngine","Ignoring unexpected query state notification.");const d=u.na.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const m=yield ql(u.localStore,hc(d[0])),C=Eu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ea(u,m,C);break}case"rejected":yield xa(u.localStore,e,!0),Lc(u,e,o);break;default:y()}}),il.apply(this,arguments)}function Bc(i,e,t){return sl.apply(this,arguments)}function sl(){return sl=(0,se.Z)(function*(i,e,t){const o=ol(i);if(o.ha){for(const u of e){if(o.na.has(u)){vt("SyncEngine","Adding an already active target "+u);continue}const d=yield Oc(o.localStore,u),m=yield tu(o.localStore,d);yield vm(o,ec(d),m.targetId,!1),Lh(o.remoteStore,m)}for(const u of t)o.na.has(u)&&(yield xa(o.localStore,u,!1).then(()=>{Zl(o.remoteStore,u),Lc(o,u)}).catch(zl))}}),sl.apply(this,arguments)}function ol(i){const e=$(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=va.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Im.bind(null,e),e.ta.Qo=Oa.bind(null,e.eventManager),e.ta.fa=bp.bind(null,e.eventManager),e}function al(i){const e=$(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qv.bind(null,e),e}class Rp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,se.Z)(function*(){t.M=Id(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return Iu(this.persistence,new Mh,e.initialUser,this.M)}wa(e){return new rm(Jf.zi,this.M)}_a(e){return new np}terminate(){var e=this;return(0,se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Op extends Rp{constructor(e,t,o){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,se.Z)(function*(){yield t().call(o,e),yield o.ya.initialize(o,e),yield al(o.ya.syncEngine),yield Kl(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return Iu(this.persistence,new Mh,e.initialUser,this.M)}ma(e){return new jv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=Ah(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new eu(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,rp(),Ph(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new np}}class Am extends Op{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,se.Z)(function*(){yield t().call(o,e);const u=o.ya.syncEngine;o.sharedClientState instanceof bd&&(o.sharedClientState.syncEngine={Mr:_o.bind(null,u),Or:Uc.bind(null,u),Fr:Bc.bind(null,u),Fs:Vc.bind(null,u),kr:ru.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var d=(0,se.Z)(function*(m){yield function Qh(i,e){return zo.apply(this,arguments)}(o.ya.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):m||o.gcScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}_a(e){const t=rp();if(!bd.vt(t))throw new X(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Ah(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bd(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Xh{initialize(e,t){var o=this;return(0,se.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>u_(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=c_.bind(null,o.syncEngine),yield zh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Fc}createDatastore(e){const t=Id(e.databaseInfo.databaseId),o=new Yy(e.databaseInfo);return new sp(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=C=>u_(this.syncEngine,C,0),m=om.vt()?new om:new Zy,new Xy(t,o,u,d,m);var t,o,u,d,m}createSyncEngine(e,t){return function(o,u,d,m,C,H,Z){const re=new s_(o,u,d,m,C,H);return Z&&(re.ha=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,se.Z)(function*(t){const o=$(t);vt("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield Pc(o),o._u.shutdown(),o.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Pp(i,e=10240){let t=0;return{read:()=>(0,se.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class xd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Sm{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new je,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,se.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,se.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,se.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const o=e.Ea.decode(t),u=Number(o);isNaN(u)&&e.Pa(`length string (${o}) is not valid number`);const d=yield e.ba(u);return new fm(JSON.parse(d),t.length+u)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,se.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}ba(e){var t=this;return(0,se.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const o=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,se.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Mm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new X(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,se.Z)(function*(d,m){const C=$(d),H=Bl(C.M)+"/documents",Z={documents:m.map(ht=>$u(C.M,ht))},re=yield C.ho("BatchGetDocuments",H,Z),ye=new Map;re.forEach(ht=>{const gt=function ch(i,e){return"found"in e?function(t,o){A(!!o.found);const u=ii(t,o.found.name),d=bs(o.found.updateTime),m=new k({mapValue:{fields:o.found.fields}});return ne.newFoundDocument(u,d,m)}(i,e):"missing"in e?function(t,o){A(!!o.missing),A(!!o.readTime);const u=ii(t,o.missing),d=bs(o.readTime);return ne.newNoDocument(u,d)}(i,e):y()}(C.M,ht);ye.set(gt.key.toString(),gt)});const Ke=[];return m.forEach(ht=>{const gt=ye.get(ht.toString());A(!!gt),Ke.push(gt)}),Ke}),function(d,m){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new xl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const d=Et.fromPath(u);e.mutations.push(new Rl(d,e.precondition(d)))}),yield(o=(0,se.Z)(function*(u,d){const m=$(u),C=Bl(m.M)+"/documents",H={writes:d.map(Z=>wu(m.M,Z))};yield m.oo("Commit",C,H)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw y();t=Gt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new X(z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zi.updateTime(t):Zi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gt.min()))throw new X(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zi.updateTime(t)}return Zi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class f_{constructor(e,t,o,u){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=u,this.Sa=5,this.Do=new Nh(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,se.Z)(function*(){const t=new Mm(e.datastore),o=e.Ca(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.xa(d)}))}).catch(u=>{e.xa(u)})}))}Ca(e){try{const t=this.updateFunction(e);return!Kr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ol(t)}return!1}}class xm{constructor(e,t,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=fi.UNAUTHENTICATED,this.clientId=yl.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,se.Z)(function*(C){vt("FirestoreClient","Received user=",C.uid),yield d.authCredentialListener(C),d.user=C});return function(C){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(vt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new je;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Ql(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Rm(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,se.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),vt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,se.Z)(function*(d){o.isEqual(d)||(yield qf(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),ef.apply(this,arguments)}function Np(i,e){return kp.apply(this,arguments)}function kp(){return kp=(0,se.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Fp(i);vt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>pp(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>pp(e.remoteStore,d)),i.onlineComponents=e}),kp.apply(this,arguments)}function Fp(i){return tf.apply(this,arguments)}function tf(){return tf=(0,se.Z)(function*(i){return i.offlineComponents||(vt("FirestoreClient","Using default OfflineComponentProvider"),yield Rm(i,new Rp)),i.offlineComponents}),tf.apply(this,arguments)}function nf(i){return rf.apply(this,arguments)}function rf(){return rf=(0,se.Z)(function*(i){return i.onlineComponents||(vt("FirestoreClient","Using default OnlineComponentProvider"),yield Np(i,new Xh)),i.onlineComponents}),rf.apply(this,arguments)}function Om(i){return Fp(i).then(e=>e.persistence)}function Lp(i){return Fp(i).then(e=>e.localStore)}function p_(i){return nf(i).then(e=>e.remoteStore)}function Vp(i){return nf(i).then(e=>e.syncEngine)}function ul(i){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,se.Z)(function*(i){const e=yield nf(i),t=e.eventManager;return t.onListen=o_.bind(null,e.syncEngine),t.onUnlisten=a_.bind(null,e.syncEngine),t}),Rd.apply(this,arguments)}function m_(i,e,t={}){const o=new je;return i.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(u,d,m,C,H){const Z=new xd({next:ye=>{d.enqueueAndForget(()=>Ep(u,re));const Ke=ye.docs.has(m);!Ke&&ye.fromCache?H.reject(new X(z.UNAVAILABLE,"Failed to get document because the client is offline.")):Ke&&ye.fromCache&&C&&"server"===C.source?H.reject(new X(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(ye)},error:ye=>H.reject(ye)}),re=new qh(sa(m.path),Z,{includeMetadataChanges:!0,Cu:!0});return _p(u,re)}(yield ul(i),i.asyncQueue,e,t,o)})),o.promise}function Up(i,e,t={}){const o=new je;return i.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(u,d,m,C,H){const Z=new xd({next:ye=>{d.enqueueAndForget(()=>Ep(u,re)),ye.fromCache&&"server"===C.source?H.reject(new X(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(ye)},error:ye=>H.reject(ye)}),re=new qh(m,Z,{includeMetadataChanges:!0,Cu:!0});return _p(u,re)}(yield ul(i),i.asyncQueue,e,t,o)})),o.promise}const Bp=new Map;function jp(i,e,t){if(!t)throw new X(z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Hp(i,e,t,o){if(!0===e&&!0===o)throw new X(z.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Od(i){if(!Et.isDocumentKey(i))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Pm(i){if(Et.isDocumentKey(i))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Pd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":y()}function Mr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pd(i);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Nm(i,e){if(e<=0)throw new X(z.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class km{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Hp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new km({}),this._settingsFrozen=!1,e instanceof Yn?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yn(u.options.projectId)}(e))}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new km(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Hn;switch(t.type){case"gapi":const o=t.client;return A(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Ps(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Bp.get(e);t&&(vt("ComponentProvider","Removing Datastore"),Bp.delete(e),t.terminate())}(this),Promise.resolve()}}class pi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pi(this.firestore,e,this._key)}}class vo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class Pa extends vo{constructor(e,t,o){super(e,t,sa(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pi(this.firestore,null,new Et(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function $p(i,e,...t){if(i=(0,ze.m9)(i),jp("collection","path",e),i instanceof Nd){const o=x.fromString(e,...t);return Pm(o),new Pa(i,null,o)}{if(!(i instanceof pi||i instanceof Pa))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(x.fromString(e,...t));return Pm(o),new Pa(i.firestore,null,o)}}function zp(i,e,...t){if(i=(0,ze.m9)(i),1===arguments.length&&(e=yl.R()),jp("doc","path",e),i instanceof Nd){const o=x.fromString(e,...t);return Od(o),new pi(i,null,new Et(o))}{if(!(i instanceof pi||i instanceof Pa))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(x.fromString(e,...t));return Od(o),new pi(i.firestore,i instanceof Pa?i.converter:null,new Et(o))}}function sf(i,e){return i=(0,ze.m9)(i),e=(0,ze.m9)(e),(i instanceof pi||i instanceof Pa)&&(e instanceof pi||e instanceof Pa)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Fm(i,e){return i=(0,ze.m9)(i),e=(0,ze.m9)(e),i instanceof vo&&e instanceof vo&&i.firestore===e.firestore&&Fu(i._query,e._query)&&i.converter===e.converter}class Qv{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Nh(this,"async_queue_retry"),this.qa=()=>{const t=Ph();t&&vt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=Ph();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new je;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,se.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Wu(t))throw t;vt("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,vr("INTERNAL UNHANDLED ERROR: ",function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),m}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=t,t}enqueueAfterDelay(e,t,o){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const u=mp.createAndSchedule(this,e,t,o,d=>this.ja(d));return this.Fa.push(u),u}Ka(){this.$a&&y()}verifyOperationInProgress(){}Wa(){var e=this;return(0,se.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function tc(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Lm{constructor(){this._progressObserver={},this._taskCompletionResolver=new je,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gi extends Nd{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new Qv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||of(this),this._firestoreClient.terminate()}}function Yi(i){return i._firestoreClient||of(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function of(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new zi(i._databaseId,d,i._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var d,C;i._firestoreClient=new xm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function af(i,e,t){const o=new je;return i.asyncQueue.enqueue((0,se.Z)(function*(){try{yield Rm(i,t),yield Np(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(d=u).name?d.code===z.FAILED_PRECONDITION||d.code===z.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var d})).then(()=>o.promise)}function Qp(i){if(i._initialized||i._terminated)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Au{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ee(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(at.fromBase64String(e))}catch(t){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Na(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Su{constructor(e){this._methodName=e}}class kd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)}}const C_=/^__.*__$/;class D_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new _u(e,this.data,t,this.fieldTransforms)}}class jm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uf(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class nc{constructor(e,t,o,u,d,m){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=u,void 0===d&&this.Ya(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new nc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Za({path:o,ec:!1});return u.nc(e),u}sc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Za({path:o,ec:!1});return u.Ya(),u}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Ld(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(uf(this.Xa)&&C_.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Jp{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||Id(e)}ac(e,t,o,u=!1){return new nc({Xa:e,methodName:t,uc:o,path:ee.emptyPath(),ec:!1,oc:u},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ll(i){const e=i._freezeSettings(),t=Id(i._databaseId);return new Jp(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Fd(i,e,t,o,u,d={}){const m=i.ac(d.merge||d.mergeFields?2:0,e,t,u);ig("Data must be an object, but it was:",m,o);const C=Is(o,m);let H,Z;if(d.merge)H=new ve(m.fieldMask),Z=m.fieldTransforms;else if(d.mergeFields){const re=[];for(const ye of d.mergeFields){const Ke=sg(e,ye,t);if(!m.contains(Ke))throw new X(z.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);og(re,Ke)||re.push(Ke)}H=new ve(re),Z=m.fieldTransforms.filter(ye=>H.covers(ye.field))}else H=null,Z=m.fieldTransforms;return new D_(new k(C),H,Z)}class Hc extends Su{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hc}}function Xp(i,e,t){return new nc({Xa:3,uc:e.settings.uc,methodName:i._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class lf extends Su{_toFieldTransform(e){return new Uu(e.path,new pu)}isEqual(e){return e instanceof lf}}class Hm extends Su{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Xp(this,e,!0),o=this.cc.map(d=>rc(d,t)),u=new gu(o);return new Uu(e.path,u)}isEqual(e){return this===e}}class $m extends Su{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Xp(this,e,!0),o=this.cc.map(d=>rc(d,t)),u=new Vu(o);return new Uu(e.path,u)}isEqual(e){return this===e}}class e0 extends Su{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Tl(e.M,Rf(e.M,this.hc));return new Uu(e.path,t)}isEqual(e){return this===e}}function eg(i,e,t,o){const u=i.ac(1,e,t);ig("Data must be an object, but it was:",u,o);const d=[],m=k.empty();Ta(o,(H,Z)=>{const re=cf(e,H,t);Z=(0,ze.m9)(Z);const ye=u.sc(re);if(Z instanceof Hc)d.push(re);else{const Ke=rc(Z,ye);null!=Ke&&(d.push(re),m.set(re,Ke))}});const C=new ve(d);return new jm(m,C,u.fieldTransforms)}function tg(i,e,t,o,u,d){const m=i.ac(1,e,t),C=[sg(e,o,t)],H=[u];if(d.length%2!=0)throw new X(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<d.length;Ke+=2)C.push(sg(e,d[Ke])),H.push(d[Ke+1]);const Z=[],re=k.empty();for(let Ke=C.length-1;Ke>=0;--Ke)if(!og(Z,C[Ke])){const ht=C[Ke];let gt=H[Ke];gt=(0,ze.m9)(gt);const Qt=m.sc(ht);if(gt instanceof Hc)Z.push(ht);else{const Wn=rc(gt,Qt);null!=Wn&&(Z.push(ht),re.set(ht,Wn))}}const ye=new ve(Z);return new jm(re,ye,m.fieldTransforms)}function ng(i,e,t,o=!1){return rc(t,i.ac(o?4:3,e))}function rc(i,e){if(rg(i=(0,ze.m9)(i)))return ig("Unsupported field value:",e,i),Is(i,e);if(i instanceof Su)return function(t,o){if(!uf(o.Xa))throw o.rc(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,o){const u=[];let d=0;for(const m of t){let C=rc(m,o.ic(d));null==C&&(C={nullValue:"NULL_VALUE"}),u.push(C),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,ze.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Rf(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=li.fromDate(t);return{timestampValue:Ll(o.M,u)}}if(t instanceof li){const u=new li(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ll(o.M,u)}}if(t instanceof kd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Na)return{bytesValue:oa(o.M,t._byteString)};if(t instanceof pi){const u=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw o.rc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vl(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.rc(`Unsupported field value: ${Pd(t)}`)}(i,e)}function Is(i,e){const t={};return D(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(i,(o,u)=>{const d=rc(u,e.tc(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function rg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof li||i instanceof kd||i instanceof Na||i instanceof pi||i instanceof Su)}function ig(i,e,t){if(!rg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Pd(t);throw e.rc("an object"===o?i+" a custom object":i+" "+o)}var o}function sg(i,e,t){if((e=(0,ze.m9)(e))instanceof Au)return e._internalPath;if("string"==typeof e)return cf(i,e);throw Ld("Field path arguments must be of type string or ",i,!1,void 0,t)}const Gm=new RegExp("[~\\*/\\[\\]]");function cf(i,e,t){if(e.search(Gm)>=0)throw Ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Au(...e.split("."))._internalPath}catch(o){throw Ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ld(i,e,t,o,u){const d=o&&!o.isEmpty(),m=void 0!==u;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let H="";return(d||m)&&(H+=" (found",d&&(H+=` in field ${o}`),m&&(H+=` in document ${u}`),H+=")"),new X(z.INVALID_ARGUMENT,C+i+H)}function og(i,e){return i.some(t=>t.isEqual(e))}class iu{constructor(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new T_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(df("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class T_ extends iu{data(){return super.data()}}function df(i,e){return"string"==typeof e?cf(i,e):e instanceof Au?e._internalPath:e._delegate._internalPath}class cl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mu extends iu{constructor(e,t,o,u,d,m){super(e,t,o,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(df("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class $c extends Mu{data(e={}){return super.data(e)}}class ic{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new cl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new $c(this._firestore,this._userDataWriter,o.key,o,new cl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new $c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||3!==m.type).map(m=>{const C=new $c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let H=-1,Z=-1;return 0!==m.type&&(H=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),Z=d.indexOf(m.doc.key)),{type:zm(m.type),doc:C,oldIndex:H,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function hf(i,e){return i instanceof Mu&&e instanceof Mu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ic&&e instanceof ic&&i._firestore===e._firestore&&Fm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function ka(i){if(Nu(i)&&0===i.explicitOrderBy.length)throw new X(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vd{}function dl(i,...e){for(const t of e)i=t._apply(i);return i}class su extends Vd{constructor(e,t,o){super(),this.lc=e,this.fc=t,this.dc=o,this.type="where"}_apply(e){const t=ll(e.firestore),o=function(u,d,m,C,H,Z,re){let ye;if(H.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new X(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){cg(re,Z);const ht=[];for(const gt of re)ht.push(lg(C,u,gt));ye={arrayValue:{values:ht}}}else ye=lg(C,u,re)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||cg(re,Z),ye=ng(m,"where",re,"in"===Z||"not-in"===Z);const Ke=Fi.create(H,Z,ye);return function(ht,gt){if(gt.S()){const Wn=ku(ht);if(null!==Wn&&!Wn.isEqual(gt.field))throw new X(z.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Wn.toString()}' and '${gt.field.toString()}'`);const mi=Yd(ht);null!==mi&&Ud(0,gt.field,mi)}const Qt=function(Wn,mi){for(const Di of Wn.filters)if(mi.indexOf(Di.op)>=0)return Di.op;return null}(ht,function(Wn){switch(Wn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(gt.op));if(null!==Qt)throw new X(z.INVALID_ARGUMENT,Qt===gt.op?`Invalid query. You cannot use more than one '${gt.op.toString()}' filter.`:`Invalid query. You cannot use '${gt.op.toString()}' filters with '${Qt.toString()}' filters.`)}(u,Ke),Ke}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new vo(e.firestore,e.converter,function(u,d){const m=u.filters.concat([d]);return new jo(u.path,u.collectionGroup,u.explicitOrderBy.slice(),m,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class La extends Vd{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(o,u,d){if(null!==o.startAt)throw new X(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new X(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Il(u,d);return function(C,H){if(null===Yd(C)){const Z=ku(C);null!==Z&&Ud(0,Z,H.field)}}(o,m),m}(e._query,this.lc,this._c);return new vo(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new jo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class ag extends Vd{constructor(e,t,o){super(),this.type=e,this.wc=t,this.mc=o}_apply(e){return new vo(e.firestore,e.converter,dc(e._query,this.wc,this.mc))}}class qm extends Vd{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=Km(e,this.type,this.gc,this.yc);return new vo(e.firestore,e.converter,(u=t,new jo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class Gc extends Vd{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=Km(e,this.type,this.gc,this.yc);return new vo(e.firestore,e.converter,(u=t,new jo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Km(i,e,t,o){if(t[0]=(0,ze.m9)(t[0]),t[0]instanceof iu)return function(u,d,m,C,H){if(!C)throw new X(z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const Z=[];for(const re of fu(u))if(re.field.isKeyField())Z.push(ta(d,C.key));else{const ye=C.data.field(re.field);if(ar(ye))throw new X(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ye){const Ke=re.field.canonicalString();throw new X(z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ke}' (used as the orderBy) does not exist.`)}Z.push(ye)}return new ia(Z,H)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=ll(i.firestore);return function(d,m,C,H,Z,re){const ye=d.explicitOrderBy;if(Z.length>ye.length)throw new X(z.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ke=[];for(let ht=0;ht<Z.length;ht++){const gt=Z[ht];if(ye[ht].field.isKeyField()){if("string"!=typeof gt)throw new X(z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof gt}`);if(!Cl(d)&&-1!==gt.indexOf("/"))throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${gt}' contains a slash.`);const Qt=d.path.child(x.fromString(gt));if(!Et.isDocumentKey(Qt))throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${Qt}' is not because it contains an odd number of segments.`);const Wn=new Et(Qt);Ke.push(ta(m,Wn))}else{const Qt=ng(C,H,gt);Ke.push(Qt)}}return new ia(Ke,re)}(i._query,i.firestore._databaseId,u,e,t,o)}}function lg(i,e,t){if("string"==typeof(t=(0,ze.m9)(t))){if(""===t)throw new X(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cl(e)&&-1!==t.indexOf("/"))throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(x.fromString(t));if(!Et.isDocumentKey(o))throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ta(i,new Et(o))}if(t instanceof pi)return ta(i,t._key);throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pd(t)}.`)}function cg(i,e){if(!Array.isArray(i)||0===i.length)throw new X(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new X(z.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ud(i,e,t){if(!t.isEqual(e))throw new X(z.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class dg{convertValue(e,t="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}}convertObject(e,t){const o={};return Ta(e.fields,(u,d)=>{o[u]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new kd(bn(e.latitude),bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Lr(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(ri(e));default:return null}}convertTimestamp(e){const t=_n(e);return new li(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=x.fromString(e);A(Tn(o));const u=new Yn(o.get(1),o.get(3)),d=new Et(o.popFirst(5));return u.isEqual(t)||vr(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Bd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Ym extends dg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,t)}}class ff{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ll(e)}set(e,t,o){this._verifyNotCommitted();const u=Va(e,this._firestore),d=Bd(u.converter,t,o),m=Fd(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(m.toMutation(u._key,Zi.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const d=Va(e,this._firestore);let m;return m="string"==typeof(t=(0,ze.m9)(t))||t instanceof Au?tg(this._dataReader,"WriteBatch.update",d._key,t,o,u):eg(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(m.toMutation(d._key,Zi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Va(e,this._firestore);return this._mutations=this._mutations.concat(new xl(t._key,Zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new X(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Va(i,e){if((i=(0,ze.m9)(i)).firestore!==e)throw new X(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class hl extends dg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,t)}}function hg(i,e,t){i=Mr(i,pi);const o=Mr(i.firestore,gi),u=Bd(i.converter,e,t);return zc(o,[Fd(ll(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Zi.none())])}function ry(i,e,t,...o){i=Mr(i,pi);const u=Mr(i.firestore,gi),d=ll(u);let m;return m="string"==typeof(e=(0,ze.m9)(e))||e instanceof Au?tg(d,"updateDoc",i._key,e,t,o):eg(d,"updateDoc",i._key,e),zc(u,[m.toMutation(i._key,Zi.exists(!0))])}function iy(i,...e){var t,o,u;i=(0,ze.m9)(i);let d={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||tc(e[m])||(d=e[m],m++);const C={includeMetadataChanges:d.includeMetadataChanges};if(tc(e[m])){const ye=e[m];e[m]=null===(t=ye.next)||void 0===t?void 0:t.bind(ye),e[m+1]=null===(o=ye.error)||void 0===o?void 0:o.bind(ye),e[m+2]=null===(u=ye.complete)||void 0===u?void 0:u.bind(ye)}let H,Z,re;if(i instanceof pi)Z=Mr(i.firestore,gi),re=sa(i._key.path),H={next:ye=>{e[m]&&e[m](fg(Z,i,ye))},error:e[m+1],complete:e[m+2]};else{const ye=Mr(i,vo);Z=Mr(ye.firestore,gi),re=ye._query;const Ke=new hl(Z);H={next:ht=>{e[m]&&e[m](new ic(Z,Ke,ye,ht))},error:e[m+1],complete:e[m+2]},ka(i._query)}return function(ye,Ke,ht,gt){const Qt=new xd(gt),Wn=new qh(Ke,Qt,ht);return ye.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return _p(yield ul(ye),Wn)})),()=>{Qt.Ia(),ye.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return Ep(yield ul(ye),Wn)}))}}(Yi(Z),re,C,H)}function zc(i,e){return function(t,o){const u=new je;return t.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function Em(i,e,t){return wm.apply(this,arguments)}(yield Vp(t),o,u)})),u.promise}(Yi(i),e)}function fg(i,e,t){const o=t.docs.get(e._key),u=new hl(i);return new Mu(i,u,e._key,o,new cl(t.hasPendingWrites,t.fromCache),e.converter)}class N_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ll(e)}get(e){const t=Va(e,this._firestore),o=new Ym(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return y();const d=u[0];if(d.isFoundDocument())return new iu(this._firestore,o,d.key,d,t.converter);if(d.isNoDocument())return new iu(this._firestore,o,t._key,null,t.converter);throw y()})}set(e,t,o){const u=Va(e,this._firestore),d=Bd(u.converter,t,o),m=Fd(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,m),this}update(e,t,o,...u){const d=Va(e,this._firestore);let m;return m="string"==typeof(t=(0,ze.m9)(t))||t instanceof Au?tg(this._dataReader,"Transaction.update",d._key,t,o,u):eg(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,m),this}delete(e){const t=Va(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Va(e,this._firestore),o=new hl(this._firestore);return super.get(e).then(u=>new Mu(this._firestore,o,t._key,u._document,new cl(!1,!1),t.converter))}}function pf(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new X("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function pg(){if("undefined"==typeof Uint8Array)throw new X("unimplemented","Uint8Arrays are not available in this environment.")}function gg(){if(!function ot(){return"undefined"!=typeof atob}())throw new X("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Ao=He.SDK_VERSION,(0,He._registerComponent)(new Xe.wA("firestore",(t,{options:o})=>{const u=t.getProvider("app").getImmediate(),d=new gi(u,new fr(t.getProvider("auth-internal")),new Vo(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC")),(0,He.registerVersion)(Ga,"3.4.8",i),(0,He.registerVersion)(Ga,"3.4.8","esm2017")}();class Wc{constructor(e){this._delegate=e}static fromBase64String(e){return gg(),new Wc(Na.fromBase64String(e))}static fromUint8Array(e){return pg(),new Wc(Na.fromUint8Array(e))}toBase64(){return gg(),this._delegate.toBase64()}toUint8Array(){return pg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gf(i){return function ay(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class uy{enableIndexedDbPersistence(e,t){return function Xv(i,e){Qp(i=Mr(i,gi));const t=Yi(i),o=i._freezeSettings(),u=new Xh;return af(t,u,new Op(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function w_(i){Qp(i=Mr(i,gi));const e=Yi(i),t=i._freezeSettings(),o=new Xh;return af(e,o,new Am(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Zp(i){if(i._initialized&&!i._terminated)throw new X(z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new je;return i._queue.enqueueAndForgetEvenWhileRestricted((0,se.Z)(function*(){try{yield(t=(0,se.Z)(function*(o){if(!Sa.vt())return Promise.resolve();const u=o+"main";yield Sa.delete(u)}),function(o){return t.apply(this,arguments)})(Ah(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class mg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Yn||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&b("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function E_(i,e,t,o={}){var u;const d=(i=Mr(i,Nd))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&b("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let m,C;if("string"==typeof o.mockUserToken)m=o.mockUserToken,C=fi.MOCK_USER;else{m=(0,ze.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new fi(H)}i._authCredentials=new Yt(new Ot(m,C))}}(this._delegate,e,t,o)}enableNetwork(){return function Um(i){return function g_(i){return i.asyncQueue.enqueue((0,se.Z)(function*(){const e=yield Om(i),t=yield p_(i);return e.setNetworkEnabled(!0),function(o){const u=$(o);return u.fu.delete(0),kh(u)}(t)}))}(Yi(i=Mr(i,gi)))}(this._delegate)}disableNetwork(){return function Kp(i){return function Zv(i){return i.asyncQueue.enqueue((0,se.Z)(function*(){const e=yield Om(i),t=yield p_(i);return e.setNetworkEnabled(!1),(o=(0,se.Z)(function*(u){const d=$(u);d.fu.add(0),yield Pc(d),d.wu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(Yi(i=Mr(i,gi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Hp("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Vm(i){return function(e){const t=new je;return e.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function Tp(i,e){return Ap.apply(this,arguments)}(yield Vp(e),t)})),t.promise}(Yi(i=Mr(i,gi)))}(this._delegate)}onSnapshotsInSync(e){return function P_(i,e){return function Yv(i,e){const t=new xd(e);return i.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return o=yield ul(i),u=t,$(o).Eu.add(u),void u.next();var o,u})),()=>{t.Ia(),i.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return o=yield ul(i),u=t,void $(o).Eu.delete(u);var o,u}))}}(Yi(i=Mr(i,gi)),tc(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new X("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Kc(this,$p(this._delegate,e))}catch(t){throw Wo(t,"collection()","Firestore.collection()")}}doc(e){try{return new so(this,zp(this._delegate,e))}catch(t){throw Wo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qo(this,function Gp(i,e){if(i=Mr(i,Nd),jp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vo(i,null,(t=e,new jo(x.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Wo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function k_(i,e){return function __(i,e){const t=new je;return i.asyncQueue.enqueueAndForget((0,se.Z)(function*(){const o=yield(u=i,nf(u).then(d=>d.datastore));var u;new f_(i.asyncQueue,o,e,t).run()})),t.promise}(Yi(i=Mr(i,gi)),t=>e(new N_(i,t)))}(this._delegate,t=>e(new fl(this,t)))}batch(){return Yi(this._delegate),new cy(new ff(this._delegate,e=>zc(this._delegate,e)))}loadBundle(e){return function Bm(i,e){const t=Yi(i=Mr(i,gi)),o=new Lm;return function jc(i,e,t,o){const u=function(d,m){let C;return C="string"==typeof d?(new TextEncoder).encode(d):d,H=function(H,Z){if(H instanceof Uint8Array)return Pp(H,Z);if(H instanceof ArrayBuffer)return Pp(new Uint8Array(H),Z);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new Sm(H,m);var H}(t,Id(e));i.asyncQueue.enqueueAndForget((0,se.Z)(function*(){!function Tm(i,e,t){const o=$(i);var u;(u=(0,se.Z)(function*(d,m,C){try{const H=yield m.getMetadata();if(yield function(Ke,ht){const gt=$(Ke),Qt=bs(ht.createTime);return gt.persistence.runTransaction("hasNewerBundle","readonly",Wn=>gt._s.getBundleMetadata(Wn,ht.id)).then(Wn=>!!Wn&&Wn.createTime.compareTo(Qt)>=0)}(d.localStore,H))return yield m.close(),C._completeWith({taskState:"Success",documentsLoaded:(Ke=H).totalDocuments,bytesLoaded:Ke.totalBytes,totalDocuments:Ke.totalDocuments,totalBytes:Ke.totalBytes}),Promise.resolve(new Set);C._updateProgress(pm(H));const Z=new i_(H,d.localStore,m.M);let re=yield m.da();for(;re;){const Ke=yield Z.ku(re);Ke&&C._updateProgress(Ke),re=yield m.da()}const ye=yield Z.complete();return yield Ea(d,ye.Fu,void 0),yield function(Ke,ht){const gt=$(Ke);return gt.persistence.runTransaction("Save bundle","readwrite",Qt=>gt._s.saveBundleMetadata(Qt,ht))}(d.localStore,H),C._completeWith(ye.progress),Promise.resolve(ye.Ou)}catch(H){return b("SyncEngine",`Loading bundle failed with ${H}`),C._failWith(H),Promise.resolve(new Set)}var Ke}),function(d,m,C){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Vp(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Yp(i,e){return function v_(i,e){return i.asyncQueue.enqueue((0,se.Z)(function*(){return function(t,o){const u=$(t);return u.persistence.runTransaction("Get named query","readonly",d=>u._s.getNamedQuery(d,o))}(yield Lp(i),e)}))}(Yi(i=Mr(i,gi)),e).then(t=>t?new vo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new qo(this,t):null)}}class jd extends dg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(new Na(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return so.forKey(t,this.firestore,null)}}class fl{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}get(e){const t=oc(e);return this._delegate.get(t).then(o=>new qc(this._firestore,new Mu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=oc(e);return o?(pf("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=oc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=oc(e);return this._delegate.delete(t),this}}class cy{constructor(e){this._delegate=e}set(e,t,o){const u=oc(e);return o?(pf("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=oc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=oc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class sc{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new $c(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zc(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=sc.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let d=u.get(t);return d||(d=new sc(e,new jd(e),t),u.set(t,d)),d}}sc.INSTANCES=new WeakMap;class so{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}static forPath(e,t,o){if(e.length%2!=0)throw new X("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new so(t,new pi(t._delegate,o,new Et(e)))}static forKey(e,t,o){return new so(t,new pi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Kc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Kc(this.firestore,$p(this._delegate,e))}catch(t){throw Wo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ze.m9)(e))instanceof pi&&sf(this._delegate,e)}set(e,t){t=pf("DocumentReference.set",t);try{return t?hg(this._delegate,e,t):hg(this._delegate,e)}catch(o){throw Wo(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?ry(this._delegate,e):ry(this._delegate,e,t,...o)}catch(u){throw Wo(u,"updateDoc()","DocumentReference.update()")}}delete(){return function R_(i){return zc(Mr(i.firestore,gi),[new xl(i._key,Zi.none())])}(this._delegate)}onSnapshot(...e){const t=mf(e),o=H_(e,u=>new qc(this.firestore,new Mu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return iy(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Jm(i){i=Mr(i,pi);const e=Mr(i.firestore,gi),t=Yi(e),o=new hl(e);return function Kv(i,e){const t=new je;return i.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return(o=(0,se.Z)(function*(u,d,m){try{const C=yield function(H,Z){const re=$(H);return re.persistence.runTransaction("read document","readonly",ye=>re.ci.Ls(ye,Z))}(u,d);C.isFoundDocument()?m.resolve(C):C.isNoDocument()?m.resolve(null):m.reject(new X(z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const H=Ql(C,`Failed to get document '${d} from cache`);m.reject(H)}}),function(u,d,m){return o.apply(this,arguments)})(yield Lp(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Mu(e,o,i._key,u,new cl(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Xm(i){i=Mr(i,pi);const e=Mr(i.firestore,gi);return m_(Yi(e),i._key,{source:"server"}).then(t=>fg(e,i,t))}(this._delegate):function Qm(i){i=Mr(i,pi);const e=Mr(i.firestore,gi);return m_(Yi(e),i._key).then(t=>fg(e,i,t))}(this._delegate),t.then(o=>new qc(this.firestore,new Mu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new so(this.firestore,this._delegate.withConverter(e?sc.getInstance(this.firestore,e):null))}}function Wo(i,e,t){return i.message=i.message.replace(e,t),i}function mf(i){for(const e of i)if("object"==typeof e&&!gf(e))return e;return{}}function H_(i,e){var t,o;let u;return u=gf(i[0])?i[0]:gf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class qc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new so(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hf(this._delegate,e._delegate)}}class Zc extends qc{data(e){const t=this._delegate.data(e);return function L(i,e){i||y()}(void 0!==t),t}}class qo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}where(e,t,o){try{return new qo(this.firestore,dl(this._delegate,function Fa(i,e,t){const o=e,u=df("where",i);return new su(u,o,t)}(e,t,o)))}catch(u){throw Wo(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qo(this.firestore,dl(this._delegate,function Wm(i,e="asc"){const t=e,o=df("orderBy",i);return new La(o,t)}(e,t)))}catch(o){throw Wo(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qo(this.firestore,dl(this._delegate,function A_(i){return Nm("limit",i),new ag("limit",i,"F")}(e)))}catch(t){throw Wo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qo(this.firestore,dl(this._delegate,function S_(i){return Nm("limitToLast",i),new ag("limitToLast",i,"L")}(e)))}catch(t){throw Wo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qo(this.firestore,dl(this._delegate,function M_(...i){return new qm("startAt",i,!0)}(...e)))}catch(t){throw Wo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qo(this.firestore,dl(this._delegate,function ug(...i){return new qm("startAfter",i,!1)}(...e)))}catch(t){throw Wo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qo(this.firestore,dl(this._delegate,function x_(...i){return new Gc("endBefore",i,!1)}(...e)))}catch(t){throw Wo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qo(this.firestore,dl(this._delegate,function Zm(...i){return new Gc("endAt",i,!0)}(...e)))}catch(t){throw Wo(t,"endAt()","Query.endAt()")}}isEqual(e){return Fm(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ty(i){i=Mr(i,vo);const e=Mr(i.firestore,gi),t=Yi(e),o=new hl(e);return function y_(i,e){const t=new je;return i.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return(o=(0,se.Z)(function*(u,d,m){try{const C=yield Cu(u,d,!0),H=new Cp(d,C.li),Z=H.Gu(C.documents),re=H.applyChanges(Z,!1);m.resolve(re.snapshot)}catch(C){const H=Ql(C,`Failed to execute query '${d} against cache`);m.reject(H)}}),function(u,d,m){return o.apply(this,arguments)})(yield Lp(i),e,t);var o})),t.promise}(t,i._query).then(u=>new ic(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function ny(i){i=Mr(i,vo);const e=Mr(i.firestore,gi),t=Yi(e),o=new hl(e);return Up(t,i._query,{source:"server"}).then(u=>new ic(e,o,i,u))}(this._delegate):function ey(i){i=Mr(i,vo);const e=Mr(i.firestore,gi),t=Yi(e),o=new hl(e);return ka(i._query),Up(t,i._query).then(u=>new ic(e,o,i,u))}(this._delegate),t.then(o=>new yg(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=mf(e),o=H_(e,u=>new yg(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return iy(this._delegate,t,o)}withConverter(e){return new qo(this.firestore,this._delegate.withConverter(e?sc.getInstance(this.firestore,e):null))}}class Pn{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Pn(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Zc(this._firestore,o))})}isEqual(e){return hf(this._delegate,e._delegate)}}class Kc extends qo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new so(this.firestore,e):null}doc(e){try{return new so(this.firestore,void 0===e?zp(this._delegate):zp(this._delegate,e))}catch(t){throw Wo(t,"doc()","CollectionReference.doc()")}}add(e){return function O_(i,e){const t=Mr(i.firestore,gi),o=zp(i),u=Bd(i.converter,e);return zc(t,[Fd(ll(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Zi.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new so(this.firestore,t))}isEqual(e){return sf(this._delegate,e._delegate)}withConverter(e){return new Kc(this.firestore,this._delegate.withConverter(e?sc.getInstance(this.firestore,e):null))}}function oc(i){return Mr(i,pi)}class Yc{constructor(...e){this._delegate=new Au(...e)}static documentId(){return new Yc(ee.keyField().canonicalString())}isEqual(e){return(e=(0,ze.m9)(e))instanceof Au&&this._delegate._internalPath.isEqual(e._internalPath)}}class ac{constructor(e){this._delegate=e}static serverTimestamp(){const e=function L_(){return new lf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ac(e)}static delete(){const e=function F_(){return new Hc("deleteField")}();return e._methodName="FieldValue.delete",new ac(e)}static arrayUnion(...e){const t=function V_(...i){return new Hm("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new ac(t)}static arrayRemove(...e){const t=function U_(...i){return new $m("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new ac(t)}static increment(e){const t=function B_(i){return new e0("increment",i)}(e);return t._methodName="FieldValue.increment",new ac(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yf={Firestore:mg,GeoPoint:kd,Timestamp:li,Blob:Wc,Transaction:fl,WriteBatch:cy,DocumentReference:so,DocumentSnapshot:qc,Query:qo,QueryDocumentSnapshot:Zc,QuerySnapshot:yg,CollectionReference:Kc,FieldPath:Yc,FieldValue:ac,setLogLevel:function ly(i){!function eo(i){ws.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function is(i){(function _f(i,e){i.INTERNAL.registerComponent(new Xe.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},yf)))})(i,(e,t)=>new mg(e,t,new uy)),i.registerVersion("@firebase/firestore-compat","0.1.17")}(yt.Z);var uc=j(1205),dy=j(7128),$_=j(127);function _g(i,e){return function G_(i,e=O.z){return new Q.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function vf(i,e){return _g(i,e).pipe((0,Be.U)(t=>({payload:t,type:"query"})))}function Hd(i,e){return vf(i,e).pipe((0,ut.O)(void 0),Me(),(0,Be.U)(([t,o])=>{const u=o.payload.docChanges(),d=u.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,C)=>{const H=u.find(re=>re.doc.ref.isEqual(m.ref)),Z=null==t?void 0:t.payload.docs.find(re=>re.ref.isEqual(m.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(m.metadata)||!H&&Z&&JSON.stringify(Z.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:m}})}),d}))}function fy(i,e,t){return Hd(i,t).pipe((0,et.R)((o,u)=>function z_(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function $d(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return vg(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return vg(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return vg(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(d=>d.payload),e),[]),function oe(i,e=ae.y){return i=null!=i?i:Ae,(0,be.e)((t,o)=>{let u,d=!0;t.subscribe((0,Ce.x)(o,m=>{const C=e(m);(d||!i(u,C))&&(d=!1,u=C,o.next(m))}))})}(),(0,Be.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function vg(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function py(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class gy{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Hd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Be.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,ut.O)(void 0),Me(),(0,ft.h)(([o,u])=>u.length>0||!o),(0,Be.U)(([o,u])=>u),he.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,et.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=py(e);return fy(this.query,t,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(e={}){return vf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),he.iC)}get(e){return(0,De.D)(this.query.get(e)).pipe(he.iC)}add(e){return this.ref.add(e)}doc(e){return new my(this.ref.doc(e),this.afs)}}class my{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:d}=Qc(o,t);return new gy(u,d,this.afs)}snapshotChanges(){return function hy(i,e){return _g(i,e).pipe((0,ut.O)(void 0),Me(),(0,Be.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Be.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,De.D)(this.ref.get(e)).pipe(he.iC)}}class Ef{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Hd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,ft.h)(t=>t.length>0),he.iC):Hd(this.query,this.afs.schedulers.outsideAngular).pipe(he.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,et.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=py(e);return fy(this.query,t,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(e={}){return vf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),he.iC)}get(e){return(0,De.D)(this.query.get(e)).pipe(he.iC)}}const Eg=new p.OlP("angularfire2.enableFirestorePersistence"),wg=new p.OlP("angularfire2.firestore.persistenceSettings"),yy=new p.OlP("angularfire2.firestore.settings"),W_=new p.OlP("angularfire2.firestore.use-emulator");function Qc(i,e=(t=>t)){return{query:e(i),ref:i}}let Jc=(()=>{class i{constructor(t,o,u,d,m,C,H,Z,re,ye,Ke,ht,gt,Qt,Wn,mi,Di){this.schedulers=H;const si=(0,ke.on)(t,C,o),Cs=re;ye&&(0,uc.nw)(si,C,Ke,gt,Qt,Wn,ht,mi),[this.firestore,this.persistenceEnabled$]=(0,ke.cc)(`${si.name}.firestore`,"AngularFirestore",si.name,()=>{const Ti=C.runOutsideAngular(()=>si.firestore());if(d&&Ti.settings(d),Cs&&Ti.useEmulator(...Cs),u&&!(0,tt.PM)(m)){const Qi=()=>{try{return(0,De.D)(Ti.enablePersistence(Z||void 0).then(()=>!0,()=>!1))}catch(Eo){return"undefined"!=typeof console&&console.warn(Eo),(0,pe.of)(!1)}};return[Ti,C.runOutsideAngular(Qi)]}return[Ti,(0,pe.of)(!1)]},[d,Cs,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:m}=Qc(u,o),C=this.schedulers.ngZone.run(()=>d);return new gy(C,m,this)}collectionGroup(t,o){const u=o||(m=>m),d=this.firestore.collectionGroup(t);return new Ef(u(d),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new my(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(p.LFG(ke.Dh),p.LFG(ke.xv,8),p.LFG(Eg,8),p.LFG(yy,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(he.HU),p.LFG(wg,8),p.LFG(W_,8),p.LFG(uc.zQ,8),p.LFG(uc.Qv,8),p.LFG(uc.L6,8),p.LFG(uc._Q,8),p.LFG(uc.rT,8),p.LFG(uc.lh,8),p.LFG(uc.f7,8),p.LFG(dy.nm,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),q_=(()=>{class i{constructor(){$_.Z.registerVersion("angularfire",he.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Eg,useValue:!0},{provide:wg,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[Jc]}),i})()},2011:(kt,Ue,j)=>{j.d(Ue,{Dh:()=>Ce,GT:()=>he,cc:()=>Be,hO:()=>ut,on:()=>ae,pX:()=>pe,xv:()=>Me});var p=j(5e3),O=j(127),Q=j(5813);kt=j.hmd(kt);const De=["ngOnDestroy"],pe=(tt,Nt,yt,se={})=>new Proxy(tt,{get:(He,Xe)=>yt.runOutsideAngular(()=>{var $e;if(tt[Xe])return(null===($e=null==se?void 0:se.spy)||void 0===$e?void 0:$e.get)&&se.spy.get(Xe,tt[Xe]),tt[Xe];if(De.indexOf(Xe)>-1)return()=>{};const ze=Nt.toPromise().then(Se=>{const Ee=Se&&Se[Xe];return"function"==typeof Ee?Ee.bind(Se):Ee&&Ee.then?Ee.then(le=>yt.run(()=>le)):yt.run(()=>Ee)});return new Proxy(()=>{},{get:(Se,Ee)=>ze[Ee],apply:(Se,Ee,le)=>ze.then(Ve=>{var we;const lt=Ve&&Ve(...le);return(null===(we=null==se?void 0:se.spy)||void 0===we?void 0:we.apply)&&se.spy.apply(Xe,le,lt),lt})})})}),he=(tt,Nt)=>{Nt.forEach(yt=>{Object.getOwnPropertyNames(yt.prototype||yt).forEach(se=>{Object.defineProperty(tt.prototype,se,Object.getOwnPropertyDescriptor(yt.prototype||yt,se))})})};class be{constructor(Nt){return Nt}}const Ce=new p.OlP("angularfire2.app.options"),Me=new p.OlP("angularfire2.app.name");function ae(tt,Nt,yt){const He="object"==typeof yt&&yt||{};He.name=He.name||"string"==typeof yt&&yt||"[DEFAULT]";const $e=O.Z.apps.filter(ze=>ze&&ze.name===He.name)[0]||Nt.runOutsideAngular(()=>O.Z.initializeApp(tt,He));try{JSON.stringify(tt)!==JSON.stringify($e.options)&&oe("error",`${$e.name} Firebase App already initialized with different options${kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ze){}return new be($e)}const oe=(tt,...Nt)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[tt](...Nt)},Ae={provide:be,useFactory:ae,deps:[Ce,p.R0b,[new p.FiY,Me]]};let ut=(()=>{class tt{constructor(yt){O.Z.registerVersion("angularfire",Q.q4.full,"core"),O.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),O.Z.registerVersion("angular",p.q4F.full,yt.toString())}static initializeApp(yt,se){return{ngModule:tt,providers:[{provide:Ce,useValue:yt},{provide:Me,useValue:se}]}}}return tt.\u0275fac=function(yt){return new(yt||tt)(p.LFG(p.Lbi))},tt.\u0275mod=p.oAB({type:tt}),tt.\u0275inj=p.cJS({providers:[Ae]}),tt})();function Be(tt,Nt,yt,se,He){const[,Xe,$e]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===tt)||[];if(Xe)return function et(tt,Nt){try{return tt.toString()===Nt.toString()}catch(yt){return tt===Nt}}(He,$e)||(ke("error",`${Nt} was already initialized on the ${yt} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),ke("warn",{is:He,was:$e})),Xe;{const ze=se();return globalThis.\u0275AngularfireInstanceCache.push([tt,ze,He]),ze}}const ft=!!kt.hot,ke=(tt,...Nt)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[tt](...Nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(kt,Ue,j)=>{j.d(Ue,{q4:()=>zi,iC:()=>na,HU:()=>cu,vb:()=>vl,JM:()=>ea,u3:()=>El});var p=j(5e3),O=j(5867),Q=j(5861),De=j(9681),pe=j(2090),he=j(4859),be=j(1877);const Ce="@firebase/installations",oe="w:0.5.8",Ae="FIS_v2",tt=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Nt(M){return M instanceof pe.ZR&&M.code.includes("request-failed")}function yt({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function se(M){return{token:M.token,requestStatus:2,expiresIn:le(M.expiresIn),creationTime:Date.now()}}function He(M,k){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,Q.Z)(function*(M,k){const ne=(yield k.json()).error;return tt.create("request-failed",{requestName:M,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function $e({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function ze(M,{refreshToken:k}){const K=$e(M);return K.append("Authorization",function Ve(M){return`${Ae} ${M}`}(k)),K}function Se(M){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,Q.Z)(function*(M){const k=yield M();return k.status>=500&&k.status<600?M():k})).apply(this,arguments)}function le(M){return Number(M.replace("s","000"))}function we(M,k){return lt.apply(this,arguments)}function lt(){return(lt=(0,Q.Z)(function*({appConfig:M,heartbeatServiceProvider:k},{fid:K}){const ne=yt(M),Re=$e(M),We=k.getImmediate({optional:!0});if(We){const On=yield We.getHeartbeatsHeader();On&&Re.append("x-firebase-client",On)}const xt={method:"POST",headers:Re,body:JSON.stringify({fid:K,authVersion:Ae,appId:M.appId,sdkVersion:oe})},Mn=yield Se(()=>fetch(ne,xt));if(Mn.ok){const On=yield Mn.json();return{fid:On.fid||K,registrationStatus:2,refreshToken:On.refreshToken,authToken:se(On.authToken)}}throw yield He("Create Installation",Mn)})).apply(this,arguments)}function Fe(M){return new Promise(k=>{setTimeout(k,M)})}const zt=/^[cdef][\w-]{21}$/;function wt(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const K=function At(M){return function Jt(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return zt.test(K)?K:""}catch(M){return""}}function sn(M){return`${M.appName}!${M.appId}`}const Vt=new Map;function wn(M,k){const K=sn(M);an(K,k),function vn(M,k){const K=function Qn(){return!qn&&"BroadcastChannel"in self&&(qn=new BroadcastChannel("[Firebase] FID Change"),qn.onmessage=M=>{an(M.data.key,M.data.fid)}),qn}();K&&K.postMessage({key:M,fid:k}),function Vr(){0===Vt.size&&qn&&(qn.close(),qn=null)}()}(K,k)}function an(M,k){const K=Vt.get(M);if(K)for(const ne of K)ne(k)}let qn=null;const tr="firebase-installations-store";let ur=null;function Jn(){return ur||(ur=(0,pe.X3)("firebase-installations-database",1,(M,k)=>{0===k&&M.createObjectStore(tr)})),ur}function Ht(M,k){return un.apply(this,arguments)}function un(){return(un=(0,Q.Z)(function*(M,k){const K=sn(M),Re=(yield Jn()).transaction(tr,"readwrite"),We=Re.objectStore(tr),_t=yield We.get(K);return yield We.put(k,K),yield Re.complete,(!_t||_t.fid!==k.fid)&&wn(M,k.fid),k})).apply(this,arguments)}function kn(M){return pn.apply(this,arguments)}function pn(){return(pn=(0,Q.Z)(function*(M){const k=sn(M),ne=(yield Jn()).transaction(tr,"readwrite");yield ne.objectStore(tr).delete(k),yield ne.complete})).apply(this,arguments)}function Ur(M,k){return Li.apply(this,arguments)}function Li(){return(Li=(0,Q.Z)(function*(M,k){const K=sn(M),Re=(yield Jn()).transaction(tr,"readwrite"),We=Re.objectStore(tr),_t=yield We.get(K),xt=k(_t);return void 0===xt?yield We.delete(K):yield We.put(xt,K),yield Re.complete,xt&&(!_t||_t.fid!==xt.fid)&&wn(M,xt.fid),xt})).apply(this,arguments)}function Qe(M){return fe.apply(this,arguments)}function fe(){return(fe=(0,Q.Z)(function*(M){let k;const K=yield Ur(M.appConfig,ne=>{const Re=_e(ne),We=ct(M,Re);return k=We.registrationPromise,We.installationEntry});return""===K.fid?{installationEntry:yield k}:{installationEntry:K,registrationPromise:k}})).apply(this,arguments)}function _e(M){return on(M||{fid:wt(),registrationStatus:0})}function ct(M,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(tt.create("app-offline"))};const K={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},ne=function xe(M,k){return st.apply(this,arguments)}(M,K);return{installationEntry:K,registrationPromise:ne}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:bt(M)}:{installationEntry:k}}function st(){return(st=(0,Q.Z)(function*(M,k){try{const K=yield we(M,k);return Ht(M.appConfig,K)}catch(K){throw Nt(K)&&409===K.customData.serverCode?yield kn(M.appConfig):yield Ht(M.appConfig,{fid:k.fid,registrationStatus:0}),K}})).apply(this,arguments)}function bt(M){return In.apply(this,arguments)}function In(){return(In=(0,Q.Z)(function*(M){let k=yield mn(M.appConfig);for(;1===k.registrationStatus;)yield Fe(100),k=yield mn(M.appConfig);if(0===k.registrationStatus){const{installationEntry:K,registrationPromise:ne}=yield Qe(M);return ne||K}return k})).apply(this,arguments)}function mn(M){return Ur(M,k=>{if(!k)throw tt.create("installation-not-found");return on(k)})}function on(M){return function Yr(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function lr(M,k){return Un.apply(this,arguments)}function Un(){return(Un=(0,Q.Z)(function*({appConfig:M,heartbeatServiceProvider:k},K){const ne=It(M,K),Re=ze(M,K),We=k.getImmediate({optional:!0});if(We){const On=yield We.getHeartbeatsHeader();On&&Re.append("x-firebase-client",On)}const xt={method:"POST",headers:Re,body:JSON.stringify({installation:{sdkVersion:oe,appId:M.appId}})},Mn=yield Se(()=>fetch(ne,xt));if(Mn.ok)return se(yield Mn.json());throw yield He("Generate Auth Token",Mn)})).apply(this,arguments)}function It(M,{fid:k}){return`${yt(M)}/${k}/authTokens:generate`}function Rn(M){return yn.apply(this,arguments)}function yn(){return(yn=(0,Q.Z)(function*(M,k=!1){let K;const ne=yield Ur(M.appConfig,We=>{if(!Kt(We))throw tt.create("not-registered");const _t=We.authToken;if(!k&&ue(_t))return We;if(1===_t.requestStatus)return K=Lt(M,k),We;{if(!navigator.onLine)throw tt.create("app-offline");const xt=me(We);return K=Zt(M,xt),xt}});return K?yield K:ne.authToken})).apply(this,arguments)}function Lt(M,k){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,Q.Z)(function*(M,k){let K=yield Tt(M.appConfig);for(;1===K.authToken.requestStatus;)yield Fe(100),K=yield Tt(M.appConfig);const ne=K.authToken;return 0===ne.requestStatus?Rn(M,k):ne})).apply(this,arguments)}function Tt(M){return Ur(M,k=>{if(!Kt(k))throw tt.create("not-registered");return function qe(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function Zt(M,k){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,Q.Z)(function*(M,k){try{const K=yield lr(M,k),ne=Object.assign(Object.assign({},k),{authToken:K});return yield Ht(M.appConfig,ne),K}catch(K){if(!Nt(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const ne=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Ht(M.appConfig,ne)}else yield kn(M.appConfig);throw K}})).apply(this,arguments)}function Kt(M){return void 0!==M&&2===M.registrationStatus}function ue(M){return 2===M.requestStatus&&!function ie(M){const k=Date.now();return k<M.creationTime||M.creationTime+M.expiresIn<k+36e5}(M)}function me(M){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:k})}function Ct(){return(Ct=(0,Q.Z)(function*(M){const k=M,{installationEntry:K,registrationPromise:ne}=yield Qe(k);return ne?ne.catch(console.error):Rn(k).catch(console.error),K.fid})).apply(this,arguments)}function dn(){return(dn=(0,Q.Z)(function*(M,k=!1){const K=M;return yield Xt(K),(yield Rn(K,k)).token})).apply(this,arguments)}function Xt(M){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,Q.Z)(function*(M){const{registrationPromise:k}=yield Qe(M);k&&(yield k)})).apply(this,arguments)}function Dr(M){return tt.create("missing-app-config-values",{valueName:M})}const Vi="installations",dt=M=>{const k=M.getProvider("app").getImmediate(),K=function Rr(M){if(!M||!M.options)throw Dr("App Configuration");if(!M.name)throw Dr("App Name");const k=["projectId","apiKey","appId"];for(const K of k)if(!M.options[K])throw Dr(K);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(k);return{app:k,appConfig:K,heartbeatServiceProvider:(0,De._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Bt=M=>{const k=M.getProvider("app").getImmediate(),K=(0,De._getProvider)(k,Vi).getImmediate();return{getId:()=>function Oe(M){return Ct.apply(this,arguments)}(K),getToken:Re=>function qt(M){return dn.apply(this,arguments)}(K,Re)}};(function nn(){(0,De._registerComponent)(new he.wA(Vi,dt,"PUBLIC")),(0,De._registerComponent)(new he.wA("installations-internal",Bt,"PRIVATE"))})(),(0,De.registerVersion)(Ce,"0.5.8"),(0,De.registerVersion)(Ce,"0.5.8","esm2017");const hr="@firebase/remote-config",yr=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bi{constructor(k,K,ne,Re){this.client=k,this.storage=K,this.storageCache=ne,this.logger=Re}isCachedDataFresh(k,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-K,Re=ne<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Re}.`),Re}fetch(k){var K=this;return(0,Q.Z)(function*(){const[ne,Re]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(Re&&K.isCachedDataFresh(k.cacheMaxAgeMillis,ne))return Re;k.eTag=Re&&Re.eTag;const We=yield K.client.fetch(k),_t=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===We.status&&_t.push(K.storage.setLastSuccessfulFetchResponse(We)),yield Promise.all(_t),We})()}}function Si(M=navigator){return M.languages&&M.languages[0]||M.language}class oo{constructor(k,K,ne,Re,We,_t){this.firebaseInstallations=k,this.sdkVersion=K,this.namespace=ne,this.projectId=Re,this.apiKey=We,this.appId=_t}fetch(k){var K=this;return(0,Q.Z)(function*(){const[ne,Re]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),_t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Mn={sdk_version:K.sdkVersion,app_instance_id:ne,app_instance_id_token:Re,app_id:K.appId,language_code:Si()},On={method:"POST",headers:xt,body:JSON.stringify(Mn)},pr=fetch(_t,On),gn=new Promise((io,Zs)=>{k.signal.addEventListener(()=>{const Za=new Error("The operation was aborted.");Za.name="AbortError",Zs(Za)})});let Ns;try{yield Promise.race([pr,gn]),Ns=yield pr}catch(io){let Zs="fetch-client-network";throw"AbortError"===io.name&&(Zs="fetch-timeout"),yr.create(Zs,{originalErrorMessage:io.message})}let qi=Ns.status;const qa=Ns.headers.get("ETag")||void 0;let qs,ra;if(200===Ns.status){let io;try{io=yield Ns.json()}catch(Zs){throw yr.create("fetch-client-parse",{originalErrorMessage:Zs.message})}qs=io.entries,ra=io.state}if("INSTANCE_STATE_UNSPECIFIED"===ra?qi=500:"NO_CHANGE"===ra?qi=304:("NO_TEMPLATE"===ra||"EMPTY_CONFIG"===ra)&&(qs={}),304!==qi&&200!==qi)throw yr.create("fetch-status",{httpStatus:qi});return{status:qi,eTag:qa,config:qs}})()}}class ao{constructor(k,K){this.client=k,this.storage=K}fetch(k){var K=this;return(0,Q.Z)(function*(){const ne=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(k,ne)})()}attemptFetch(k,{throttleEndTimeMillis:K,backoffCount:ne}){var Re=this;return(0,Q.Z)(function*(){yield function nr(M,k){return new Promise((K,ne)=>{const Re=Math.max(k-Date.now(),0),We=setTimeout(K,Re);M.addEventListener(()=>{clearTimeout(We),ne(yr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,K);try{const We=yield Re.client.fetch(k);return yield Re.storage.deleteThrottleMetadata(),We}catch(We){if(!function Ks(M){if(!(M instanceof pe.ZR&&M.customData))return!1;const k=Number(M.customData.httpStatus);return 429===k||500===k||503===k||504===k}(We))throw We;const _t={throttleEndTimeMillis:Date.now()+(0,pe.$s)(ne),backoffCount:ne+1};return yield Re.storage.setThrottleMetadata(_t),Re.attemptFetch(k,_t)}})()}}class Xi{constructor(k,K,ne,Re,We){this.app=k,this._client=K,this._storageCache=ne,this._storage=Re,this._logger=We,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Br(M,k){const K=M.target.error||void 0;return yr.create(k,{originalErrorMessage:K&&K.message})}const Gr="app_namespace_store";class Ts{constructor(k,K,ne,Re=function wo(){return new Promise((M,k)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=ne=>{k(Br(ne,"storage-open"))},K.onsuccess=ne=>{M(ne.target.result)},K.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(Gr,{keyPath:"compositeKey"})}}catch(K){k(yr.create("storage-open",{originalErrorMessage:K}))}})}()){this.appId=k,this.appName=K,this.namespace=ne,this.openDbPromise=Re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var K=this;return(0,Q.Z)(function*(){const ne=yield K.openDbPromise;return new Promise((Re,We)=>{const xt=ne.transaction([Gr],"readonly").objectStore(Gr),Mn=K.createCompositeKey(k);try{const On=xt.get(Mn);On.onerror=pr=>{We(Br(pr,"storage-get"))},On.onsuccess=pr=>{const gn=pr.target.result;Re(gn?gn.value:void 0)}}catch(On){We(yr.create("storage-get",{originalErrorMessage:On&&On.message}))}})})()}set(k,K){var ne=this;return(0,Q.Z)(function*(){const Re=yield ne.openDbPromise;return new Promise((We,_t)=>{const Mn=Re.transaction([Gr],"readwrite").objectStore(Gr),On=ne.createCompositeKey(k);try{const pr=Mn.put({compositeKey:On,value:K});pr.onerror=gn=>{_t(Br(gn,"storage-set"))},pr.onsuccess=()=>{We()}}catch(pr){_t(yr.create("storage-set",{originalErrorMessage:pr&&pr.message}))}})})()}delete(k){var K=this;return(0,Q.Z)(function*(){const ne=yield K.openDbPromise;return new Promise((Re,We)=>{const xt=ne.transaction([Gr],"readwrite").objectStore(Gr),Mn=K.createCompositeKey(k);try{const On=xt.delete(Mn);On.onerror=pr=>{We(Br(pr,"storage-delete"))},On.onsuccess=()=>{Re()}}catch(On){We(yr.create("storage-delete",{originalErrorMessage:On&&On.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Ys{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,Q.Z)(function*(){const K=k.storage.getLastFetchStatus(),ne=k.storage.getLastSuccessfulFetchTimestampMillis(),Re=k.storage.getActiveConfig(),We=yield K;We&&(k.lastFetchStatus=We);const _t=yield ne;_t&&(k.lastSuccessfulFetchTimestampMillis=_t);const xt=yield Re;xt&&(k.activeConfig=xt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function Mi(){return Js.apply(this,arguments)}function Js(){return(Js=(0,Q.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch(M){return!1}})).apply(this,arguments)}!function As(){(0,De._registerComponent)(new he.wA("remote-config",function M(k,{instanceIdentifier:K}){const ne=k.getProvider("app").getImmediate(),Re=k.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw yr.create("registration-window");if(!(0,pe.hl)())throw yr.create("indexed-db-unavailable");const{projectId:We,apiKey:_t,appId:xt}=ne.options;if(!We)throw yr.create("registration-project-id");if(!_t)throw yr.create("registration-api-key");if(!xt)throw yr.create("registration-app-id");const Mn=new Ts(xt,ne.name,K=K||"firebase"),On=new Ys(Mn),pr=new be.Yd(hr);pr.logLevel=be.in.ERROR;const gn=new oo(Re,De.SDK_VERSION,K,We,_t,xt),Ns=new ao(gn,Mn),qi=new Bi(Ns,Mn,On,pr),qa=new Xi(ne,qi,On,Mn,pr);return function Ie(M){const k=(0,pe.m9)(M);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(qa),qa},"PUBLIC").setMultipleInstances(!0)),(0,De.registerVersion)(hr,"0.3.7"),(0,De.registerVersion)(hr,"0.3.7","esm2017")}();const hs="/firebase-messaging-sw.js",Ei="/firebase-cloud-messaging-push-scope",Qr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ji="google.c.a.c_id",Hi="google.c.a.c_l",Ss="google.c.a.ts",as="google.c.a.e";var Wr=(()=>{return(M=Wr||(Wr={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",Wr;var M})();function xi(M){const k=new Uint8Array(M);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ps(M){const K=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(K),Re=new Uint8Array(ne.length);for(let We=0;We<ne.length;++We)Re[We]=ne.charCodeAt(We);return Re}const Vs="fcm_token_details_db",wr="fcm_token_object_Store";function wi(M){return Us.apply(this,arguments)}function Us(){return Us=(0,Q.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(We=>We.name).includes(Vs))return null;let k=null;return(yield(0,pe.X3)(Vs,5,function(){var ne=(0,Q.Z)(function*(Re,We,_t,xt){var Mn;if(We<2||!Re.objectStoreNames.contains(wr))return;const On=xt.objectStore(wr),pr=yield On.index("fcmSenderId").get(M);if(yield On.clear(),pr)if(2===We){const gn=pr;if(!gn.auth||!gn.p256dh||!gn.endpoint)return;k={token:gn.fcmToken,createTime:null!==(Mn=gn.createTime)&&void 0!==Mn?Mn:Date.now(),subscriptionOptions:{auth:gn.auth,p256dh:gn.p256dh,endpoint:gn.endpoint,swScope:gn.swScope,vapidKey:"string"==typeof gn.vapidKey?gn.vapidKey:xi(gn.vapidKey)}}}else if(3===We){const gn=pr;k={token:gn.fcmToken,createTime:gn.createTime,subscriptionOptions:{auth:xi(gn.auth),p256dh:xi(gn.p256dh),endpoint:gn.endpoint,swScope:gn.swScope,vapidKey:xi(gn.vapidKey)}}}else if(4===We){const gn=pr;k={token:gn.fcmToken,createTime:gn.createTime,subscriptionOptions:{auth:xi(gn.auth),p256dh:xi(gn.p256dh),endpoint:gn.endpoint,swScope:gn.swScope,vapidKey:xi(gn.vapidKey)}}}});return function(Re,We,_t,xt){return ne.apply(this,arguments)}}())).close(),yield(0,pe.Lj)(Vs),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),gs(k)?k:null}),Us.apply(this,arguments)}function gs(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:k}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const Fr="firebase-messaging-store";let Ri=null;function us(){return Ri||(Ri=(0,pe.X3)("firebase-messaging-database",1,(M,k)=>{0===k&&M.createObjectStore(Fr)})),Ri}function _r(M){return N.apply(this,arguments)}function N(){return(N=(0,Q.Z)(function*(M){const k=Ze(M),ne=yield(yield us()).transaction(Fr).objectStore(Fr).get(k);if(ne)return ne;{const Re=yield wi(M.appConfig.senderId);if(Re)return yield W(M,Re),Re}})).apply(this,arguments)}function W(M,k){return P.apply(this,arguments)}function P(){return(P=(0,Q.Z)(function*(M,k){const K=Ze(M),Re=(yield us()).transaction(Fr,"readwrite");return yield Re.objectStore(Fr).put(k,K),yield Re.complete,k})).apply(this,arguments)}function Y(M){return ce.apply(this,arguments)}function ce(){return(ce=(0,Q.Z)(function*(M){const k=Ze(M),ne=(yield us()).transaction(Fr,"readwrite");yield ne.objectStore(Fr).delete(k),yield ne.complete})).apply(this,arguments)}function Ze({appConfig:M}){return M.appId}const Dt=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fn(M,k){return An.apply(this,arguments)}function An(){return(An=(0,Q.Z)(function*(M,k){const K=yield Oi(M),ne=tn(k),Re={method:"POST",headers:K,body:JSON.stringify(ne)};let We;try{We=yield(yield fetch(rr(M.appConfig),Re)).json()}catch(_t){throw Dt.create("token-subscribe-failed",{errorInfo:_t})}if(We.error)throw Dt.create("token-subscribe-failed",{errorInfo:We.error.message});if(!We.token)throw Dt.create("token-subscribe-no-token");return We.token})).apply(this,arguments)}function hn(M,k){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,Q.Z)(function*(M,k){const K=yield Oi(M),ne=tn(k.subscriptionOptions),Re={method:"PATCH",headers:K,body:JSON.stringify(ne)};let We;try{We=yield(yield fetch(`${rr(M.appConfig)}/${k.token}`,Re)).json()}catch(_t){throw Dt.create("token-update-failed",{errorInfo:_t})}if(We.error)throw Dt.create("token-update-failed",{errorInfo:We.error.message});if(!We.token)throw Dt.create("token-update-no-token");return We.token})).apply(this,arguments)}function Ar(M,k){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Q.Z)(function*(M,k){const ne={method:"DELETE",headers:yield Oi(M)};try{const We=yield(yield fetch(`${rr(M.appConfig)}/${k}`,ne)).json();if(We.error)throw Dt.create("token-unsubscribe-failed",{errorInfo:We.error.message})}catch(Re){throw Dt.create("token-unsubscribe-failed",{errorInfo:Re})}})).apply(this,arguments)}function rr({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function Oi(M){return ai.apply(this,arguments)}function ai(){return(ai=(0,Q.Z)(function*({appConfig:M,installations:k}){const K=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function tn({p256dh:M,auth:k,endpoint:K,vapidKey:ne}){const Re={web:{endpoint:K,auth:k,p256dh:M}};return ne!==Qr&&(Re.web.applicationPubKey=ne),Re}const Pi=6048e5;function Ni(M){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,Q.Z)(function*(M){const k=yield Ut(M.swRegistration,M.vapidKey),K={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:k.endpoint,auth:xi(k.getKey("auth")),p256dh:xi(k.getKey("p256dh"))},ne=yield _r(M.firebaseDependencies);if(ne){if(ti(ne.subscriptionOptions,K))return Date.now()>=ne.createTime+Pi?R(M,{token:ne.token,createTime:Date.now(),subscriptionOptions:K}):ne.token;try{yield Ar(M.firebaseDependencies,ne.token)}catch(Re){console.warn(Re)}return V(M.firebaseDependencies,K)}return V(M.firebaseDependencies,K)})).apply(this,arguments)}function Xs(M){return F.apply(this,arguments)}function F(){return(F=(0,Q.Z)(function*(M){const k=yield _r(M.firebaseDependencies);k&&(yield Ar(M.firebaseDependencies,k.token),yield Y(M.firebaseDependencies));const K=yield M.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function R(M,k){return S.apply(this,arguments)}function S(){return(S=(0,Q.Z)(function*(M,k){try{const K=yield hn(M.firebaseDependencies,k),ne=Object.assign(Object.assign({},k),{token:K,createTime:Date.now()});return yield W(M.firebaseDependencies,ne),K}catch(K){throw yield Xs(M),K}})).apply(this,arguments)}function V(M,k){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,Q.Z)(function*(M,k){const ne={token:yield Fn(M,k),createTime:Date.now(),subscriptionOptions:k};return yield W(M,ne),ne.token})).apply(this,arguments)}function Ut(M,k){return cn.apply(this,arguments)}function cn(){return(cn=(0,Q.Z)(function*(M,k){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ps(k)})})).apply(this,arguments)}function ti(M,k){return k.vapidKey===M.vapidKey&&k.endpoint===M.endpoint&&k.auth===M.auth&&k.p256dh===M.p256dh}function ui(M){const k={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function ir(M,k){if(!k.notification)return;M.notification={};const K=k.notification.title;K&&(M.notification.title=K);const ne=k.notification.body;ne&&(M.notification.body=ne);const Re=k.notification.image;Re&&(M.notification.image=Re)}(k,M),function Ms(M,k){!k.data||(M.data=k.data)}(k,M),function ys(M,k){if(!k.fcmOptions)return;M.fcmOptions={};const K=k.fcmOptions.link;K&&(M.fcmOptions.link=K);const ne=k.fcmOptions.analytics_label;ne&&(M.fcmOptions.analyticsLabel=ne)}(k,M),k}function xs(M){return"object"==typeof M&&!!M&&ji in M}function wa(M,k){const K=[];for(let ne=0;ne<M.length;ne++)K.push(M.charAt(ne)),ne<k.length&&K.push(k.charAt(ne));return K.join("")}function uo(M){return Dt.create("missing-app-config-values",{valueName:M})}wa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ir{constructor(k,K,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Re=function ua(M){if(!M||!M.options)throw uo("App Configuration Object");if(!M.name)throw uo("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:K}=M;for(const ne of k)if(!K[ne])throw uo(ne);return{appName:M.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Re,installations:K,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function ki(M){return bo.apply(this,arguments)}function bo(){return(bo=(0,Q.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(hs,{scope:Ei}),M.swRegistration.update().catch(()=>{})}catch(k){throw Dt.create("failed-service-worker-registration",{browserErrorMessage:k.message})}})).apply(this,arguments)}function js(M,k){return _s.apply(this,arguments)}function _s(){return(_s=(0,Q.Z)(function*(M,k){if(!k&&!M.swRegistration&&(yield ki(M)),k||!M.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Dt.create("invalid-sw-registration");M.swRegistration=k}})).apply(this,arguments)}function lo(M,k){return es.apply(this,arguments)}function es(){return(es=(0,Q.Z)(function*(M,k){k?M.vapidKey=k:M.vapidKey||(M.vapidKey=Qr)})).apply(this,arguments)}function qr(){return(qr=(0,Q.Z)(function*(M,k){if(!navigator)throw Dt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dt.create("permission-blocked");return yield lo(M,null==k?void 0:k.vapidKey),yield js(M,null==k?void 0:k.serviceWorkerRegistration),Ni(M)})).apply(this,arguments)}function Io(M,k,K){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,Q.Z)(function*(M,k,K){const ne=Ko(k);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:K[ji],message_name:K[Hi],message_time:K[Ss],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ko(M){switch(M){case Wr.NOTIFICATION_CLICKED:return"notification_open";case Wr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yo(){return(Yo=(0,Q.Z)(function*(M,k){const K=k.data;if(!K.isFirebaseMessaging)return;M.onMessageHandler&&K.messageType===Wr.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(ui(K)):M.onMessageHandler.next(ui(K)));const ne=K.data;xs(ne)&&"1"===ne[as]&&(yield Io(M,K.messageType,ne))})).apply(this,arguments)}const co="@firebase/messaging",ca=M=>{const k=new Ir(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function Ba(M,k){return Yo.apply(this,arguments)}(k,K)),k},$s=M=>{const k=M.getProvider("messaging").getImmediate();return{getToken:ne=>function la(M,k){return qr.apply(this,arguments)}(k,ne)}};function Rs(){return ho.apply(this,arguments)}function ho(){return(ho=(0,Q.Z)(function*(){try{yield(0,pe.eu)()}catch(M){return!1}return"undefined"!=typeof window&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function da(){(0,De._registerComponent)(new he.wA("messaging",ca,"PUBLIC")),(0,De._registerComponent)(new he.wA("messaging-internal",$s,"PRIVATE")),(0,De.registerVersion)(co,"0.9.12"),(0,De.registerVersion)(co,"0.9.12","esm2017")}();const Do="analytics",ou="firebase_id",To="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jo="https://www.googletagmanager.com/gtag/js",ni=new be.Yd("@firebase/analytics");function bi(M){return Promise.all(M.map(k=>k.catch(K=>K)))}function au(M,k){const K=document.createElement("script");K.src=`${Jo}?l=${M}&id=${k}`,K.async=!0,document.head.appendChild(K)}function Os(M,k,K,ne,Re,We){return No.apply(this,arguments)}function No(){return(No=(0,Q.Z)(function*(M,k,K,ne,Re,We){const _t=ne[Re];try{if(_t)yield k[_t];else{const Mn=(yield bi(K)).find(On=>On.measurementId===Re);Mn&&(yield k[Mn.appId])}}catch(xt){ni.error(xt)}M("config",Re,We)})).apply(this,arguments)}function $i(M,k,K,ne,Re){return fo.apply(this,arguments)}function fo(){return(fo=(0,Q.Z)(function*(M,k,K,ne,Re){try{let We=[];if(Re&&Re.send_to){let _t=Re.send_to;Array.isArray(_t)||(_t=[_t]);const xt=yield bi(K);for(const Mn of _t){const On=xt.find(gn=>gn.measurementId===Mn),pr=On&&k[On.appId];if(!pr){We=[];break}We.push(pr)}}0===We.length&&(We=Object.values(k)),yield Promise.all(We),M("event",ne,Re||{})}catch(We){ni.error(We)}})).apply(this,arguments)}function uu(){const M=window.document.getElementsByTagName("script");for(const k of Object.values(M))if(k.src&&k.src.includes(Jo))return k;return null}const Cr=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Fo=new class Gi{constructor(k={},K=1e3){this.throttleMetadata=k,this.intervalMillis=K}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,K){this.throttleMetadata[k]=K}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function Xo(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Lo(M){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,Q.Z)(function*(M){var k;const{appId:K,apiKey:ne}=M,Re={method:"GET",headers:Xo(ne)},We=To.replace("{app-id}",K),_t=yield fetch(We,Re);if(200!==_t.status&&304!==_t.status){let xt="";try{const Mn=yield _t.json();(null===(k=Mn.error)||void 0===k?void 0:k.message)&&(xt=Mn.error.message)}catch(Mn){}throw Cr.create("config-fetch-failed",{httpStatus:_t.status,responseMessage:xt})}return _t.json()})).apply(this,arguments)}function lu(M){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,Q.Z)(function*(M,k=Fo,K){const{appId:ne,apiKey:Re,measurementId:We}=M.options;if(!ne)throw Cr.create("no-app-id");if(!Re){if(We)return{measurementId:We,appId:ne};throw Cr.create("no-api-key")}const _t=k.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},xt=new fi;return setTimeout((0,Q.Z)(function*(){xt.abort()}),void 0!==K?K:6e4),Ca({appId:ne,apiKey:Re,measurementId:We},_t,xt,k)})).apply(this,arguments)}function Ca(M,k,K){return Es.apply(this,arguments)}function Es(){return(Es=(0,Q.Z)(function*(M,{throttleEndTimeMillis:k,backoffCount:K},ne,Re=Fo){const{appId:We,measurementId:_t}=M;try{yield ml(ne,k)}catch(xt){if(_t)return ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${xt.message}]`),{appId:We,measurementId:_t};throw xt}try{const xt=yield Lo(M);return Re.deleteThrottleMetadata(We),xt}catch(xt){if(!Ga(xt)){if(Re.deleteThrottleMetadata(We),_t)return ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${xt.message}]`),{appId:We,measurementId:_t};throw xt}const Mn=503===Number(xt.customData.httpStatus)?(0,pe.$s)(K,Re.intervalMillis,30):(0,pe.$s)(K,Re.intervalMillis),On={throttleEndTimeMillis:Date.now()+Mn,backoffCount:K+1};return Re.setThrottleMetadata(We,On),ni.debug(`Calling attemptFetch again in ${Mn} millis`),Ca(M,On,ne,Re)}})).apply(this,arguments)}function ml(M,k){return new Promise((K,ne)=>{const Re=Math.max(k-Date.now(),0),We=setTimeout(K,Re);M.addEventListener(()=>{clearTimeout(We),ne(Cr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function Ga(M){if(!(M instanceof pe.ZR&&M.customData))return!1;const k=Number(M.customData.httpStatus);return 429===k||500===k||503===k||504===k}class fi{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}function Ao(){return ws.apply(this,arguments)}function ws(){return(ws=(0,Q.Z)(function*(){if(!(0,pe.hl)())return ni.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(M){return ni.warn(Cr.create("indexeddb-unavailable",{errorInfo:M}).message),!1}return!0})).apply(this,arguments)}function eo(){return(eo=(0,Q.Z)(function*(M,k,K,ne,Re,We,_t){var xt;const Mn=lu(M);Mn.then(qi=>{K[qi.measurementId]=qi.appId,M.options.measurementId&&qi.measurementId!==M.options.measurementId&&ni.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${qi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(qi=>ni.error(qi)),k.push(Mn);const On=Ao().then(qi=>{if(qi)return ne.getId()}),[pr,gn]=yield Promise.all([Mn,On]);uu()||au(We,pr.measurementId),Re("js",new Date);const Ns=null!==(xt=null==_t?void 0:_t.config)&&void 0!==xt?xt:{};return Ns.origin="firebase",Ns.update=!0,null!=gn&&(Ns[ou]=gn),Re("config",pr.measurementId,Ns),pr.measurementId})).apply(this,arguments)}class vt{constructor(k){this.app=k}_delete(){return delete vr[this.app.options.appId],Promise.resolve()}}let vr={},b=[];const E={};let L,$,y="dataLayer",z=!1;function Ot(M,k,K){!function je(){const M=[];if((0,pe.ru)()&&M.push("This is a browser extension environment."),(0,pe.zI)()||M.push("Cookies are not available."),M.length>0){const k=M.map((ne,Re)=>`(${Re+1}) ${ne}`).join(" "),K=Cr.create("invalid-analytics-context",{errorInfo:k});ni.warn(K.message)}}();const ne=M.options.appId;if(!ne)throw Cr.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Cr.create("no-api-key");ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vr[ne])throw Cr.create("already-exists",{id:ne});if(!z){!function ns(M){let k=[];Array.isArray(window[M])?k=window[M]:window[M]=k}(y);const{wrappedGtag:We,gtagCore:_t}=function Ha(M,k,K,ne,Re){let We=function(..._t){window[ne].push(arguments)};return window[Re]&&"function"==typeof window[Re]&&(We=window[Re]),window[Re]=function Ia(M,k,K,ne){function We(){return(We=(0,Q.Z)(function*(_t,xt,Mn){try{"event"===_t?yield $i(M,k,K,xt,Mn):"config"===_t?yield Os(M,k,K,ne,xt,Mn):M("set",xt)}catch(On){ni.error(On)}})).apply(this,arguments)}return function Re(_t,xt,Mn){return We.apply(this,arguments)}}(We,M,k,K),{gtagCore:We,wrappedGtag:window[Re]}}(vr,b,E,y,"gtag");$=We,L=_t,z=!0}return vr[ne]=function So(M,k,K,ne,Re,We,_t){return eo.apply(this,arguments)}(M,b,E,k,L,y,K),new vt(M)}function Yt(){return(Yt=(0,Q.Z)(function*(M,k,K,ne,Re){if(Re&&Re.global)M("event",K,ne);else{const We=yield k;M("event",K,Object.assign(Object.assign({},ne),{send_to:We}))}})).apply(this,arguments)}function to(){return Da.apply(this,arguments)}function Da(){return(Da=(0,Q.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch(M){return!1}})).apply(this,arguments)}const I="@firebase/analytics",x="0.7.8";!function G(){(0,De._registerComponent)(new he.wA(Do,(k,{options:K})=>Ot(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,De._registerComponent)(new he.wA("analytics-internal",function M(k){try{const K=k.getProvider(Do).getImmediate();return{logEvent:(ne,Re,We)=>function D(M,k,K,ne){M=(0,pe.m9)(M),function Hn(M,k,K,ne,Re){return Yt.apply(this,arguments)}($,vr[M.app.options.appId],k,K,ne).catch(Re=>ni.error(Re))}(K,ne,Re,We)}}catch(K){throw Cr.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,De.registerVersion)(I,x),(0,De.registerVersion)(I,x,"esm2017")}();var ee=j(4408),ot=j(7565);const Mt=new class at extends ot.v{}(class ve extends ee.o{constructor(k,K){super(k,K),this.scheduler=k,this.work=K}schedule(k,K=0){return K>0?super.schedule(k,K):(this.delay=K,this.state=k,this.scheduler.flush(this),this)}execute(k,K){return K>0||this.closed?super.execute(k,K):this._execute(k,K)}requestAsyncId(k,K,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(k,K,ne):k.flush(this)}});var bn=j(4986),Sr=j(8306),ar=j(8505),Lr=j(9468),ri=j(5363);const zi=new p.GfV("7.3.0"),Yn="__angularfire_symbol__analyticsIsSupportedValue",Kr="__angularfire_symbol__analyticsIsSupported",Wi="__angularfire_symbol__remoteConfigIsSupportedValue",Ii="__angularfire_symbol__remoteConfigIsSupported",Et="__angularfire_symbol__messagingIsSupportedValue",Uo="__angularfire_symbol__messagingIsSupported";function ea(M,k,K){if(k){if(1===k.length)return k[0];const We=k.filter(_t=>_t.app===K);if(1===We.length)return We[0]}return K.container.getProvider(M).getImmediate({optional:!0})}globalThis[Kr]||(globalThis[Kr]=to().then(M=>globalThis[Yn]=M).catch(()=>globalThis[Yn]=!1)),globalThis[Uo]||(globalThis[Uo]=Rs().then(M=>globalThis[Et]=M).catch(()=>globalThis[Et]=!1)),globalThis[Ii]||(globalThis[Ii]=Mi().then(M=>globalThis[Wi]=M).catch(()=>globalThis[Wi]=!1));const vl=(M,k)=>{const K=k?[k]:(0,O.C6)(),ne=[];return K.forEach(Re=>{Re.container.getProvider(M).instances.forEach(_t=>{ne.includes(_t)||ne.push(_t)})}),ne};function ro(){}class Ou{constructor(k,K=Mt){this.zone=k,this.delegate=K}now(){return this.delegate.now()}schedule(k,K,ne){const Re=this.zone;return this.delegate.schedule(function(_t){Re.runGuarded(()=>{k.apply(this,[_t])})},K,ne)}}class ta{constructor(k){this.zone=k,this.task=null}call(k,K){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ro,{},ro,ro)),K.pipe((0,ar.b)({next:ne,complete:ne,error:ne})).subscribe(k).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cu=(()=>{class M{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new Ou(Zone.current)),this.insideAngular=K.run(()=>new Ou(Zone.current,bn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(K){return new(K||M)(p.LFG(p.R0b))},M.\u0275prov=p.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function xo(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function za(M){return xo().ngZone.runOutsideAngular(()=>M())}function Bo(M){return xo().ngZone.run(()=>M())}function na(M){return xo(),function hu(M){return function(K){return(K=K.lift(new ta(M.ngZone))).pipe((0,Lr.R)(M.outsideAngular),(0,ri.Q)(M.insideAngular))}}(xo())(M)}const Pu=(M,k)=>function(){const ne=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),Bo(()=>M.apply(void 0,ne))},El=(M,k)=>function(){let K;const ne=arguments;for(let We=0;We<arguments.length;We++)"function"==typeof ne[We]&&(k&&(K||(K=Bo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ro,{},ro,ro)))),ne[We]=Pu(ne[We],K));const Re=za(()=>M.apply(this,ne));if(!k){if(Re instanceof Sr.y){const We=xo();return Re.pipe((0,Lr.R)(We.outsideAngular),(0,ri.Q)(We.insideAngular))}return Bo(()=>Re)}return Re instanceof Sr.y?Re.pipe(na):Re instanceof Promise?Bo(()=>new Promise((We,_t)=>Re.then(xt=>Bo(()=>We(xt)),xt=>Bo(()=>_t(xt))))):"function"==typeof Re&&K?function(){return setTimeout(()=>{K&&"scheduled"===K.state&&K.invoke()},10),Re.apply(this,arguments)}:Bo(()=>Re)}},2090:(kt,Ue,j)=>{j.d(Ue,{$s:()=>Yr,BH:()=>Be,G6:()=>Se,L:()=>Me,LL:()=>Jt,Lj:()=>Cn,Mn:()=>$e,Sg:()=>et,UG:()=>tt,US:()=>be,X3:()=>Zt,ZB:()=>Ae,ZR:()=>Fe,b$:()=>se,d:()=>He,eu:()=>le,hl:()=>Ee,jU:()=>Nt,m9:()=>It,ne:()=>Ht,pd:()=>ur,r3:()=>an,ru:()=>yt,tV:()=>ae,uI:()=>ke,vZ:()=>Vr,w1:()=>Xe,xO:()=>cr,xb:()=>qn,z$:()=>ft,zI:()=>Ve,zd:()=>tr});var p=j(5861);const pe=function(ue){const ie=[];let me=0;for(let qe=0;qe<ue.length;qe++){let Oe=ue.charCodeAt(qe);Oe<128?ie[me++]=Oe:Oe<2048?(ie[me++]=Oe>>6|192,ie[me++]=63&Oe|128):55296==(64512&Oe)&&qe+1<ue.length&&56320==(64512&ue.charCodeAt(qe+1))?(Oe=65536+((1023&Oe)<<10)+(1023&ue.charCodeAt(++qe)),ie[me++]=Oe>>18|240,ie[me++]=Oe>>12&63|128,ie[me++]=Oe>>6&63|128,ie[me++]=63&Oe|128):(ie[me++]=Oe>>12|224,ie[me++]=Oe>>6&63|128,ie[me++]=63&Oe|128)}return ie},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ie){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const me=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,qe=[];for(let Oe=0;Oe<ue.length;Oe+=3){const Ct=ue[Oe],qt=Oe+1<ue.length,dn=qt?ue[Oe+1]:0,Xt=Oe+2<ue.length,Dn=Xt?ue[Oe+2]:0;let or=(15&dn)<<2|Dn>>6,jr=63&Dn;Xt||(jr=64,qt||(or=64)),qe.push(me[Ct>>2],me[(3&Ct)<<4|dn>>4],me[or],me[jr])}return qe.join("")},encodeString(ue,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(ue):this.encodeByteArray(pe(ue),ie)},decodeString(ue,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(ue):function(ue){const ie=[];let me=0,qe=0;for(;me<ue.length;){const Oe=ue[me++];if(Oe<128)ie[qe++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){const Ct=ue[me++];ie[qe++]=String.fromCharCode((31&Oe)<<6|63&Ct)}else if(Oe>239&&Oe<365){const Xt=((7&Oe)<<18|(63&ue[me++])<<12|(63&ue[me++])<<6|63&ue[me++])-65536;ie[qe++]=String.fromCharCode(55296+(Xt>>10)),ie[qe++]=String.fromCharCode(56320+(1023&Xt))}else{const Ct=ue[me++],qt=ue[me++];ie[qe++]=String.fromCharCode((15&Oe)<<12|(63&Ct)<<6|63&qt)}}return ie.join("")}(this.decodeStringToByteArray(ue,ie))},decodeStringToByteArray(ue,ie){this.init_();const me=ie?this.charToByteMapWebSafe_:this.charToByteMap_,qe=[];for(let Oe=0;Oe<ue.length;){const Ct=me[ue.charAt(Oe++)],dn=Oe<ue.length?me[ue.charAt(Oe)]:0;++Oe;const Dn=Oe<ue.length?me[ue.charAt(Oe)]:64;++Oe;const ln=Oe<ue.length?me[ue.charAt(Oe)]:64;if(++Oe,null==Ct||null==dn||null==Dn||null==ln)throw Error();qe.push(Ct<<2|dn>>4),64!==Dn&&(qe.push(dn<<4&240|Dn>>2),64!==ln&&qe.push(Dn<<6&192|ln))}return qe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},Me=function(ue){return function(ue){const ie=pe(ue);return be.encodeByteArray(ie,!0)}(ue).replace(/\./g,"")},ae=function(ue){try{return be.decodeString(ue,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function Ae(ue,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ie}for(const me in ie)!ie.hasOwnProperty(me)||!ut(me)||(ue[me]=Ae(ue[me],ie[me]));return ue}function ut(ue){return"__proto__"!==ue}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,me)=>{this.resolve=ie,this.reject=me})}wrapCallback(ie){return(me,qe)=>{me?this.reject(me):this.resolve(qe),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(me):ie(me,qe))}}}function et(ue,ie){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const qe=ie||"demo-project",Oe=ue.iat||0,Ct=ue.sub||ue.user_id;if(!Ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qt=Object.assign({iss:`https://securetoken.google.com/${qe}`,aud:qe,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:Ct,user_id:Ct,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(qt)),""].join(".")}function ft(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function tt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ue){return!1}}function Nt(){return"object"==typeof self&&self.self===self}function yt(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function He(){return ft().indexOf("Electron/")>=0}function Xe(){const ue=ft();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function $e(){return ft().indexOf("MSAppHost/")>=0}function Se(){return!tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){return"object"==typeof indexedDB}function le(){return new Promise((ue,ie)=>{try{let me=!0;const qe="validate-browser-context-for-indexeddb-analytics-module",Oe=self.indexedDB.open(qe);Oe.onsuccess=()=>{Oe.result.close(),me||self.indexedDB.deleteDatabase(qe),ue(!0)},Oe.onupgradeneeded=()=>{me=!1},Oe.onerror=()=>{var Ct;ie((null===(Ct=Oe.error)||void 0===Ct?void 0:Ct.message)||"")}}catch(me){ie(me)}})}function Ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Fe extends Error{constructor(ie,me,qe){super(me),this.code=ie,this.customData=qe,this.name="FirebaseError",Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jt.prototype.create)}}class Jt{constructor(ie,me,qe){this.service=ie,this.serviceName=me,this.errors=qe}create(ie,...me){const qe=me[0]||{},Oe=`${this.service}/${ie}`,Ct=this.errors[ie],qt=Ct?function zt(ue,ie){return ue.replace(Rt,(me,qe)=>{const Oe=ie[qe];return null!=Oe?String(Oe):`<${qe}?>`})}(Ct,qe):"Error";return new Fe(Oe,`${this.serviceName}: ${qt} (${Oe}).`,qe)}}const Rt=/\{\$([^}]+)}/g;function an(ue,ie){return Object.prototype.hasOwnProperty.call(ue,ie)}function qn(ue){for(const ie in ue)if(Object.prototype.hasOwnProperty.call(ue,ie))return!1;return!0}function Vr(ue,ie){if(ue===ie)return!0;const me=Object.keys(ue),qe=Object.keys(ie);for(const Oe of me){if(!qe.includes(Oe))return!1;const Ct=ue[Oe],qt=ie[Oe];if(er(Ct)&&er(qt)){if(!Vr(Ct,qt))return!1}else if(Ct!==qt)return!1}for(const Oe of qe)if(!me.includes(Oe))return!1;return!0}function er(ue){return null!==ue&&"object"==typeof ue}function cr(ue){const ie=[];for(const[me,qe]of Object.entries(ue))Array.isArray(qe)?qe.forEach(Oe=>{ie.push(encodeURIComponent(me)+"="+encodeURIComponent(Oe))}):ie.push(encodeURIComponent(me)+"="+encodeURIComponent(qe));return ie.length?"&"+ie.join("&"):""}function tr(ue){const ie={};return ue.replace(/^\?/,"").split("&").forEach(qe=>{if(qe){const[Oe,Ct]=qe.split("=");ie[decodeURIComponent(Oe)]=decodeURIComponent(Ct)}}),ie}function ur(ue){const ie=ue.indexOf("?");if(!ie)return"";const me=ue.indexOf("#",ie);return ue.substring(ie,me>0?me:void 0)}function Ht(ue,ie){const me=new un(ue,ie);return me.subscribe.bind(me)}class un{constructor(ie,me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=me,this.task.then(()=>{ie(this)}).catch(qe=>{this.error(qe)})}next(ie){this.forEachObserver(me=>{me.next(ie)})}error(ie){this.forEachObserver(me=>{me.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,me,qe){let Oe;if(void 0===ie&&void 0===me&&void 0===qe)throw new Error("Missing Observer.");Oe=function pn(ue,ie){if("object"!=typeof ue||null===ue)return!1;for(const me of ie)if(me in ue&&"function"==typeof ue[me])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:me,complete:qe},void 0===Oe.next&&(Oe.next=Ur),void 0===Oe.error&&(Oe.error=Ur),void 0===Oe.complete&&(Oe.complete=Ur);const Ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Oe.error(this.finalError):Oe.complete()}catch(qt){}}),this.observers.push(Oe),Ct}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let me=0;me<this.observers.length;me++)this.sendOne(me,ie)}sendOne(ie,me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{me(this.observers[ie])}catch(qe){"undefined"!=typeof console&&console.error&&console.error(qe)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ur(){}function Yr(ue,ie=1e3,me=2){const qe=ie*Math.pow(me,ue),Oe=Math.round(.5*qe*(Math.random()-.5)*2);return Math.min(144e5,qe+Oe)}function It(ue){return ue&&ue._delegate?ue._delegate:ue}function Rn(ue,ie){return new Promise((me,qe)=>{ue.onsuccess=Oe=>{me(Oe.target.result)},ue.onerror=Oe=>{var Ct;qe(`${ie}: ${null===(Ct=Oe.target.error)||void 0===Ct?void 0:Ct.message}`)}})}class yn{constructor(ie){this._db=ie,this.objectStoreNames=this._db.objectStoreNames}transaction(ie,me="readonly"){return new Lt(this._db.transaction.call(this._db,ie,me))}createObjectStore(ie,me){return new Ge(this._db.createObjectStore(ie,me))}close(){this._db.close()}}class Lt{constructor(ie){this._transaction=ie,this.complete=new Promise((me,qe)=>{this._transaction.oncomplete=function(){me()},this._transaction.onerror=()=>{qe(this._transaction.error)},this._transaction.onabort=()=>{qe(this._transaction.error)}})}objectStore(ie){return new Ge(this._transaction.objectStore(ie))}}class Ge{constructor(ie){this._store=ie}index(ie){return new Tt(this._store.index(ie))}createIndex(ie,me,qe){return new Tt(this._store.createIndex(ie,me,qe))}get(ie){return Rn(this._store.get(ie),"Error reading from IndexedDB")}put(ie,me){return Rn(this._store.put(ie,me),"Error writing to IndexedDB")}delete(ie){return Rn(this._store.delete(ie),"Error deleting from IndexedDB")}clear(){return Rn(this._store.clear(),"Error clearing IndexedDB object store")}}class Tt{constructor(ie){this._index=ie}get(ie){return Rn(this._index.get(ie),"Error reading from IndexedDB")}}function Zt(ue,ie,me){return new Promise((qe,Oe)=>{try{const Ct=indexedDB.open(ue,ie);Ct.onsuccess=qt=>{qe(new yn(qt.target.result))},Ct.onerror=qt=>{var dn;Oe(`Error opening indexedDB: ${null===(dn=qt.target.error)||void 0===dn?void 0:dn.message}`)},Ct.onupgradeneeded=qt=>{me(new yn(Ct.result),qt.oldVersion,qt.newVersion,new Lt(Ct.transaction))}}catch(Ct){Oe(`Error opening indexedDB: ${Ct.message}`)}})}function Cn(ue){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,p.Z)(function*(ue){return new Promise((ie,me)=>{try{const qe=indexedDB.deleteDatabase(ue);qe.onsuccess=()=>{ie()},qe.onerror=Oe=>{var Ct;me(`Error deleting indexedDB database "${ue}": ${null===(Ct=Oe.target.error)||void 0===Ct?void 0:Ct.message}`)}}catch(qe){me(`Error deleting indexedDB database "${ue}": ${qe.message}`)}})})).apply(this,arguments)}},6893:(kt,Ue,j)=>{j.d(Ue,{e:()=>pe});var p=j(5861),O=j(127),Q=j(5e3),De=j(1205);let pe=(()=>{class he{constructor(Ce){this.afauth=Ce}register(Ce,Me){var ae=this;return(0,p.Z)(function*(){try{return yield ae.afauth.createUserWithEmailAndPassword(Ce,Me)}catch(oe){return console.log("error en registro",oe),null}})()}login(Ce,Me){var ae=this;return(0,p.Z)(function*(){try{return yield ae.afauth.signInWithEmailAndPassword(Ce,Me)}catch(oe){return console.log("error en login",oe),null}})()}loginWithGoogle(Ce,Me){var ae=this;return(0,p.Z)(function*(){try{return yield ae.afauth.signInWithPopup(new O.Z.auth.GoogleAuthProvider)}catch(oe){return console.log("error en login con google",oe),null}})()}getUserLogged(){return this.afauth.authState}logout(){this.afauth.signOut()}}return he.\u0275fac=function(Ce){return new(Ce||he)(Q.LFG(De.zQ))},he.\u0275prov=Q.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},7005:(kt,Ue,j)=>{j.d(Ue,{C:()=>Q});var p=j(5e3),O=j(7566);let Q=(()=>{class De{constructor(he){this.firestore=he}getCollection(he){return this.firestore.collection(he).valueChanges()}addToChat(he,be){let Ce=be.toString();this.firestore.collection("Chat").doc(Ce).set({emisor:he.emisor,usuario:he.usuario,texto:he.texto,hora:he.hora})}addUsuario(he,be){this.firestore.collection(he).add(be)}actualizarColeccionCompleta(he,be){for(let Ce=0;Ce<be.length;Ce++){console.log("ENTRE AL ACTUALIZAR COMPLETO");let Me=be[Ce].posicion.toString();console.log(Me),this.firestore.collection(he).doc(Me).set({posicion:be[Ce].posicion,puntaje:be[Ce].puntaje,usuario:be[Ce].usuario})}}addScore(he,be){let Ce=be.posicion.toString();this.firestore.collection(he).doc(Ce).set({posicion:be.posicion,puntaje:be.puntaje,usuario:be.usuario})}actualizarURL(he,be,Ce){this.firestore.collection(he).doc(be).update({urlImagen:Ce})}}return De.\u0275fac=function(he){return new(he||De)(p.LFG(O.ST))},De.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},180:(kt,Ue,j)=>{var p=j(9808),O=j(5e3);class Q extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends Q{static makeCurrent(){(0,p.HT)(new De)}onAndCancel(I,x,G){return I.addEventListener(x,G,!1),()=>{I.removeEventListener(x,G,!1)}}dispatchEvent(I,x){I.dispatchEvent(x)}remove(I){I.parentNode&&I.parentNode.removeChild(I)}createElement(I,x){return(x=x||this.getDefaultDocument()).createElement(I)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(I){return I.nodeType===Node.ELEMENT_NODE}isShadowRoot(I){return I instanceof DocumentFragment}getGlobalEventTarget(I,x){return"window"===x?window:"document"===x?I:"body"===x?I.body:null}getBaseHref(I){const x=function he(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==x?null:function Ce(D){be=be||document.createElement("a"),be.setAttribute("href",D);const I=be.pathname;return"/"===I.charAt(0)?I:`/${I}`}(x)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(I){return(0,p.Mx)(document.cookie,I)}}let be,pe=null;const Me=new O.OlP("TRANSITION_ID"),oe=[{provide:O.ip1,useFactory:function ae(D,I,x){return()=>{x.get(O.CZH).donePromise.then(()=>{const G=(0,p.q)(),ee=I.querySelectorAll(`style[ng-transition="${D}"]`);for(let ve=0;ve<ee.length;ve++)G.remove(ee[ve])})}},deps:[Me,p.K0,O.zs3],multi:!0}];class Ae{static init(){(0,O.VLi)(new Ae)}addToWindow(I){O.dqk.getAngularTestability=(G,ee=!0)=>{const ve=I.findTestabilityInTree(G,ee);if(null==ve)throw new Error("Could not find testability for element.");return ve},O.dqk.getAllAngularTestabilities=()=>I.getAllTestabilities(),O.dqk.getAllAngularRootElements=()=>I.getAllRootElements(),O.dqk.frameworkStabilizers||(O.dqk.frameworkStabilizers=[]),O.dqk.frameworkStabilizers.push(G=>{const ee=O.dqk.getAllAngularTestabilities();let ve=ee.length,ot=!1;const at=function(Mt){ot=ot||Mt,ve--,0==ve&&G(ot)};ee.forEach(function(Mt){Mt.whenStable(at)})})}findTestabilityInTree(I,x,G){if(null==x)return null;const ee=I.getTestability(x);return null!=ee?ee:G?(0,p.q)().isShadowRoot(x)?this.findTestabilityInTree(I,x.host,!0):this.findTestabilityInTree(I,x.parentElement,!0):null}}let ut=(()=>{class D{build(){return new XMLHttpRequest}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275prov=O.Yz7({token:D,factory:D.\u0275fac}),D})();const Be=new O.OlP("EventManagerPlugins");let et=(()=>{class D{constructor(x,G){this._zone=G,this._eventNameToPlugin=new Map,x.forEach(ee=>ee.manager=this),this._plugins=x.slice().reverse()}addEventListener(x,G,ee){return this._findPluginFor(G).addEventListener(x,G,ee)}addGlobalEventListener(x,G,ee){return this._findPluginFor(G).addGlobalEventListener(x,G,ee)}getZone(){return this._zone}_findPluginFor(x){const G=this._eventNameToPlugin.get(x);if(G)return G;const ee=this._plugins;for(let ve=0;ve<ee.length;ve++){const ot=ee[ve];if(ot.supports(x))return this._eventNameToPlugin.set(x,ot),ot}throw new Error(`No event manager plugin found for event ${x}`)}}return D.\u0275fac=function(x){return new(x||D)(O.LFG(Be),O.LFG(O.R0b))},D.\u0275prov=O.Yz7({token:D,factory:D.\u0275fac}),D})();class ft{constructor(I){this._doc=I}addGlobalEventListener(I,x,G){const ee=(0,p.q)().getGlobalEventTarget(this._doc,I);if(!ee)throw new Error(`Unsupported event target ${ee} for event ${x}`);return this.addEventListener(ee,x,G)}}let ke=(()=>{class D{constructor(){this._stylesSet=new Set}addStyles(x){const G=new Set;x.forEach(ee=>{this._stylesSet.has(ee)||(this._stylesSet.add(ee),G.add(ee))}),this.onStylesAdded(G)}onStylesAdded(x){}getAllStyles(){return Array.from(this._stylesSet)}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275prov=O.Yz7({token:D,factory:D.\u0275fac}),D})(),tt=(()=>{class D extends ke{constructor(x){super(),this._doc=x,this._hostNodes=new Map,this._hostNodes.set(x.head,[])}_addStylesToHost(x,G,ee){x.forEach(ve=>{const ot=this._doc.createElement("style");ot.textContent=ve,ee.push(G.appendChild(ot))})}addHost(x){const G=[];this._addStylesToHost(this._stylesSet,x,G),this._hostNodes.set(x,G)}removeHost(x){const G=this._hostNodes.get(x);G&&G.forEach(Nt),this._hostNodes.delete(x)}onStylesAdded(x){this._hostNodes.forEach((G,ee)=>{this._addStylesToHost(x,ee,G)})}ngOnDestroy(){this._hostNodes.forEach(x=>x.forEach(Nt))}}return D.\u0275fac=function(x){return new(x||D)(O.LFG(p.K0))},D.\u0275prov=O.Yz7({token:D,factory:D.\u0275fac}),D})();function Nt(D){(0,p.q)().remove(D)}const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},se=/%COMP%/g;function le(D,I,x){for(let G=0;G<I.length;G++){let ee=I[G];Array.isArray(ee)?le(D,ee,x):(ee=ee.replace(se,D),x.push(ee))}return x}function Ve(D){return I=>{if("__ngUnwrap__"===I)return D;!1===D(I)&&(I.preventDefault(),I.returnValue=!1)}}let lt=(()=>{class D{constructor(x,G,ee){this.eventManager=x,this.sharedStylesHost=G,this.appId=ee,this.rendererByCompId=new Map,this.defaultRenderer=new Fe(x)}createRenderer(x,G){if(!x||!G)return this.defaultRenderer;switch(G.encapsulation){case O.ifc.Emulated:{let ee=this.rendererByCompId.get(G.id);return ee||(ee=new Rt(this.eventManager,this.sharedStylesHost,G,this.appId),this.rendererByCompId.set(G.id,ee)),ee.applyToHost(x),ee}case 1:case O.ifc.ShadowDom:return new wt(this.eventManager,this.sharedStylesHost,x,G);default:if(!this.rendererByCompId.has(G.id)){const ee=le(G.id,G.styles,[]);this.sharedStylesHost.addStyles(ee),this.rendererByCompId.set(G.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return D.\u0275fac=function(x){return new(x||D)(O.LFG(et),O.LFG(tt),O.LFG(O.AFp))},D.\u0275prov=O.Yz7({token:D,factory:D.\u0275fac}),D})();class Fe{constructor(I){this.eventManager=I,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(I,x){return x?document.createElementNS(yt[x]||x,I):document.createElement(I)}createComment(I){return document.createComment(I)}createText(I){return document.createTextNode(I)}appendChild(I,x){I.appendChild(x)}insertBefore(I,x,G){I&&I.insertBefore(x,G)}removeChild(I,x){I&&I.removeChild(x)}selectRootElement(I,x){let G="string"==typeof I?document.querySelector(I):I;if(!G)throw new Error(`The selector "${I}" did not match any elements`);return x||(G.textContent=""),G}parentNode(I){return I.parentNode}nextSibling(I){return I.nextSibling}setAttribute(I,x,G,ee){if(ee){x=ee+":"+x;const ve=yt[ee];ve?I.setAttributeNS(ve,x,G):I.setAttribute(x,G)}else I.setAttribute(x,G)}removeAttribute(I,x,G){if(G){const ee=yt[G];ee?I.removeAttributeNS(ee,x):I.removeAttribute(`${G}:${x}`)}else I.removeAttribute(x)}addClass(I,x){I.classList.add(x)}removeClass(I,x){I.classList.remove(x)}setStyle(I,x,G,ee){ee&(O.JOm.DashCase|O.JOm.Important)?I.style.setProperty(x,G,ee&O.JOm.Important?"important":""):I.style[x]=G}removeStyle(I,x,G){G&O.JOm.DashCase?I.style.removeProperty(x):I.style[x]=""}setProperty(I,x,G){I[x]=G}setValue(I,x){I.nodeValue=x}listen(I,x,G){return"string"==typeof I?this.eventManager.addGlobalEventListener(I,x,Ve(G)):this.eventManager.addEventListener(I,x,Ve(G))}}class Rt extends Fe{constructor(I,x,G,ee){super(I),this.component=G;const ve=le(ee+"-"+G.id,G.styles,[]);x.addStyles(ve),this.contentAttr=function Se(D){return"_ngcontent-%COMP%".replace(se,D)}(ee+"-"+G.id),this.hostAttr=function Ee(D){return"_nghost-%COMP%".replace(se,D)}(ee+"-"+G.id)}applyToHost(I){super.setAttribute(I,this.hostAttr,"")}createElement(I,x){const G=super.createElement(I,x);return super.setAttribute(G,this.contentAttr,""),G}}class wt extends Fe{constructor(I,x,G,ee){super(I),this.sharedStylesHost=x,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ve=le(ee.id,ee.styles,[]);for(let ot=0;ot<ve.length;ot++){const at=document.createElement("style");at.textContent=ve[ot],this.shadowRoot.appendChild(at)}}nodeOrShadowRoot(I){return I===this.hostEl?this.shadowRoot:I}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(I,x){return super.appendChild(this.nodeOrShadowRoot(I),x)}insertBefore(I,x,G){return super.insertBefore(this.nodeOrShadowRoot(I),x,G)}removeChild(I,x){return super.removeChild(this.nodeOrShadowRoot(I),x)}parentNode(I){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(I)))}}let At=(()=>{class D extends ft{constructor(x){super(x)}supports(x){return!0}addEventListener(x,G,ee){return x.addEventListener(G,ee,!1),()=>this.removeEventListener(x,G,ee)}removeEventListener(x,G,ee){return x.removeEventListener(G,ee)}}return D.\u0275fac=function(x){return new(x||D)(O.LFG(p.K0))},D.\u0275prov=O.Yz7({token:D,factory:D.\u0275fac}),D})();const sn=["alt","control","meta","shift"],wn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fn={alt:D=>D.altKey,control:D=>D.ctrlKey,meta:D=>D.metaKey,shift:D=>D.shiftKey};let an=(()=>{class D extends ft{constructor(x){super(x)}supports(x){return null!=D.parseEventName(x)}addEventListener(x,G,ee){const ve=D.parseEventName(G),ot=D.eventCallback(ve.fullKey,ee,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(x,ve.domEventName,ot))}static parseEventName(x){const G=x.toLowerCase().split("."),ee=G.shift();if(0===G.length||"keydown"!==ee&&"keyup"!==ee)return null;const ve=D._normalizeKey(G.pop());let ot="";if(sn.forEach(Mt=>{const _n=G.indexOf(Mt);_n>-1&&(G.splice(_n,1),ot+=Mt+".")}),ot+=ve,0!=G.length||0===ve.length)return null;const at={};return at.domEventName=ee,at.fullKey=ot,at}static getEventFullKey(x){let G="",ee=function vn(D){let I=D.key;if(null==I){if(I=D.keyIdentifier,null==I)return"Unidentified";I.startsWith("U+")&&(I=String.fromCharCode(parseInt(I.substring(2),16)),3===D.location&&$t.hasOwnProperty(I)&&(I=$t[I]))}return wn[I]||I}(x);return ee=ee.toLowerCase()," "===ee?ee="space":"."===ee&&(ee="dot"),sn.forEach(ve=>{ve!=ee&&fn[ve](x)&&(G+=ve+".")}),G+=ee,G}static eventCallback(x,G,ee){return ve=>{D.getEventFullKey(ve)===x&&ee.runGuarded(()=>G(ve))}}static _normalizeKey(x){return"esc"===x?"escape":x}}return D.\u0275fac=function(x){return new(x||D)(O.LFG(p.K0))},D.\u0275prov=O.Yz7({token:D,factory:D.\u0275fac}),D})();const cr=(0,O.eFA)(O._c5,"browser",[{provide:O.Lbi,useValue:p.bD},{provide:O.g9A,useValue:function qn(){De.makeCurrent(),Ae.init()},multi:!0},{provide:p.K0,useFactory:function Vr(){return(0,O.RDi)(document),document},deps:[]}]),tr=[{provide:O.zSh,useValue:"root"},{provide:O.qLn,useFactory:function Qn(){return new O.qLn},deps:[]},{provide:Be,useClass:At,multi:!0,deps:[p.K0,O.R0b,O.Lbi]},{provide:Be,useClass:an,multi:!0,deps:[p.K0]},{provide:lt,useClass:lt,deps:[et,tt,O.AFp]},{provide:O.FYo,useExisting:lt},{provide:ke,useExisting:tt},{provide:tt,useClass:tt,deps:[p.K0]},{provide:O.dDg,useClass:O.dDg,deps:[O.R0b]},{provide:et,useClass:et,deps:[Be,O.R0b]},{provide:p.JF,useClass:ut,deps:[]}];let ur=(()=>{class D{constructor(x){if(x)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(x){return{ngModule:D,providers:[{provide:O.AFp,useValue:x.appId},{provide:Me,useExisting:O.AFp},oe]}}}return D.\u0275fac=function(x){return new(x||D)(O.LFG(D,12))},D.\u0275mod=O.oAB({type:D}),D.\u0275inj=O.cJS({providers:tr,imports:[p.ez,O.hGG]}),D})();"undefined"!=typeof window&&window;var qt=j(6893),dn=j(3809);function Xt(D,I){if(1&D&&O._UZ(0,"img",16),2&D){const x=O.oxw().ngIf;O.s9C("src",x.photoURL,O.LSH)}}function Dn(D,I){1&D&&O._UZ(0,"img",17)}function gr(D,I){if(1&D){const x=O.EpF();O.TgZ(0,"a"),O._uU(1),O.YNc(2,Xt,1,1,"img",13),O.YNc(3,Dn,1,0,"ng-template",null,14,O.W1O),O.TgZ(5,"button",15),O.NdJ("click",function(){return O.CHM(x),O.oxw().logout()}),O._uU(6,"Logout"),O.qZA()()}if(2&D){const x=I.ngIf,G=O.MAs(4);O.xp6(1),O.hij(" ",x.displayName?x.displayName:x.email," "),O.xp6(1),O.Q6J("ngIf",x.photoURL)("ngIfElse",G)}}function ln(D,I){1&D&&(O.TgZ(0,"button",18),O._uU(1,"Login"),O.qZA(),O.TgZ(2,"button",19),O._uU(3,"Sign-up"),O.qZA())}let or=(()=>{class D{constructor(x){this.authService=x,this.userLogged=this.authService.getUserLogged(),this.isLogged=!0}ngOnInit(){}logout(){this.authService.logout()}}return D.\u0275fac=function(x){return new(x||D)(O.Y36(qt.e))},D.\u0275cmp=O.Xpm({type:D,selectors:[["app-navmenu"]],decls:20,vars:4,consts:[[1,"p-3","bg-dark","text-white"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["href","/",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-white","text-decoration-none"],["width","40","height","32","role","img","aria-label","Bootstrap",1,"bi","me-2"],[0,"xlink","href","#bootstrap"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","home",1,"nav-link","px-2","text-white"],["routerLink","juegos",1,"nav-link","px-2","text-white"],["routerLink","sobreMi",1,"nav-link","px-2","text-white"],[4,"ngIf","ngIfElse"],["class","text-end"],["login_buttons",""],["style","border-radius: 100%;","width","30","height","30","class","d-inline-block align-top","alt","",3,"src",4,"ngIf","ngIfElse"],["other_photo",""],[1,"btn","btn-warning",3,"click"],["width","30","height","30","alt","",1,"d-inline-block","align-top",2,"border-radius","100%",3,"src"],["src","./assets/user.png","width","30","height","30","alt","",1,"d-inline-block","align-top",2,"border-radius","100%"],["routerLink","login","type","button",1,"btn","btn-outline-light","me-2"],["routerLink","login","type","button",1,"btn","btn-warning"]],template:function(x,G){if(1&x&&(O.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),O.O4$(),O.TgZ(4,"svg",4),O._UZ(5,"use",5),O.qZA()(),O.kcU(),O.TgZ(6,"ul",6)(7,"li")(8,"a",7),O._uU(9,"Home"),O.qZA()(),O.TgZ(10,"li")(11,"a",8),O._uU(12,"Juegos"),O.qZA()(),O.TgZ(13,"li")(14,"a",9),O._uU(15,"Sobre Mi"),O.qZA()()(),O.YNc(16,gr,7,3,"a",10),O.ALo(17,"async"),O.YNc(18,ln,4,0,"ng-template",11,12,O.W1O),O.qZA()()()),2&x){const ee=O.MAs(19);O.xp6(16),O.Q6J("ngIf",O.lcZ(17,2,G.userLogged))("ngIfElse",ee)}},directives:[dn.yS,p.O5,dn.rH],pipes:[p.Ov],styles:[""]}),D})(),jr=(()=>{class D{constructor(){this.title="SalaDeJuegos"}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275cmp=O.Xpm({type:D,selectors:[["app-root"]],decls:2,vars:0,template:function(x,G){1&x&&O._UZ(0,"app-navmenu")(1,"router-outlet")},directives:[or,dn.lC],styles:["body[_ngcontent-%COMP%]{background-color:#ce4d2d}"]}),D})();var mr=j(2382),Ds=j(7005),Hr=j(5861),Rr=j(5813),Nr=(j(3692),j(5867),j(9681)),dt=j(2090),Bt=j(4859);const nn="firebasestorage.googleapis.com",hr="storageBucket";class zn extends dt.ZR{constructor(I,x){super(Bn(I),`Firebase Storage: ${x} (${Bn(I)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zn.prototype)}_codeEquals(I){return Bn(I)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(I){this.customData.serverResponse=I,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Bn(D){return"storage/"+D}function yr(){return new zn("unknown","An unknown error occurred, please check the error payload for server response.")}function pt(D){return new zn("invalid-argument",D)}function Pt(){return new zn("app-deleted","The Firebase app was deleted.")}function Zn(D,I){return new zn("invalid-format","String does not match format '"+D+"': "+I)}function Nn(D){throw new zn("internal-error","Internal error: "+D)}class jn{constructor(I,x){this.bucket=I,this.path_=x}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const I=encodeURIComponent;return"/b/"+I(this.bucket)+"/o/"+I(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(I,x){let G;try{G=jn.makeFromUrl(I,x)}catch(ee){return new jn(I,"")}if(""===G.path)return G;throw function $r(D){return new zn("invalid-default-bucket","Invalid default bucket '"+D+"'.")}(I)}static makeFromUrl(I,x){let G=null;const ee="([A-Za-z0-9.\\-_]+)",at=new RegExp("^gs://"+ee+"(/(.*))?$","i");function _n(Et){Et.path_=decodeURIComponent(Et.path)}const Sr=x.replace(/[.]/g,"\\."),Ii=[{regex:at,indices:{bucket:1,path:3},postModify:function ve(Et){"/"===Et.path.charAt(Et.path.length-1)&&(Et.path_=Et.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Sr}/v[A-Za-z0-9_]+/b/${ee}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_n},{regex:new RegExp(`^https?://${x===nn?"(?:storage.googleapis.com|storage.cloud.google.com)":x}/${ee}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_n}];for(let Et=0;Et<Ii.length;Et++){const Uo=Ii[Et],Ws=Uo.regex.exec(I);if(Ws){let cs=Ws[Uo.indices.path];cs||(cs=""),G=new jn(Ws[Uo.indices.bucket],cs),Uo.postModify(G);break}}if(null==G)throw function Tr(D){return new zn("invalid-url","Invalid URL '"+D+"'.")}(I);return G}}class Bi{constructor(I){this.promise_=Promise.reject(I)}getPromise(){return this.promise_}cancel(I=!1){}}function vi(D){return"string"==typeof D||D instanceof String}function ss(D){return Xi()&&D instanceof Blob}function Xi(){return"undefined"!=typeof Blob}function Br(D,I,x,G){if(G<I)throw pt(`Invalid value for '${D}'. Expected ${I} or greater.`);if(G>x)throw pt(`Invalid value for '${D}'. Expected ${x} or less.`)}function Gr(D,I,x){let G=I;return null==x&&(G=`https://${I}`),`${x}://${G}/v0${D}`}function Ls(D){const I=encodeURIComponent;let x="?";for(const G in D)D.hasOwnProperty(G)&&(x=x+(I(G)+"=")+I(D[G])+"&");return x=x.slice(0,-1),x}var hi=(()=>{return(D=hi||(hi={}))[D.NO_ERROR=0]="NO_ERROR",D[D.NETWORK_ERROR=1]="NETWORK_ERROR",D[D.ABORT=2]="ABORT",hi;var D})();class wo{constructor(I,x,G,ee,ve,ot,at,Mt,_n,bn,Sr){this.url_=I,this.method_=x,this.headers_=G,this.body_=ee,this.successCodes_=ve,this.additionalRetryCodes_=ot,this.callback_=at,this.errorCallback_=Mt,this.timeout_=_n,this.progressCallback_=bn,this.connectionFactory_=Sr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ar,Lr)=>{this.resolve_=ar,this.reject_=Lr,this.start_()})}start_(){const x=(G,ee)=>{const ve=this.resolve_,ot=this.reject_,at=ee.connection;if(ee.wasSuccessCode)try{const Mt=this.callback_(at,at.getResponse());!function nr(D){return void 0!==D}(Mt)?ve():ve(Mt)}catch(Mt){ot(Mt)}else if(null!==at){const Mt=yr();Mt.serverResponse=at.getErrorText(),ot(this.errorCallback_?this.errorCallback_(at,Mt):Mt)}else ot(ee.canceled?this.appDelete_?Pt():function kr(){return new zn("canceled","User canceled the upload/download.")}():function _i(){return new zn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?x(0,new Ts(!1,null,!0)):this.backoffId_=function Si(D,I,x){let G=1,ee=null,ve=null,ot=!1,at=0;function Mt(){return 2===at}let _n=!1;function bn(...Yn){_n||(_n=!0,I.apply(null,Yn))}function Sr(Yn){ee=setTimeout(()=>{ee=null,D(Lr,Mt())},Yn)}function ar(){ve&&clearTimeout(ve)}function Lr(Yn,...Kr){if(_n)return void ar();if(Yn)return ar(),void bn.call(null,Yn,...Kr);if(Mt()||ot)return ar(),void bn.call(null,Yn,...Kr);let Ii;G<64&&(G*=2),1===at?(at=2,Ii=0):Ii=1e3*(G+Math.random()),Sr(Ii)}let ri=!1;function zi(Yn){ri||(ri=!0,ar(),!_n&&(null!==ee?(Yn||(at=2),clearTimeout(ee),Sr(0)):Yn||(at=1)))}return Sr(0),ve=setTimeout(()=>{ot=!0,zi(!0)},x),zi}((G,ee)=>{if(ee)return void G(!1,new Ts(!1,null,!0));const ve=this.connectionFactory_();this.pendingConnection_=ve;const ot=at=>{null!==this.progressCallback_&&this.progressCallback_(at.loaded,at.lengthComputable?at.total:-1)};null!==this.progressCallback_&&ve.addUploadProgressListener(ot),ve.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ve.removeUploadProgressListener(ot),this.pendingConnection_=null;const at=ve.getErrorCode()===hi.NO_ERROR,Mt=ve.getStatus();if(!at||this.isRetryStatusCode_(Mt)){const bn=ve.getErrorCode()===hi.ABORT;return void G(!1,new Ts(!1,null,bn))}const _n=-1!==this.successCodes_.indexOf(Mt);G(!0,new Ts(_n,ve))})},x,this.timeout_)}getPromise(){return this.promise_}cancel(I){this.canceled_=!0,this.appDelete_=I||!1,null!==this.backoffId_&&function oo(D){D(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(I){const x=I>=500&&I<600,ee=-1!==[408,429].indexOf(I),ve=-1!==this.additionalRetryCodes_.indexOf(I);return x||ee||ve}}class Ts{constructor(I,x,G){this.wasSuccessCode=I,this.connection=x,this.canceled=!!G}}function hs(...D){const I=function Js(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==I){const x=new I;for(let G=0;G<D.length;G++)x.append(D[G]);return x.getBlob()}if(Xi())return new Blob(D);throw new zn("unsupported-environment","This browser doesn't seem to support creating Blobs")}class ji{constructor(I,x){this.data=I,this.contentType=x||null}}function Ss(D){const I=[];for(let x=0;x<D.length;x++){let G=D.charCodeAt(x);G<=127?I.push(G):G<=2047?I.push(192|G>>6,128|63&G):55296==(64512&G)?x<D.length-1&&56320==(64512&D.charCodeAt(x+1))?(G=65536|(1023&G)<<10|1023&D.charCodeAt(++x),I.push(240|G>>18,128|G>>12&63,128|G>>6&63,128|63&G)):I.push(239,191,189):56320==(64512&G)?I.push(239,191,189):I.push(224|G>>12,128|G>>6&63,128|63&G)}return new Uint8Array(I)}function fs(D,I){switch(D){case"base64":{const ee=-1!==I.indexOf("-"),ve=-1!==I.indexOf("_");if(ee||ve)throw Zn(D,"Invalid character '"+(ee?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const ee=-1!==I.indexOf("+"),ve=-1!==I.indexOf("/");if(ee||ve)throw Zn(D,"Invalid character '"+(ee?"+":"/")+"' found: is it base64 encoded?");I=I.replace(/-/g,"+").replace(/_/g,"/");break}}let x;try{x=function Qr(D){return atob(D)}(I)}catch(ee){throw Zn(D,"Invalid character found")}const G=new Uint8Array(x.length);for(let ee=0;ee<x.length;ee++)G[ee]=x.charCodeAt(ee);return G}class Wr{constructor(I){this.base64=!1,this.contentType=null;const x=I.match(/^data:([^,]+)?,/);if(null===x)throw Zn("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const G=x[1]||null;null!=G&&(this.base64=function Vs(D,I){return D.length>=I.length&&D.substring(D.length-I.length)===I}(G,";base64"),this.contentType=this.base64?G.substring(0,G.length-7):G),this.rest=I.substring(I.indexOf(",")+1)}}class Er{constructor(I,x){let G=0,ee="";ss(I)?(this.data_=I,G=I.size,ee=I.type):I instanceof ArrayBuffer?(x?this.data_=new Uint8Array(I):(this.data_=new Uint8Array(I.byteLength),this.data_.set(new Uint8Array(I))),G=this.data_.length):I instanceof Uint8Array&&(x?this.data_=I:(this.data_=new Uint8Array(I.length),this.data_.set(I)),G=I.length),this.size_=G,this.type_=ee}size(){return this.size_}type(){return this.type_}slice(I,x){if(ss(this.data_)){const ee=function Ei(D,I,x){return D.webkitSlice?D.webkitSlice(I,x):D.mozSlice?D.mozSlice(I,x):D.slice?D.slice(I,x):null}(this.data_,I,x);return null===ee?null:new Er(ee)}{const G=new Uint8Array(this.data_.buffer,I,x-I);return new Er(G,!0)}}static getBlob(...I){if(Xi()){const x=I.map(G=>G instanceof Er?G.data_:G);return new Er(hs.apply(null,x))}{const x=I.map(ot=>vi(ot)?function Hi(D,I){switch(D){case"raw":return new ji(Ss(I));case"base64":case"base64url":return new ji(fs(D,I));case"data_url":return new ji(function xi(D){const I=new Wr(D);return I.base64?fs("base64",I.rest):function as(D){let I;try{I=decodeURIComponent(D)}catch(x){throw Zn("data_url","Malformed data URL.")}return Ss(I)}(I.rest)}(I),function ps(D){return new Wr(D).contentType}(I))}throw yr()}("raw",ot).data:ot.data_);let G=0;x.forEach(ot=>{G+=ot.byteLength});const ee=new Uint8Array(G);let ve=0;return x.forEach(ot=>{for(let at=0;at<ot.length;at++)ee[ve++]=ot[at]}),new Er(ee,!0)}}uploadData(){return this.data_}}function wr(D){let I;try{I=JSON.parse(D)}catch(x){return null}return function ao(D){return"object"==typeof D&&!Array.isArray(D)}(I)?I:null}function gs(D){const I=D.lastIndexOf("/",D.length-2);return-1===I?D:D.slice(I+1)}function ms(D,I){return I}class br{constructor(I,x,G,ee){this.server=I,this.local=x||I,this.writable=!!G,this.xform=ee||ms}}let Fr=null;function us(){if(Fr)return Fr;const D=[];D.push(new br("bucket")),D.push(new br("generation")),D.push(new br("metageneration")),D.push(new br("name","fullPath",!0));const x=new br("name");x.xform=function I(ve,ot){return function Ri(D){return!vi(D)||D.length<2?D:gs(D)}(ot)},D.push(x);const ee=new br("size");return ee.xform=function G(ve,ot){return void 0!==ot?Number(ot):ot},D.push(ee),D.push(new br("timeCreated")),D.push(new br("updated")),D.push(new br("md5Hash",null,!0)),D.push(new br("cacheControl",null,!0)),D.push(new br("contentDisposition",null,!0)),D.push(new br("contentEncoding",null,!0)),D.push(new br("contentLanguage",null,!0)),D.push(new br("contentType",null,!0)),D.push(new br("metadata","customMetadata",!0)),Fr=D,Fr}function W(D,I,x){const G=wr(I);return null===G?null:function N(D,I,x){const G={type:"file"},ee=x.length;for(let ve=0;ve<ee;ve++){const ot=x[ve];G[ot.local]=ot.xform(G,I[ot.server])}return function _r(D,I){Object.defineProperty(D,"ref",{get:function x(){const ve=new jn(D.bucket,D.fullPath);return I._makeStorageReference(ve)}})}(G,D),G}(D,G,x)}const ce="prefixes";class Fn{constructor(I,x,G,ee){this.url=I,this.method=x,this.handler=G,this.timeout=ee,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function An(D){if(!D)throw yr()}function Kn(D){return function I(x,G){let ee;return ee=401===x.getStatus()?x.getErrorText().includes("Firebase App Check token is invalid")?function Ui(){return new zn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ai(){return new zn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===x.getStatus()?function En(D){return new zn("quota-exceeded","Quota for bucket '"+D+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(D.bucket):403===x.getStatus()?function Ji(D){return new zn("unauthorized","User does not have permission to access '"+D+"'.")}(D.path):G,ee.serverResponse=G.serverResponse,ee}}function ai(D,I,x,G,ee){const ve={};ve.prefix=I.isRoot?"":I.path+"/",x&&x.length>0&&(ve.delimiter=x),G&&(ve.pageToken=G),ee&&(ve.maxResults=ee);const at=Gr(I.bucketOnlyServerUrl(),D.host,D._protocol),_n=D.maxOperationRetryTime,bn=new Fn(at,"GET",function Sn(D,I){return function x(G,ee){const ve=function Dt(D,I,x){const G=wr(x);return null===G?null:function Ye(D,I,x){const G={prefixes:[],items:[],nextPageToken:x.nextPageToken};if(x[ce])for(const ee of x[ce]){const ve=ee.replace(/\/$/,""),ot=D._makeStorageReference(new jn(I,ve));G.prefixes.push(ot)}if(x.items)for(const ee of x.items){const ve=D._makeStorageReference(new jn(I,ee.name));G.items.push(ve)}return G}(D,I,G)}(D,I,ee);return An(null!==ve),ve}}(D,I.bucket),_n);return bn.urlParams=ve,bn.errorHandler=Kn(I),bn}function R(D,I,x,G,ee){const ve=I.bucketOnlyServerUrl(),ot={"X-Goog-Upload-Protocol":"multipart"},Mt=function at(){let Ii="";for(let Et=0;Et<2;Et++)Ii+=Math.random().toString().slice(2);return Ii}();ot["Content-Type"]="multipart/related; boundary="+Mt;const _n=function F(D,I,x){const G=Object.assign({},x);return G.fullPath=D.path,G.size=I.size(),G.contentType||(G.contentType=function Xs(D,I){return D&&D.contentType||I&&I.type()||"application/octet-stream"}(null,I)),G}(I,G,ee),bn=function Y(D,I){const x={},G=I.length;for(let ee=0;ee<G;ee++){const ve=I[ee];ve.writable&&(x[ve.server]=D[ve.local])}return JSON.stringify(x)}(_n,x),Lr=Er.getBlob("--"+Mt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bn+"\r\n--"+Mt+"\r\nContent-Type: "+_n.contentType+"\r\n\r\n",G,"\r\n--"+Mt+"--");if(null===Lr)throw function de(){return new zn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const ri={name:_n.fullPath},zi=Gr(ve,D.host,D._protocol),Kr=D.maxUploadRetryTime,Wi=new Fn(zi,"POST",function hn(D,I){return function x(G,ee){const ve=W(D,ee,I);return An(null!==ve),ve}}(D,x),Kr);return Wi.urlParams=ri,Wi.headers=ot,Wi.body=Lr.uploadData(),Wi.errorHandler=Kn(I),Wi}class uo extends class ua{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hi.NO_ERROR,this.sendPromise_=new Promise(I=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hi.ABORT,I()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hi.NETWORK_ERROR,I()}),this.xhr_.addEventListener("load",()=>{I()})})}send(I,x,G,ee){if(this.sent_)throw Nn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(x,I,!0),void 0!==ee)for(const ve in ee)ee.hasOwnProperty(ve)&&this.xhr_.setRequestHeader(ve,ee[ve].toString());return void 0!==G?this.xhr_.send(G):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(I){return-1}}getResponse(){if(!this.sent_)throw Nn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(I){return this.xhr_.getResponseHeader(I)}addUploadProgressListener(I){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",I)}removeUploadProgressListener(I){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",I)}}{initXhr(){this.xhr_.responseType="text"}}function Ir(){return new uo}class es{constructor(I,x){this._service=I,this._location=x instanceof jn?x:jn.makeFromUrl(x,I.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(I,x){return new es(I,x)}get root(){const I=new jn(this._location.bucket,"");return this._newRef(this._service,I)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gs(this._location.path)}get storage(){return this._service}get parent(){const I=function wi(D){if(0===D.length)return null;const I=D.lastIndexOf("/");return-1===I?"":D.slice(0,I)}(this._location.path);if(null===I)return null;const x=new jn(this._location.bucket,I);return new es(this._service,x)}_throwIfRoot(I){if(""===this._location.path)throw function Xn(D){return new zn("invalid-root-operation","The operation '"+D+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(I)}}function Yo(D,I,x){return co.apply(this,arguments)}function co(){return(co=(0,Hr.Z)(function*(D,I,x){const ee=yield Hs(D,{pageToken:x});I.prefixes.push(...ee.prefixes),I.items.push(...ee.items),null!=ee.nextPageToken&&(yield Yo(D,I,ee.nextPageToken))})).apply(this,arguments)}function Hs(D,I){null!=I&&"number"==typeof I.maxResults&&Br("options.maxResults",1,1e3,I.maxResults);const x=I||{},G=ai(D.storage,D._location,"/",x.pageToken,x.maxResults);return D.storage.makeRequestWithTokens(G,Ir)}function da(D){D._throwIfRoot("getDownloadURL");const I=function Pi(D,I,x){const ee=Gr(I.fullServerUrl(),D.host,D._protocol),ot=D.maxOperationRetryTime,at=new Fn(ee,"GET",function Ar(D,I){return function x(G,ee){const ve=W(D,ee,I);return An(null!==ve),function P(D,I,x,G){const ee=wr(I);if(null===ee||!vi(ee.downloadTokens))return null;const ve=ee.downloadTokens;if(0===ve.length)return null;const ot=encodeURIComponent;return ve.split(",").map(_n=>{const Sr=D.fullPath;return Gr("/b/"+ot(D.bucket)+"/o/"+ot(Sr),x,G)+Ls({alt:"media",token:_n})})[0]}(ve,ee,D.host,D._protocol)}}(D,x),ot);return at.errorHandler=function rr(D){const I=Kn(D);return function x(G,ee){let ve=I(G,ee);return 404===G.getStatus()&&(ve=function yi(D){return new zn("object-not-found","Object '"+D+"' does not exist.")}(D.path)),ve.serverResponse=ee.serverResponse,ve}}(I),at}(D.storage,D._location,us());return D.storage.makeRequestWithTokens(I,Ir).then(x=>{if(null===x)throw function nt(){return new zn("no-download-url","The given file does not have any download URLs.")}();return x})}function Zr(D,I){if(D instanceof ha){const x=D;if(null==x._bucket)throw function Ie(){return new zn("no-default-bucket","No default bucket found. Did you set the '"+hr+"' property when initializing the app?")}();const G=new es(x,x._bucket);return null!=I?Zr(G,I):G}return void 0!==I?function ho(D,I){const x=function Us(D,I){const x=I.split("/").filter(G=>G.length>0).join("/");return 0===D.length?x:D+"/"+x}(D._location.path,I),G=new jn(D._location.bucket,x);return new es(D.storage,G)}(D,I):D}function zr(D,I){const x=null==I?void 0:I[hr];return null==x?null:jn.makeFromBucketSpec(x,D)}class ha{constructor(I,x,G,ee,ve){this.app=I,this._authProvider=x,this._appCheckProvider=G,this._url=ee,this._firebaseVersion=ve,this._bucket=null,this._host=nn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ee?jn.makeFromBucketSpec(ee,this._host):zr(this._host,this.app.options)}get host(){return this._host}set host(I){this._host=I,this._bucket=null!=this._url?jn.makeFromBucketSpec(this._url,I):zr(I,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(I){Br("time",0,Number.POSITIVE_INFINITY,I),this._maxUploadRetryTime=I}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(I){Br("time",0,Number.POSITIVE_INFINITY,I),this._maxOperationRetryTime=I}_getAuthToken(){var I=this;return(0,Hr.Z)(function*(){if(I._overrideAuthToken)return I._overrideAuthToken;const x=I._authProvider.getImmediate({optional:!0});if(x){const G=yield x.getToken();if(null!==G)return G.accessToken}return null})()}_getAppCheckToken(){var I=this;return(0,Hr.Z)(function*(){const x=I._appCheckProvider.getImmediate({optional:!0});return x?(yield x.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(I=>I.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(I){return new es(this,I)}_makeRequest(I,x,G,ee){if(this._deleted)return new Bi(Pt());{const ve=function Mi(D,I,x,G,ee,ve){const ot=Ls(D.urlParams),at=D.url+ot,Mt=Object.assign({},D.headers);return function Qs(D,I){I&&(D["X-Firebase-GMPID"]=I)}(Mt,I),function Ys(D,I){null!==I&&I.length>0&&(D.Authorization="Firebase "+I)}(Mt,x),function As(D,I){D["X-Firebase-Storage-Version"]="webjs/"+(null!=I?I:"AppManager")}(Mt,ve),function os(D,I){null!==I&&(D["X-Firebase-AppCheck"]=I)}(Mt,G),new wo(at,D.method,Mt,D.body,D.successCodes,D.additionalRetryCodes,D.handler,D.errorHandler,D.timeout,D.progressCallback,ee)}(I,this._appId,G,ee,x,this._firebaseVersion);return this._requests.add(ve),ve.getPromise().then(()=>this._requests.delete(ve),()=>this._requests.delete(ve)),ve}}makeRequestWithTokens(I,x){var G=this;return(0,Hr.Z)(function*(){const[ee,ve]=yield Promise.all([G._getAuthToken(),G._getAppCheckToken()]);return G._makeRequest(I,x,ee,ve).getPromise()})()}}const fa="@firebase/storage";function ts(D,I,x){return function Io(D,I,x){D._throwIfRoot("uploadBytes");const G=R(D.storage,D._location,us(),new Er(I,!0),x);return D.storage.makeRequestWithTokens(G,Ir).then(ee=>({metadata:ee,ref:D}))}(D=(0,dt.m9)(D),I,x)}function ns(D){return function Ba(D){const I={prefixes:[],items:[]};return Yo(D,I).then(()=>I)}(D=(0,dt.m9)(D))}function Os(D){return da(D=(0,dt.m9)(D))}function $i(D,I){return function Co(D,I){if(I&&function ja(D){return/^[A-Za-z]+:\/\//.test(D)}(I)){if(D instanceof ha)return function Qo(D,I){return new es(D,I)}(D,I);throw pt("To use ref(service, url), the first argument must be a Storage instance.")}return Zr(D,I)}(D=(0,dt.m9)(D),I)}function Cr(D,{instanceIdentifier:I}){const x=D.getProvider("app").getImmediate(),G=D.getProvider("auth-internal"),ee=D.getProvider("app-check-internal");return new ha(x,G,ee,I,Nr.SDK_VERSION)}!function ko(){(0,Nr._registerComponent)(new Bt.wA("storage",Cr,"PUBLIC").setMultipleInstances(!0)),(0,Nr.registerVersion)(fa,"0.9.5",""),(0,Nr.registerVersion)(fa,"0.9.5","esm2017")}();class vs{constructor(I){return I}}const vt=(0,Rr.u3)(Os,!0),A=(0,Rr.u3)(ns,!0),L=(0,Rr.u3)($i,!0),z=(0,Rr.u3)(ts,!0);let Ot=(()=>{class D{constructor(x,G){this.storage=x,this.firestore=G,this.obtenerImagenes("peliculas")}subirImagen(x,G,ee){this.storageRef=L(this.storage,ee+x),z(this.storageRef,G).then(ve=>{console.log(ve)}).catch(ve=>console.log(ve))}obtenerImagenes(x){var G=this;this.storageRef=L(this.storage,x),A(this.storageRef).then(function(){var ee=(0,Hr.Z)(function*(ve){G.imagesItems=ve.items});return function(ve){return ee.apply(this,arguments)}}()).catch(ee=>console.log(ee))}obtenerURLImagen(x,G,ee,ve){let ot=x+"/"+ee+"+"+G;this.storageRef=L(this.storage,x),A(this.storageRef).then(at=>{for(let Mt of at.items)ot==Mt.fullPath&&vt(Mt).then(_n=>{this.firestore.actualizarURL(ee,_n,ve)}).catch(_n=>console.log(_n))}).catch(at=>console.log(at))}}return D.\u0275fac=function(x){return new(x||D)(O.LFG(vs),O.LFG(Ds.C))},D.\u0275prov=O.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Hn(D,I){1&D&&(O.TgZ(0,"a",40),O._uU(1,"ERROR AL LOGEARSE"),O.qZA())}function Yt(D,I){1&D&&(O.TgZ(0,"small",41),O._uU(1," El usuario es requerido "),O.qZA())}function fr(D,I){1&D&&(O.TgZ(0,"small",41),O._uU(1," El usuario no puede contener espacios "),O.qZA())}function $n(D,I){1&D&&(O.TgZ(0,"small",41),O._uU(1," El password es requerido "),O.qZA())}function Ps(D,I){1&D&&(O.TgZ(0,"small",41),O._uU(1," El email es requerido "),O.qZA())}function ls(D,I){1&D&&(O.TgZ(0,"small",41),O._uU(1," El email no tiene el formato correcto "),O.qZA())}function Vo(D,I){if(1&D&&O._UZ(0,"img",42),2&D){const x=O.oxw();O.s9C("src",x.imagen,O.LSH)}}const Ln=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{class D{constructor(){}ngOnInit(){}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275cmp=O.Xpm({type:D,selectors:[["app-home"]],decls:20,vars:0,consts:[["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"titulo"],[1,"textoOpciones"],["routerLink","/juegos","data-text","Juegos"],["routerLink","/juegos","data-text","Puntaje"],["routerLink","/sobreMi","data-text","Sobre mi"]],template:function(x,G){1&x&&(O.TgZ(0,"html")(1,"head"),O._UZ(2,"meta",0)(3,"meta",1),O.TgZ(4,"title"),O._uU(5,"List Item Hover Effects"),O.qZA()(),O.TgZ(6,"body")(7,"h1",2),O._uU(8,"Bienvenidos a la sala de juegos!"),O.qZA(),O.TgZ(9,"div",3)(10,"ul")(11,"li")(12,"a",4),O._uU(13,"Juegos"),O.qZA()(),O.TgZ(14,"li")(15,"a",5),O._uU(16,"Puntaje"),O.qZA()(),O.TgZ(17,"li")(18,"a",6),O._uU(19,"Sobre mi"),O.qZA()()()()()())},directives:[dn.yS],styles:['@import"https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800,900&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}.titulo[_ngcontent-%COMP%]{position:absolute;top:15%;font-size:80px;color:#000;border-width:10px;border-style:ridge;border-color:#83046e;background-color:#fff8;padding:5px;width:80%;height:14%;text-align:center;margin:0 auto}.miFoto[_ngcontent-%COMP%]{position:relative;width:10%;height:10%}.textoOpciones[_ngcontent-%COMP%]{position:relative;top:10%}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;overflow:hidden;background-image:url(fondo.a5d24e9958cc36ea.jpg)}ul[_ngcontent-%COMP%]{position:relative}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;text-align:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-size:40px;padding:5px 20px;display:inline-flex;font-weight:700;transition:.5s;text-shadow:1px 0 0 #fff,-1px 0 0 #fff,0 1px 0 #fff,0 -1px 0 #fff,1px 1px #fff,-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff}ul[_ngcontent-%COMP%]:hover   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#960000;background:rgba(255,255,255,1);text-shadow:1px 0 0 rgb(0,0,0),-1px 0 0 rgb(0,0,0),0 1px 0 rgb(0,0,0),0 -1px 0 rgb(0,0,0),1px 1px rgb(0,0,0),-1px -1px 0 rgb(0,0,0),1px -1px 0 rgb(0,0,0),-1px 1px 0 rgb(0,0,0);border-width:5px;border-style:ridge;border-color:#830404}']}),D})()},{path:"login",component:(()=>{class D{constructor(x,G,ee,ve,ot){this.ruteo=x,this.authService=G,this.fb=ee,this.fireStore=ve,this.storageService=ot,this.mostrarImagen=!1,this.showError=!1,this.usuario={email:"",password:""},this.formRegistro=this.fb.group({username:["",[mr.kI.required,this.spacesValidator]],password:["",mr.kI.required],email:["",[mr.kI.required,mr.kI.email]]})}ngOnInit(){}ingresar(){const{email:x,password:G}=this.usuario;this.authService.login(x,G).then(ee=>{null==ee?(console.log("error al logearse",ee),this.showError=!0):(console.log("ingreso!: ",ee),this.ruteo.navigateByUrl("home"))}).catch(ee=>{console.log("error al logearse",ee),this.showError=!0})}ingresarConGoogle(){const{email:x,password:G}=this.usuario;this.authService.loginWithGoogle(x,G).then(ee=>{console.log("se ingreso con google!: ",ee),this.ruteo.navigateByUrl("home")}).catch(ee=>{console.log("error al logearse con google",ee),this.showError=!0})}registrarse(){const x=this.formRegistro.getRawValue().username,G=this.formRegistro.getRawValue().email,ee=this.formRegistro.getRawValue().password;this.authService.register(G,ee).then(ve=>{var ot;console.log("se registro!: ",ve);let at={username:x,email:G,userId:null===(ot=null==ve?void 0:ve.user)||void 0===ot?void 0:ot.uid,fotoURL:"fotoUsuario"};this.storageService.subirImagen(x+G,this.imagen,"fotosPerfil"),this.fireStore.addUsuario("datosUsuarios",at),this.ruteo.navigateByUrl("home")}).catch(ve=>{console.log("error al registrarse",ve),this.showError=!0})}obtenerImagen(x){this.archivoSubido=x.target.files;let G=new FileReader;G.readAsDataURL(this.archivoSubido[0]),G.onloadend=()=>{this.imagen=G.result,this.mostrarImagen=!0}}spacesValidator(x){return x.value.includes(" ")?{containsSpaces:!0}:null}}return D.\u0275fac=function(x){return new(x||D)(O.Y36(dn.F0),O.Y36(qt.e),O.Y36(mr.qu),O.Y36(Ds.C),O.Y36(Ot))},D.\u0275cmp=O.Xpm({type:D,selectors:[["app-login"]],decls:66,vars:11,consts:[[1,"login-wrap"],[1,"login-html"],["id","tab-1","type","radio","name","tab","checked","",1,"sign-in"],["for","tab-1",1,"tab"],["id","tab-2","type","radio","name","tab",1,"sign-up"],["for","tab-2",1,"tab"],[1,"login-form"],[1,"sign-in-htm"],["class","errorMessage",4,"ngIf"],[1,"group"],["for","user",1,"label"],["id","user","type","text",1,"input",3,"ngModel","ngModelChange"],["for","pass",1,"label"],["id","pass","type","password","data-type","password",1,"input",3,"ngModel","ngModelChange"],["id","check","type","checkbox","checked","",1,"check"],["for","check"],[1,"icon"],["type","submit","value","Ingresar",1,"button",3,"click"],["type","submit","value","Ingresar con Google",1,"buttonGoogle",3,"click"],[1,"hr"],[1,"foot-lnk"],["href","#forgot"],[1,"sign-up-htm"],[3,"formGroup","ngSubmit"],["for","userRegistrarse",1,"label"],["type","text","id","userRegistrarse","placeholder","Ingrese Usuario","formControlName","username",1,"input"],["class","invalid",4,"ngIf"],["for","passRegistrarse",1,"label"],["type","password","id","passRegistrarse","placeholder","Ingrese Contrase\xf1a","formControlName","password",1,"input"],["for","passRepeat",1,"label"],["id","passRepeat","type","password","data-type","password",1,"input"],["for","emailRegistrarse",1,"label"],["type","text","id","emailRegistrarse","placeholder","Ingrese Email","formControlName","email",1,"input"],["type","file","id","inputFile","accept",".png, .jpg, .jpeg","multiple","",3,"change"],[1,"label"],["for","inputFile",1,"labelInputFile"],["src","https://icons-for-free.com/download-icon-cloud+upload+file+storage+upload+icon-1320190558968694328_512.png","alt","upload file"],["type","submit","value","Registrarse",1,"button",3,"disabled"],[1,"mostradorDeImagen"],["alt","imagenSubida","class","muestraImagen",3,"src",4,"ngIf"],[1,"errorMessage"],[1,"invalid"],["alt","imagenSubida",1,"muestraImagen",3,"src"]],template:function(x,G){1&x&&(O.TgZ(0,"body")(1,"div",0)(2,"div",1),O._UZ(3,"input",2),O.TgZ(4,"label",3),O._uU(5,"INGRESAR"),O.qZA(),O._UZ(6,"input",4),O.TgZ(7,"label",5),O._uU(8,"REGISTRARSE"),O.qZA(),O.TgZ(9,"div",6)(10,"div",7),O.YNc(11,Hn,2,0,"a",8),O.TgZ(12,"div",9)(13,"label",10),O._uU(14,"Usuario"),O.qZA(),O.TgZ(15,"input",11),O.NdJ("ngModelChange",function(ve){return G.usuario.email=ve}),O.qZA()(),O.TgZ(16,"div",9)(17,"label",12),O._uU(18,"Contrase\xf1a"),O.qZA(),O.TgZ(19,"input",13),O.NdJ("ngModelChange",function(ve){return G.usuario.password=ve}),O.qZA()(),O.TgZ(20,"div",9),O._UZ(21,"input",14),O.TgZ(22,"label",15),O._UZ(23,"span",16),O._uU(24," Mantenerme Ingresado"),O.qZA()(),O.TgZ(25,"div",9)(26,"input",17),O.NdJ("click",function(){return G.ingresar()}),O.qZA(),O._UZ(27,"br"),O.TgZ(28,"input",18),O.NdJ("click",function(){return G.ingresarConGoogle()}),O.qZA()(),O._UZ(29,"div",19),O.TgZ(30,"div",20)(31,"a",21),O._uU(32,"Olvidaste tu contrase\xf1a?"),O.qZA()()(),O.TgZ(33,"div",22)(34,"form",23),O.NdJ("ngSubmit",function(){return G.registrarse()}),O.TgZ(35,"div",9)(36,"label",24),O._uU(37,"Usuario"),O.qZA(),O._UZ(38,"input",25),O.YNc(39,Yt,2,0,"small",26),O.YNc(40,fr,2,0,"small",26),O.qZA(),O.TgZ(41,"div",9)(42,"label",27),O._uU(43,"Contrase\xf1a"),O.qZA(),O._UZ(44,"input",28),O.YNc(45,$n,2,0,"small",26),O.qZA(),O.TgZ(46,"div",9)(47,"label",29),O._uU(48,"Repeat Password"),O.qZA(),O._UZ(49,"input",30),O.qZA(),O.TgZ(50,"div",9)(51,"label",31),O._uU(52,"Email"),O.qZA(),O._UZ(53,"input",32),O.YNc(54,Ps,2,0,"small",26),O.YNc(55,ls,2,0,"small",26),O.qZA(),O.TgZ(56,"div",9)(57,"input",33),O.NdJ("change",function(ve){return G.obtenerImagen(ve)}),O.qZA(),O.TgZ(58,"label",34),O._uU(59,"Subir Imagen:"),O.qZA(),O.TgZ(60,"label",35),O._UZ(61,"img",36),O.qZA()(),O.TgZ(62,"div",9),O._UZ(63,"input",37),O.qZA()(),O.TgZ(64,"div",38),O.YNc(65,Vo,1,1,"img",39),O.qZA()()()()()()),2&x&&(O.xp6(11),O.Q6J("ngIf",G.showError),O.xp6(4),O.Q6J("ngModel",G.usuario.email),O.xp6(4),O.Q6J("ngModel",G.usuario.password),O.xp6(15),O.Q6J("formGroup",G.formRegistro),O.xp6(5),O.Q6J("ngIf",(null==G.formRegistro.controls.username.errors?null:G.formRegistro.controls.username.errors.required)&&G.formRegistro.controls.username.touched),O.xp6(1),O.Q6J("ngIf",(null==G.formRegistro.controls.username.errors?null:G.formRegistro.controls.username.errors.containsSpaces)&&G.formRegistro.controls.username.touched),O.xp6(5),O.Q6J("ngIf",(null==G.formRegistro.controls.password.errors?null:G.formRegistro.controls.password.errors.required)&&G.formRegistro.controls.password.touched),O.xp6(9),O.Q6J("ngIf",(null==G.formRegistro.controls.email.errors?null:G.formRegistro.controls.email.errors.required)&&G.formRegistro.controls.email.touched),O.xp6(1),O.Q6J("ngIf",(null==G.formRegistro.controls.email.errors?null:G.formRegistro.controls.email.errors.email)&&G.formRegistro.controls.email.touched),O.xp6(8),O.Q6J("disabled",G.formRegistro.invalid),O.xp6(2),O.Q6J("ngIf",G.mostrarImagen))},directives:[p.O5,mr.Fj,mr.JJ,mr.On,mr._Y,mr.JL,mr.sg,mr.u],styles:['body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;overflow:hidden;background-image:url(fondo.a5d24e9958cc36ea.jpg)}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:"";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both;display:block}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.login-wrap[_ngcontent-%COMP%]{width:100%;margin:auto;max-width:525px;min-height:670px;position:relative;box-shadow:0 12px 15px #0000003d,0 17px 50px #00000030}.login-html[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;padding:90px 70px 50px;background:rgba(75,0,0,.774)}.login-html[_ngcontent-%COMP%]   .sign-in-htm[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up-htm[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;position:absolute;transform:rotateY(180deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:all .4s linear}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{display:none}.login-html[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{text-transform:uppercase}.login-html[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{font-size:22px;padding-bottom:5px;margin:0 15px 10px 0;display:inline-block;border-bottom:2px solid transparent}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%]{color:#fff;border-color:#1161ee}.login-form[_ngcontent-%COMP%]{min-height:345px;position:relative;perspective:1000px;transform-style:preserve-3d}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:15px}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%;color:#fff;display:block}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border:none;padding:15px 20px;border-radius:25px;background:rgba(255,255,255,.1)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   input[data-type=password][_ngcontent-%COMP%]{text-security:circle;-webkit-text-security:circle}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#aaa;font-size:12px}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:#1161ee}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:2px;position:relative;display:inline-block;background:rgba(255,255,255,.1)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before, .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{content:"";width:10px;height:2px;background:#fff;position:absolute;transition:all .2s ease-in-out 0s}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{left:3px;width:5px;bottom:6px;transform:scale(0) rotate(0)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{top:6px;right:0;transform:scale(0) rotate(0)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#1161ee}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{transform:scale(1) rotate(45deg)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{transform:scale(1) rotate(-45deg)}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%] + .sign-up[_ngcontent-%COMP%] + .tab[_ngcontent-%COMP%] + .login-form[_ngcontent-%COMP%]   .sign-in-htm[_ngcontent-%COMP%]{transform:rotate(0)}.login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%] + .login-form[_ngcontent-%COMP%]   .sign-up-htm[_ngcontent-%COMP%]{transform:rotate(0)}.hr[_ngcontent-%COMP%]{height:2px;margin:40px 0;background:rgba(255,255,255,.2)}.foot-lnk[_ngcontent-%COMP%]{text-align:center;color:#fff}.buttonGoogle[_ngcontent-%COMP%]{border:none;padding:5px 10px;border-radius:25px;background:rgb(255,0,0);width:80%;color:#fff;display:block;text-transform:uppercase;position:relative;left:10%}.invalid[_ngcontent-%COMP%]{position:relative;color:#fff;font-family:Courier New,Courier,monospace}.mostradorDeImagen[_ngcontent-%COMP%]{width:128px;height:128px;position:absolute;overflow:hidden;border-radius:50%;background-color:#d17f7f;border:5px solid white;top:98%;right:118%}.muestraImagen[_ngcontent-%COMP%]{position:relative;width:100%;height:auto}#inputFile[_ngcontent-%COMP%]{display:none}.labelInputFile[_ngcontent-%COMP%]{position:relative;width:4rem;height:4rem;background-color:#add8e6;border-radius:100%;padding:1rem;box-shadow:0 0 10px -1px #3d3d3d;display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.labelInputFile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.labelInputFile[_ngcontent-%COMP%]:active{transform:scale(.9)}']}),D})()},{path:"sobreMi",component:(()=>{class D{constructor(){}ngOnInit(){}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275cmp=O.Xpm({type:D,selectors:[["app-quien-soy"]],decls:45,vars:0,consts:[[1,"cuadro"],[1,"titulo"],[1,"juegosSubTitulo"],[1,"hr"],["src","./assets/miFoto.jpg",1,"miFoto"],[1,"sobreMiDescrip"],[1,"cuadroInfo"],[1,"juegosTitulo"],[1,"hrJuegos"],[1,"juegosDescrip"]],template:function(x,G){1&x&&(O.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"p",2),O._uU(4,"Sobre mi:"),O.qZA()(),O._UZ(5,"div",3)(6,"br")(7,"img",4),O.TgZ(8,"p",5),O._uU(9,"Mi nombre es Lucas Valdiviezo, soy un estudiante de la Tecnicatura en programaci\xf3n de la UTN Facultad Regional de Avellaneda."),O.qZA(),O._UZ(10,"br"),O.TgZ(11,"p",5),O._uU(12,"Mi hobbie preferido es jugar videojuegos. Ademas me gusta leer comics y mangas, ver anime y series, y escuchar musica."),O.qZA(),O._UZ(13,"br"),O.qZA(),O.TgZ(14,"div",6)(15,"p",7),O._uU(16,"Juegos"),O.qZA(),O._UZ(17,"br")(18,"br")(19,"br")(20,"div",8),O.TgZ(21,"p",2),O._uU(22,"Ahorcado:"),O.qZA(),O.TgZ(23,"p",9),O._uU(24,'El jugador debera adivinar la palabra, para esto debera elegir una letra y si la letra es correcta se completara sola en la linea rayada, de lo contrario se agregara una parte del cuerpo al "ahorcado". Si el jugador comete muchos errores y se completa el cuerpo del ahorcado este perdera. '),O.qZA(),O._UZ(25,"br")(26,"br"),O.TgZ(27,"p",2),O._uU(28,"Mayor o menor:"),O.qZA(),O.TgZ(29,"p",9),O._uU(30,"Se iniciara mostrando una carta, luego se le preguntara al jugador si la siguiente carta que saldra es mayor o menor a la carta en juego y si adivina sumara un punto. En caso de equivocarse el juego terminara. "),O.qZA(),O._UZ(31,"br")(32,"br"),O.TgZ(33,"p",2),O._uU(34,"Trivia Paises:"),O.qZA(),O.TgZ(35,"p",9),O._uU(36,"Se mostrara una bandera y 4 paises, el jugador debe adivinar de que pais es la bandera. Cada vez que adivine sumara un punto, en caso de equivocarse perdera. "),O.qZA(),O._UZ(37,"br")(38,"br"),O.TgZ(39,"p",2),O._uU(40,"Adivina el Pokemon:"),O.qZA(),O.TgZ(41,"p",9),O._uU(42,"Se mostrara un pokemon oculto, el jugador debe adivinar el pokemon que crea que es escribiendo su nombre. Si este adivina sumara un punto, de lo contrario perdera. "),O.qZA(),O._UZ(43,"br")(44,"br"),O.qZA()())},styles:["body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;overflow:hidden;background-image:url(fondo.a5d24e9958cc36ea.jpg)}.cuadro[_ngcontent-%COMP%]{font:600 16px/18px Open Sans,sans-serif;width:20%;height:85%;position:fixed;text-align:center;padding:20px;color:#fff;box-shadow:0 12px 15px #0000003d,0 17px 50px #00000030;box-shadow:inset 0 0 0 1000px #360000cc;left:5%;top:12%}.cuadroInfo[_ngcontent-%COMP%]{font:600 16px/18px Open Sans,sans-serif;width:70%;height:85%;position:fixed;text-align:center;padding:20px;color:#fff;box-shadow:0 12px 15px #0000003d,0 17px 50px #00000030;box-shadow:inset 0 0 0 1000px #360032cc;left:27%;top:12%}.miFoto[_ngcontent-%COMP%]{position:relative;width:60%;height:30%;object-fit:cover;box-shadow:inset 0 0 0 1000px #000c}.sobreMiDescrip[_ngcontent-%COMP%]{text-align:left;position:relative;top:5%}.hr[_ngcontent-%COMP%]{height:2px;margin:5px 0;background:rgba(255,255,255,.2)}.hrJuegos[_ngcontent-%COMP%]{height:2px;margin:5px 0;background:rgba(184,184,184,.2);position:relative;top:12%}.juegosTitulo[_ngcontent-%COMP%]{position:relative;top:10%;text-align:center;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:120px;text-shadow:2px 0 0 rgb(0,0,0),-2px 0 0 rgb(0,0,0),0 2px 0 rgb(0,0,0),0 -2px 0 rgb(0,0,0),2px 2px rgb(0,0,0),-2px -2px 0 rgb(0,0,0),2px -2px 0 rgb(0,0,0),-2px 2px 0 rgb(0,0,0)}.juegosSubTitulo[_ngcontent-%COMP%]{position:relative;top:15%;text-align:left;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-size:30px;text-shadow:2px 0 0 rgb(0,0,0),-2px 0 0 rgb(0,0,0),0 2px 0 rgb(0,0,0),0 -2px 0 rgb(0,0,0),2px 2px rgb(0,0,0),-2px -2px 0 rgb(0,0,0),2px -2px 0 rgb(0,0,0),-2px 2px 0 rgb(0,0,0)}.juegosDescrip[_ngcontent-%COMP%]{text-align:left;position:relative;top:15%}"]}),D})()},{path:"juegos",loadChildren:()=>j.e(508).then(j.bind(j,9508)).then(D=>D.JuegosModule)},{path:"**",component:(()=>{class D{constructor(){}ngOnInit(){}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275cmp=O.Xpm({type:D,selectors:[["app-not-found"]],decls:2,vars:0,template:function(x,G){1&x&&(O.TgZ(0,"p"),O._uU(1,"not-found works!"),O.qZA())},styles:[""]}),D})()}];let to=(()=>{class D{}return D.\u0275fac=function(x){return new(x||D)},D.\u0275mod=O.oAB({type:D}),D.\u0275inj=O.cJS({imports:[[p.ez,dn.Bz.forRoot(Ln)],dn.Bz]}),D})();var Da=j(2011);const li_firebaseConfig={projectId:"saladejuegos-tp",appId:"1:853745751884:web:fa9f39f2fc81b80ba121e9",databaseURL:"https://saladejuegos-tp-default-rtdb.firebaseio.com",storageBucket:"saladejuegos-tp.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyBYYJNfesjB-gp0jEYkmifbpLIJxmDEprU",authDomain:"saladejuegos-tp.firebaseapp.com",messagingSenderId:"853745751884",measurementId:"G-FN6QBP4KSB"};var Gt=j(7566),_l=j(520);let Ta=(()=>{class D{}return D.\u0275fac=function(x){return new(x||D)},D.\u0275mod=O.oAB({type:D,bootstrap:[jr]}),D.\u0275inj=O.cJS({providers:[],imports:[[ur,to,mr.u5,Da.hO.initializeApp(li_firebaseConfig),Gt.yb,_l.JF,mr.UX]]}),D})();(0,O.G48)(),cr().bootstrapModule(Ta).catch(D=>console.error(D))},5867:(kt,Ue,j)=>{j.d(Ue,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=j(9681);(0,p.registerVersion)("firebase","9.6.11","app")},127:(kt,Ue,j)=>{j.d(Ue,{Z:()=>p.Z});var p=j(3942);p.Z.registerVersion("firebase","9.6.11","app-compat")},820:(kt,Ue,j)=>{j.r(Ue);var p=j(5861),O=j(3942),Q=j(2090),De=j(9681),pe=j(655),he=j(1877),be=j(4859);const et=function ut(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ft=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nt=new he.Yd("@firebase/auth");function yt(g,...c){Nt.logLevel<=he.in.ERROR&&Nt.error(`Auth (${De.SDK_VERSION}): ${g}`,...c)}function se(g,...c){throw ze(g,...c)}function He(g,...c){return ze(g,...c)}function Xe(g,c,f){const v=Object.assign(Object.assign({},ft()),{[c]:f});return new Q.LL("auth","Firebase",v).create(c,{appName:g.name})}function $e(g,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&se(g,"argument-error"),Xe(g,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(g,...c){if("string"!=typeof g){const f=c[0],v=[...c.slice(1)];return v[0]&&(v[0].appName=g.name),g._errorFactory.create(f,...v)}return ke.create(g,...c)}function Se(g,c,...f){if(!g)throw ze(c,...f)}function Ee(g){const c="INTERNAL ASSERTION FAILED: "+g;throw yt(c),new Error(c)}function le(g,c){g||Ee(c)}const Ve=new Map;function we(g){le(g instanceof Function,"Expected a class definition");let c=Ve.get(g);return c?(le(c instanceof g,"Instance stored in cache mismatched with class"),c):(c=new g,Ve.set(g,c),c)}function Jt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function zt(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class sn{constructor(c,f){this.shortDelay=c,this.longDelay=f,le(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function wt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zt()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vt(g,c){le(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class wn{static initialize(c,f,v){this.fetchImpl=c,f&&(this.headersImpl=f),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fn=new sn(3e4,6e4);function an(g,c){return g.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:g.tenantId}):c}function vn(g,c,f,v){return qn.apply(this,arguments)}function qn(){return(qn=(0,p.Z)(function*(g,c,f,v,U={}){return Qn(g,U,(0,p.Z)(function*(){let J={},Te={};v&&("GET"===c?Te=v:J={body:JSON.stringify(v)});const Je=(0,Q.xO)(Object.assign({key:g.config.apiKey},Te)).slice(1),Ft=yield g._getAdditionalHeaders();return Ft["Content-Type"]="application/json",g.languageCode&&(Ft["X-Firebase-Locale"]=g.languageCode),wn.fetch()(tr(g,g.config.apiHost,f,Je),Object.assign({method:c,headers:Ft,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function Qn(g,c,f){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,p.Z)(function*(g,c,f){g._canInitEmulator=!1;const v=Object.assign(Object.assign({},$t),c);try{const U=new ur(g),J=yield Promise.race([f(),U.promise]);U.clearNetworkTimeout();const Te=yield J.json();if("needConfirmation"in Te)throw Jn(g,"account-exists-with-different-credential",Te);if(J.ok&&!("errorMessage"in Te))return Te;{const Je=J.ok?Te.errorMessage:Te.error.message,[Ft,en]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw Jn(g,"credential-already-in-use",Te);if("EMAIL_EXISTS"===Ft)throw Jn(g,"email-already-in-use",Te);const Tn=v[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-");if(en)throw Xe(g,Tn,en);se(g,Tn)}}catch(U){if(U instanceof Q.ZR)throw U;se(g,"network-request-failed")}})).apply(this,arguments)}function er(g,c,f,v){return cr.apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(g,c,f,v,U={}){const J=yield vn(g,c,f,v,U);return"mfaPendingCredential"in J&&se(g,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function tr(g,c,f,v){const U=`${c}${f}?${v}`;return g.config.emulator?Vt(g.config,U):`${g.config.apiScheme}://${U}`}class ur{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,v)=>{this.timer=setTimeout(()=>v(He(this.auth,"network-request-failed")),fn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(g,c,f){const v={appName:g.name};f.email&&(v.email=f.email),f.phoneNumber&&(v.phoneNumber=f.phoneNumber);const U=He(g,c,v);return U.customData._tokenResponse=f,U}function un(){return(un=(0,p.Z)(function*(g,c){return vn(g,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function kn(g,c){return pn.apply(this,arguments)}function pn(){return(pn=(0,p.Z)(function*(g,c){return vn(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ur(g,c){return Li.apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(g,c){return vn(g,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Qe(g){if(g)try{const c=new Date(Number(g));if(!isNaN(c.getTime()))return c.toUTCString()}catch(c){}}function ct(){return(ct=(0,p.Z)(function*(g,c=!1){const f=(0,Q.m9)(g),v=yield f.getIdToken(c),U=st(v);Se(U&&U.exp&&U.auth_time&&U.iat,f.auth,"internal-error");const J="object"==typeof U.firebase?U.firebase:void 0,Te=null==J?void 0:J.sign_in_provider;return{claims:U,token:v,authTime:Qe(xe(U.auth_time)),issuedAtTime:Qe(xe(U.iat)),expirationTime:Qe(xe(U.exp)),signInProvider:Te||null,signInSecondFactor:(null==J?void 0:J.sign_in_second_factor)||null}})).apply(this,arguments)}function xe(g){return 1e3*Number(g)}function st(g){const[c,f,v]=g.split(".");if(void 0===c||void 0===f||void 0===v)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,Q.tV)(f);return U?JSON.parse(U):(yt("Failed to decode base64 JWT payload"),null)}catch(U){return yt("Caught error parsing JWT payload as JSON",U),null}}function In(g,c){return mn.apply(this,arguments)}function mn(){return(mn=(0,p.Z)(function*(g,c,f=!1){if(f)return c;try{return yield c}catch(v){throw v instanceof Q.ZR&&on(v)&&g.auth.currentUser===g&&(yield g.auth.signOut()),v}})).apply(this,arguments)}function on({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class Yr{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const U=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const v=this.getInterval(c);this.timerId=setTimeout((0,p.Z)(function*(){yield f.iteration()}),v)}iteration(){var c=this;return(0,p.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&c.schedule(!0))}c.schedule()})()}}class lr{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qe(this.lastLoginAt),this.creationTime=Qe(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(g){return It.apply(this,arguments)}function It(){return(It=(0,p.Z)(function*(g){var c;const f=g.auth,v=yield g.getIdToken(),U=yield In(g,Ur(f,{idToken:v}));Se(null==U?void 0:U.users.length,f,"internal-error");const J=U.users[0];g._notifyReloadListener(J);const Te=(null===(c=J.providerUserInfo)||void 0===c?void 0:c.length)?Ge(J.providerUserInfo):[],Je=Lt(g.providerData,Te),Tn=!!g.isAnonymous&&!(g.email&&J.passwordHash||(null==Je?void 0:Je.length)),Wt={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:Je,metadata:new lr(J.createdAt,J.lastLoginAt),isAnonymous:Tn};Object.assign(g,Wt)})).apply(this,arguments)}function yn(){return(yn=(0,p.Z)(function*(g){const c=(0,Q.m9)(g);yield Un(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Lt(g,c){return[...g.filter(v=>!c.some(U=>U.providerId===v.providerId)),...c]}function Ge(g){return g.map(c=>{var{providerId:f}=c,v=(0,pe._T)(c,["providerId"]);return{providerId:f,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Zt(){return(Zt=(0,p.Z)(function*(g,c){const f=yield Qn(g,{},(0,p.Z)(function*(){const v=(0,Q.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:U,apiKey:J}=g.config,Te=tr(g,U,"/v1/token",`key=${J}`),Je=yield g._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",wn.fetch()(Te,{method:"POST",headers:Je,body:v})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Cn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Se(c.idToken,"internal-error"),Se(void 0!==c.idToken,"internal-error"),Se(void 0!==c.refreshToken,"internal-error");const f="expiresIn"in c&&void 0!==c.expiresIn?Number(c.expiresIn):function bt(g){const c=st(g);return Se(c,"internal-error"),Se(void 0!==c.exp,"internal-error"),Se(void 0!==c.iat,"internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var v=this;return(0,p.Z)(function*(){return Se(!v.accessToken||v.refreshToken,c,"user-token-expired"),f||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(c,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var v=this;return(0,p.Z)(function*(){const{accessToken:U,refreshToken:J,expiresIn:Te}=yield function Tt(g,c){return Zt.apply(this,arguments)}(c,f);v.updateTokensAndExpiration(U,J,Number(Te))})()}updateTokensAndExpiration(c,f,v){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(c,f){const{refreshToken:v,accessToken:U,expirationTime:J}=f,Te=new Cn;return v&&(Se("string"==typeof v,"internal-error",{appName:c}),Te.refreshToken=v),U&&(Se("string"==typeof U,"internal-error",{appName:c}),Te.accessToken=U),J&&(Se("number"==typeof J,"internal-error",{appName:c}),Te.expirationTime=J),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Cn,this.toJSON())}_performRefresh(){return Ee("not implemented")}}function Kt(g,c){Se("string"==typeof g||void 0===g,"internal-error",{appName:c})}class ue{constructor(c){var{uid:f,auth:v,stsTokenManager:U}=c,J=(0,pe._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=v,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new lr(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,p.Z)(function*(){const v=yield In(f,f.stsTokenManager.getToken(f.auth,c));return Se(v,f.auth,"internal-error"),f.accessToken!==v&&(f.accessToken=v,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),v})()}getIdTokenResult(c){return function _e(g){return ct.apply(this,arguments)}(this,c)}reload(){return function Rn(g){return yn.apply(this,arguments)}(this)}_assign(c){this!==c&&(Se(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new ue(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var v=this;return(0,p.Z)(function*(){let U=!1;c.idToken&&c.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(c),U=!0),f&&(yield Un(v)),yield v.auth._persistUserIfCurrent(v),U&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var c=this;return(0,p.Z)(function*(){const f=yield c.getIdToken();return yield In(c,function Ht(g,c){return un.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var v,U,J,Te,Je,Ft,en,Tn;const Wt=null!==(v=f.displayName)&&void 0!==v?v:void 0,Ci=null!==(U=f.email)&&void 0!==U?U:void 0,Oo=null!==(J=f.phoneNumber)&&void 0!==J?J:void 0,go=null!==(Te=f.photoURL)&&void 0!==Te?Te:void 0,jl=null!==(Je=f.tenantId)&&void 0!==Je?Je:void 0,Qa=null!==(Ft=f._redirectEventId)&&void 0!==Ft?Ft:void 0,bc=null!==(en=f.createdAt)&&void 0!==en?en:void 0,kf=null!==(Tn=f.lastLoginAt)&&void 0!==Tn?Tn:void 0,{uid:Ja,emailVerified:Ic,isAnonymous:ld,providerData:cd,stsTokenManager:Cc}=f;Se(Ja&&Cc,c,"internal-error");const Ff=Cn.fromJSON(this.name,Cc);Se("string"==typeof Ja,c,"internal-error"),Kt(Wt,c.name),Kt(Ci,c.name),Se("boolean"==typeof Ic,c,"internal-error"),Se("boolean"==typeof ld,c,"internal-error"),Kt(Oo,c.name),Kt(go,c.name),Kt(jl,c.name),Kt(Qa,c.name),Kt(bc,c.name),Kt(kf,c.name);const dd=new ue({uid:Ja,auth:c,email:Ci,emailVerified:Ic,displayName:Wt,isAnonymous:ld,photoURL:go,phoneNumber:Oo,tenantId:jl,stsTokenManager:Ff,createdAt:bc,lastLoginAt:kf});return cd&&Array.isArray(cd)&&(dd.providerData=cd.map(Lf=>Object.assign({},Lf))),Qa&&(dd._redirectEventId=Qa),dd}static _fromIdTokenResponse(c,f,v=!1){return(0,p.Z)(function*(){const U=new Cn;U.updateFromServerResponse(f);const J=new ue({uid:f.localId,auth:c,stsTokenManager:U,isAnonymous:v});return yield Un(J),J})()}}const me=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(f,v){var U=this;return(0,p.Z)(function*(){U.storage[f]=v})()}_get(f){var v=this;return(0,p.Z)(function*(){const U=v.storage[f];return void 0===U?null:U})()}_remove(f){var v=this;return(0,p.Z)(function*(){delete v.storage[f]})()}_addListener(f,v){}_removeListener(f,v){}}return g.type="NONE",g})();function qe(g,c,f){return`firebase:${g}:${c}:${f}`}class Oe{constructor(c,f,v){this.persistence=c,this.auth=f,this.userKey=v;const{config:U,name:J}=this.auth;this.fullUserKey=qe(this.userKey,U.apiKey,J),this.fullPersistenceKey=qe("persistence",U.apiKey,J),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,p.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?ue._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,p.Z)(function*(){if(f.persistence===c)return;const v=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,v?f.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,v="authUser"){return(0,p.Z)(function*(){if(!f.length)return new Oe(we(me),c,v);const U=(yield Promise.all(f.map(function(){var en=(0,p.Z)(function*(Tn){if(yield Tn._isAvailable())return Tn});return function(Tn){return en.apply(this,arguments)}}()))).filter(en=>en);let J=U[0]||we(me);const Te=qe(v,c.config.apiKey,c.name);let Je=null;for(const en of f)try{const Tn=yield en._get(Te);if(Tn){const Wt=ue._fromJSON(c,Tn);en!==J&&(Je=Wt),J=en;break}}catch(Tn){}const Ft=U.filter(en=>en._shouldAllowMigration);return J._shouldAllowMigration&&Ft.length?(J=Ft[0],Je&&(yield J._set(Te,Je.toJSON())),yield Promise.all(f.map(function(){var en=(0,p.Z)(function*(Tn){if(Tn!==J)try{yield Tn._remove(Te)}catch(Wt){}});return function(Tn){return en.apply(this,arguments)}}())),new Oe(J,c,v)):new Oe(J,c,v)})()}}function Ct(g){const c=g.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Dn(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(qt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(ln(c))return"Blackberry";if(or(c))return"Webos";if(dn(c))return"Safari";if((c.includes("chrome/")||Xt(c))&&!c.includes("edge/"))return"Chrome";if(gr(c))return"Android";{const v=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function qt(g=(0,Q.z$)()){return/firefox\//i.test(g)}function dn(g=(0,Q.z$)()){const c=g.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Xt(g=(0,Q.z$)()){return/crios\//i.test(g)}function Dn(g=(0,Q.z$)()){return/iemobile/i.test(g)}function gr(g=(0,Q.z$)()){return/android/i.test(g)}function ln(g=(0,Q.z$)()){return/blackberry/i.test(g)}function or(g=(0,Q.z$)()){return/webos/i.test(g)}function jr(g=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(g)}function Rr(g=(0,Q.z$)()){return jr(g)||gr(g)||or(g)||ln(g)||/windows phone/i.test(g)||Dn(g)}function Vi(g,c=[]){let f;switch(g){case"Browser":f=Ct((0,Q.z$)());break;case"Worker":f=`${Ct((0,Q.z$)())}-${g}`;break;default:f=g}const v=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${De.SDK_VERSION}/${v}`}class Nr{constructor(c,f,v){this.app=c,this.heartbeatServiceProvider=f,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bt(this),this.idTokenSubscription=new Bt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(c,f){var v=this;return f&&(this._popupRedirectResolver=we(f)),this._initializationPromise=this.queue((0,p.Z)(function*(){var U,J;if(!v._deleted&&(v.persistenceManager=yield Oe.create(v,c),!v._deleted)){if(null===(U=v._popupRedirectResolver)||void 0===U?void 0:U._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(Te){}yield v.initializeCurrentUser(f),v.lastNotifiedUid=(null===(J=v.currentUser)||void 0===J?void 0:J.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,p.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f)}})()}initializeCurrentUser(c){var f=this;return(0,p.Z)(function*(){var v;let U=yield f.assertedPersistence.getCurrentUser();if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const J=null===(v=f.redirectUser)||void 0===v?void 0:v._redirectEventId,Te=null==U?void 0:U._redirectEventId,Je=yield f.tryRedirectSignIn(c);(!J||J===Te)&&(null==Je?void 0:Je.user)&&(U=Je.user)}return U?U._redirectEventId?(Se(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===U._redirectEventId?f.directlySetCurrentUser(U):f.reloadAndSetCurrentUserOrClear(U)):f.reloadAndSetCurrentUserOrClear(U):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(c){var f=this;return(0,p.Z)(function*(){let v=null;try{v=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch(U){yield f._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,p.Z)(function*(){try{yield Un(c)}catch(v){if("auth/network-request-failed"!==v.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function At(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var c=this;return(0,p.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,p.Z)(function*(){const v=c?(0,Q.m9)(c):null;return v&&Se(v.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(v&&v._clone(f))})()}_updateCurrentUser(c){var f=this;return(0,p.Z)(function*(){if(!f._deleted)return c&&Se(f.tenantId===c.tenantId,f,"tenant-id-mismatch"),f.queue((0,p.Z)(function*(){yield f.directlySetCurrentUser(c),f.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,p.Z)(function*(){return(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null)})()}setPersistence(c){var f=this;return this.queue((0,p.Z)(function*(){yield f.assertedPersistence.setPersistence(we(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new Q.LL("auth","Firebase",c())}onAuthStateChanged(c,f,v){return this.registerStateListener(this.authStateSubscription,c,f,v)}onIdTokenChanged(c,f,v){return this.registerStateListener(this.idTokenSubscription,c,f,v)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var v=this;return(0,p.Z)(function*(){const U=yield v.getOrInitRedirectPersistenceManager(f);return null===c?U.removeCurrentUser():U.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,p.Z)(function*(){if(!f.redirectPersistenceManager){const v=c&&we(c)||f._popupRedirectResolver;Se(v,f,"argument-error"),f.redirectPersistenceManager=yield Oe.create(f,[we(v._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,p.Z)(function*(){var v,U;return f._isInitialized&&(yield f.queue((0,p.Z)(function*(){}))),(null===(v=f._currentUser)||void 0===v?void 0:v._redirectEventId)===c?f._currentUser:(null===(U=f.redirectUser)||void 0===U?void 0:U._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,p.Z)(function*(){if(c===f.currentUser)return f.queue((0,p.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,v,U){if(this._deleted)return()=>{};const J="function"==typeof f?f:f.next.bind(f),Te=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(Te,this,"internal-error"),Te.then(()=>J(this.currentUser)),"function"==typeof f?c.addObserver(f,v,U):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,p.Z)(function*(){f.currentUser&&f.currentUser!==c&&(f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh()),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,p.Z)(function*(){var f;const v={"X-Client-Version":c.clientVersion};c.app.options.appId&&(v["X-Firebase-gmpid"]=c.app.options.appId);const U=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return U&&(v["X-Firebase-Client"]=U),v})()}}function dt(g){return(0,Q.m9)(g)}class Bt{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,Q.ne)(f=>this.observer=f)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hr(g){const c=g.indexOf(":");return c<0?"":g.substr(0,c+1)}function Or(g){if(!g)return null;const c=Number(g);return isNaN(c)?null:c}class Bn{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return Ee("not implemented")}_getIdTokenResponse(c){return Ee("not implemented")}_linkToIdToken(c,f){return Ee("not implemented")}_getReauthenticationResolver(c){return Ee("not implemented")}}function yr(g,c){return yi.apply(this,arguments)}function yi(){return(yi=(0,p.Z)(function*(g,c){return vn(g,"POST","/v1/accounts:resetPassword",an(g,c))})).apply(this,arguments)}function En(g,c){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,p.Z)(function*(g,c){return vn(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ui(g,c){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,p.Z)(function*(g,c){return vn(g,"POST","/v1/accounts:update",an(g,c))})).apply(this,arguments)}function kr(){return(kr=(0,p.Z)(function*(g,c){return er(g,"POST","/v1/accounts:signInWithPassword",an(g,c))})).apply(this,arguments)}function Tr(g,c){return $r.apply(this,arguments)}function $r(){return($r=(0,p.Z)(function*(g,c){return vn(g,"POST","/v1/accounts:sendOobCode",an(g,c))})).apply(this,arguments)}function Ie(g,c){return de.apply(this,arguments)}function de(){return(de=(0,p.Z)(function*(g,c){return Tr(g,c)})).apply(this,arguments)}function Le(g,c){return nt.apply(this,arguments)}function nt(){return(nt=(0,p.Z)(function*(g,c){return Tr(g,c)})).apply(this,arguments)}function pt(g,c){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,p.Z)(function*(g,c){return Tr(g,c)})).apply(this,arguments)}function Xn(g,c){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(g,c){return Tr(g,c)})).apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(g,c){return er(g,"POST","/v1/accounts:signInWithEmailLink",an(g,c))})).apply(this,arguments)}function Si(){return(Si=(0,p.Z)(function*(g,c){return er(g,"POST","/v1/accounts:signInWithEmailLink",an(g,c))})).apply(this,arguments)}class oo extends Bn{constructor(c,f,v,U=null){super("password",v),this._email=c,this._password=f,this._tenantId=U}static _fromEmailAndPassword(c,f){return new oo(c,f,"password")}static _fromEmailAndCode(c,f,v=null){return new oo(c,f,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,p.Z)(function*(){switch(f.signInMethod){case"password":return function _i(g,c){return kr.apply(this,arguments)}(c,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Nn(g,c){return jn.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:se(c,"internal-error")}})()}_linkToIdToken(c,f){var v=this;return(0,p.Z)(function*(){switch(v.signInMethod){case"password":return En(c,{idToken:f,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Bi(g,c){return Si.apply(this,arguments)}(c,{idToken:f,email:v._email,oobCode:v._password});default:se(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function nr(g,c){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(g,c){return er(g,"POST","/v1/accounts:signInWithIdp",an(g,c))})).apply(this,arguments)}class vi extends Bn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new vi(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):se("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:v,signInMethod:U}=f,J=(0,pe._T)(f,["providerId","signInMethod"]);if(!v||!U)return null;const Te=new vi(v,U);return Te.idToken=J.idToken||void 0,Te.accessToken=J.accessToken||void 0,Te.secret=J.secret,Te.nonce=J.nonce,Te.pendingToken=J.pendingToken||null,Te}_getIdTokenResponse(c){return nr(c,this.buildRequest())}_linkToIdToken(c,f){const v=this.buildRequest();return v.idToken=f,nr(c,v)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,nr(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,Q.xO)(f)}return c}}function ss(g,c){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,p.Z)(function*(g,c){return vn(g,"POST","/v1/accounts:sendVerificationCode",an(g,c))})).apply(this,arguments)}function Gr(){return(Gr=(0,p.Z)(function*(g,c){return er(g,"POST","/v1/accounts:signInWithPhoneNumber",an(g,c))})).apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(g,c){const f=yield er(g,"POST","/v1/accounts:signInWithPhoneNumber",an(g,c));if(f.temporaryProof)throw Jn(g,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const wo={USER_NOT_FOUND:"user-not-found"};function Ys(){return(Ys=(0,p.Z)(function*(g,c){return er(g,"POST","/v1/accounts:signInWithPhoneNumber",an(g,Object.assign(Object.assign({},c),{operation:"REAUTH"})),wo)})).apply(this,arguments)}class As extends Bn{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new As({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new As({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function Br(g,c){return Gr.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function Ls(g,c){return hi.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Ts(g,c){return Ys.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:v,verificationCode:U}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:v,code:U}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:v,phoneNumber:U,temporaryProof:J}=c;return v||f||U||J?new As({verificationId:f,verificationCode:v,phoneNumber:U,temporaryProof:J}):null}}class Mi{constructor(c){var f,v,U,J,Te,Je;const Ft=(0,Q.zd)((0,Q.pd)(c)),en=null!==(f=Ft.apiKey)&&void 0!==f?f:null,Tn=null!==(v=Ft.oobCode)&&void 0!==v?v:null,Wt=function Qs(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=Ft.mode)&&void 0!==U?U:null);Se(en&&Tn&&Wt,"argument-error"),this.apiKey=en,this.operation=Wt,this.code=Tn,this.continueUrl=null!==(J=Ft.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Te=Ft.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(Je=Ft.tenantId)&&void 0!==Je?Je:null}static parseLink(c){const f=function os(g){const c=(0,Q.zd)((0,Q.pd)(g)).link,f=c?(0,Q.zd)((0,Q.pd)(c)).deep_link_id:null,v=(0,Q.zd)((0,Q.pd)(g)).deep_link_id;return(v?(0,Q.zd)((0,Q.pd)(v)).link:null)||v||f||c||g}(c);try{return new Mi(f)}catch(v){return null}}}let hs=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(f,v){return oo._fromEmailAndPassword(f,v)}static credentialWithLink(f,v){const U=Mi.parseLink(v);return Se(U,"argument-error"),oo._fromEmailAndCode(f,U.code,U.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Ei{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Qr extends Ei{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Jr extends Qr{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return Se("providerId"in f&&"signInMethod"in f,"argument-error"),vi._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return Se(c.idToken||c.accessToken,"argument-error"),vi._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Jr.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Jr.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:v,oauthTokenSecret:U,pendingToken:J,nonce:Te,providerId:Je}=c;if(!v&&!U&&!f&&!J||!Je)return null;try{return new Jr(Je)._credential({idToken:f,accessToken:v,nonce:Te,pendingToken:J})}catch(Ft){return null}}}let ji=(()=>{class g extends Qr{constructor(){super("facebook.com")}static credential(f){return vi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch(v){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Hi=(()=>{class g extends Qr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,v){return vi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:v})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:v,oauthAccessToken:U}=f;if(!v&&!U)return null;try{return g.credential(v,U)}catch(J){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Ss=(()=>{class g extends Qr{constructor(){super("github.com")}static credential(f){return vi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch(v){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class fs extends Bn{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return nr(c,this.buildRequest())}_linkToIdToken(c,f){const v=this.buildRequest();return v.idToken=f,nr(c,v)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,nr(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:v,signInMethod:U,pendingToken:J}=f;return v&&U&&J&&v===U?new fs(v,J):null}static _create(c,f){return new fs(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xi extends Ei{constructor(c){Se(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return xi.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return xi.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=fs.fromJSON(c);return Se(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:v}=c;if(!f||!v)return null;try{return fs._create(v,f)}catch(U){return null}}}let ps=(()=>{class g extends Qr{constructor(){super("twitter.com")}static credential(f,v){return vi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:v})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:v,oauthTokenSecret:U}=f;if(!v||!U)return null;try{return g.credential(v,U)}catch(J){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Vs(g,c){return Er.apply(this,arguments)}function Er(){return(Er=(0,p.Z)(function*(g,c){return er(g,"POST","/v1/accounts:signUp",an(g,c))})).apply(this,arguments)}class wr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,v,U=!1){return(0,p.Z)(function*(){const J=yield ue._fromIdTokenResponse(c,v,U),Te=wi(v);return new wr({user:J,providerId:Te,_tokenResponse:v,operationType:f})})()}static _forOperation(c,f,v){return(0,p.Z)(function*(){yield c._updateTokensIfNecessary(v,!0);const U=wi(v);return new wr({user:c,providerId:U,_tokenResponse:v,operationType:f})})()}}function wi(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function gs(){return(gs=(0,p.Z)(function*(g){var c;const f=dt(g);if(yield f._initializationPromise,null===(c=f.currentUser)||void 0===c?void 0:c.isAnonymous)return new wr({user:f.currentUser,providerId:null,operationType:"signIn"});const v=yield Vs(f,{returnSecureToken:!0}),U=yield wr._fromIdTokenResponse(f,"signIn",v,!0);return yield f._updateCurrentUser(U.user),U})).apply(this,arguments)}class ms extends Q.ZR{constructor(c,f,v,U){var J;super(f.code,f.message),this.operationType=v,this.user=U,Object.setPrototypeOf(this,ms.prototype),this.customData={appName:c.name,tenantId:null!==(J=c.tenantId)&&void 0!==J?J:void 0,_serverResponse:f.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(c,f,v,U){return new ms(c,f,v,U)}}function br(g,c,f,v){return("reauthenticate"===c?f._getReauthenticationResolver(g):f._getIdTokenResponse(g)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?ms._fromErrorAndOperation(g,J,c,v):J})}function Fr(g){return new Set(g.map(({providerId:c})=>c).filter(c=>!!c))}function us(){return(us=(0,p.Z)(function*(g,c){const f=(0,Q.m9)(g);yield W(!0,f,c);const{providerUserInfo:v}=yield kn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),U=Fr(v||[]);return f.providerData=f.providerData.filter(J=>U.has(J.providerId)),U.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function _r(g,c){return N.apply(this,arguments)}function N(){return(N=(0,p.Z)(function*(g,c,f=!1){const v=yield In(g,c._linkToIdToken(g.auth,yield g.getIdToken()),f);return wr._forOperation(g,"link",v)})).apply(this,arguments)}function W(g,c,f){return P.apply(this,arguments)}function P(){return(P=(0,p.Z)(function*(g,c,f){yield Un(c);const U=!1===g?"provider-already-linked":"no-such-provider";Se(Fr(c.providerData).has(f)===g,c.auth,U)})).apply(this,arguments)}function Y(g,c){return ce.apply(this,arguments)}function ce(){return(ce=(0,p.Z)(function*(g,c,f=!1){const{auth:v}=g,U="reauthenticate";try{const J=yield In(g,br(v,U,c,g),f);Se(J.idToken,v,"internal-error");const Te=st(J.idToken);Se(Te,v,"internal-error");const{sub:Je}=Te;return Se(g.uid===Je,v,"user-mismatch"),wr._forOperation(g,U,J)}catch(J){throw"auth/user-not-found"===(null==J?void 0:J.code)&&se(v,"user-mismatch"),J}})).apply(this,arguments)}function Ze(g,c){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,p.Z)(function*(g,c,f=!1){const v="signIn",U=yield br(g,v,c),J=yield wr._fromIdTokenResponse(g,v,U);return f||(yield g._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Dt(g,c){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(g,c){return Ze(dt(g),c)})).apply(this,arguments)}function An(g,c){return hn.apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(g,c){const f=(0,Q.m9)(g);return yield W(!1,f,c.providerId),_r(f,c)})).apply(this,arguments)}function Sn(g,c){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(g,c){return Y((0,Q.m9)(g),c)})).apply(this,arguments)}function Kn(g,c){return rr.apply(this,arguments)}function rr(){return(rr=(0,p.Z)(function*(g,c){return er(g,"POST","/v1/accounts:signInWithCustomToken",an(g,c))})).apply(this,arguments)}function ai(){return(ai=(0,p.Z)(function*(g,c){const f=dt(g),v=yield Kn(f,{token:c,returnSecureToken:!0}),U=yield wr._fromIdTokenResponse(f,"signIn",v);return yield f._updateCurrentUser(U.user),U})).apply(this,arguments)}class tn{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?Pi._fromServerResponse(c,f):se(c,"internal-error")}}class Pi extends tn{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new Pi(f)}}function Ni(g,c,f){var v;Se((null===(v=f.url)||void 0===v?void 0:v.length)>0,g,"invalid-continue-uri"),Se(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Se(f.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(Se(f.android.packageName.length>0,g,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function Xs(){return(Xs=(0,p.Z)(function*(g,c,f){const v=(0,Q.m9)(g),U={requestType:"PASSWORD_RESET",email:c};f&&Ni(v,U,f),yield Le(v,U)})).apply(this,arguments)}function R(){return(R=(0,p.Z)(function*(g,c,f){yield yr((0,Q.m9)(g),{oobCode:c,newPassword:f})})).apply(this,arguments)}function V(){return(V=(0,p.Z)(function*(g,c){yield Ui((0,Q.m9)(g),{oobCode:c})})).apply(this,arguments)}function Pe(g,c){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,p.Z)(function*(g,c){const f=(0,Q.m9)(g),v=yield yr(f,{oobCode:c}),U=v.requestType;switch(Se(U,f,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(v.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(v.mfaInfo,f,"internal-error");default:Se(v.email,f,"internal-error")}let J=null;return v.mfaInfo&&(J=tn._fromServerResponse(dt(f),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:J},operation:U}})).apply(this,arguments)}function ti(){return(ti=(0,p.Z)(function*(g,c){const{data:f}=yield Pe((0,Q.m9)(g),c);return f.email})).apply(this,arguments)}function ir(){return(ir=(0,p.Z)(function*(g,c,f){const v=dt(g),U=yield Vs(v,{returnSecureToken:!0,email:c,password:f}),J=yield wr._fromIdTokenResponse(v,"signIn",U);return yield v._updateCurrentUser(J.user),J})).apply(this,arguments)}function xs(){return(xs=(0,p.Z)(function*(g,c,f){const v=(0,Q.m9)(g),U={requestType:"EMAIL_SIGNIN",email:c};Se(f.handleCodeInApp,v,"argument-error"),f&&Ni(v,U,f),yield pt(v,U)})).apply(this,arguments)}function uo(){return(uo=(0,p.Z)(function*(g,c,f){const v=(0,Q.m9)(g),U=hs.credentialWithLink(c,f||Jt());return Se(U._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Dt(v,U)})).apply(this,arguments)}function Ir(g,c){return ki.apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(g,c){return vn(g,"POST","/v1/accounts:createAuthUri",an(g,c))})).apply(this,arguments)}function js(){return(js=(0,p.Z)(function*(g,c){const v={identifier:c,continueUri:zt()?Jt():"http://localhost"},{signinMethods:U}=yield Ir((0,Q.m9)(g),v);return U||[]})).apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(g,c){const f=(0,Q.m9)(g),U={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};c&&Ni(f.auth,U,c);const{email:J}=yield Ie(f.auth,U);J!==g.email&&(yield g.reload())})).apply(this,arguments)}function la(){return(la=(0,p.Z)(function*(g,c,f){const v=(0,Q.m9)(g),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:c};f&&Ni(v.auth,J,f);const{email:Te}=yield Xn(v.auth,J);Te!==g.email&&(yield g.reload())})).apply(this,arguments)}function qr(g,c){return Io.apply(this,arguments)}function Io(){return(Io=(0,p.Z)(function*(g,c){return vn(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ko(){return(Ko=(0,p.Z)(function*(g,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const v=(0,Q.m9)(g),J={idToken:yield v.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},Te=yield In(v,qr(v.auth,J));v.displayName=Te.displayName||null,v.photoURL=Te.photoUrl||null;const Je=v.providerData.find(({providerId:Ft})=>"password"===Ft);Je&&(Je.displayName=v.displayName,Je.photoURL=v.photoURL),yield v._updateTokensIfNecessary(Te)})).apply(this,arguments)}function co(g,c,f){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(g,c,f){const{auth:v}=g,J={idToken:yield g.getIdToken(),returnSecureToken:!0};c&&(J.email=c),f&&(J.password=f);const Te=yield In(g,En(v,J));yield g._updateTokensIfNecessary(Te,!0)})).apply(this,arguments)}class $s{constructor(c,f,v={}){this.isNewUser=c,this.providerId=f,this.profile=v}}class da extends $s{constructor(c,f,v,U){super(c,f,v),this.username=U}}class Rs extends $s{constructor(c,f){super(c,"facebook.com",f)}}class ho extends da{constructor(c,f){super(c,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class ja extends $s{constructor(c,f){super(c,"google.com",f)}}class Qo extends da{constructor(c,f,v){super(c,"twitter.com",f,v)}}function Zr(g){const{user:c,_tokenResponse:f}=g;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function ca(g){var c,f;if(!g)return null;const{providerId:v}=g,U=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},J=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!v&&(null==g?void 0:g.idToken)){const Te=null===(f=null===(c=st(g.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(Te)return new $s(J,"anonymous"!==Te&&"custom"!==Te?Te:null)}if(!v)return null;switch(v){case"facebook.com":return new Rs(J,U);case"github.com":return new ho(J,U);case"google.com":return new ja(J,U);case"twitter.com":return new Qo(J,U,g.screenName||null);case"custom":case"anonymous":return new $s(J,null);default:return new $s(J,v,U)}}(f)}class ts{constructor(c,f){this.type=c,this.credential=f}static _fromIdtoken(c){return new ts("enroll",c)}static _fromMfaPendingCredential(c){return new ts("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,v;if(null==c?void 0:c.multiFactorSession){if(null===(f=c.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return ts._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null===(v=c.multiFactorSession)||void 0===v?void 0:v.idToken)return ts._fromIdtoken(c.multiFactorSession.idToken)}return null}}class To{constructor(c,f,v){this.session=c,this.hints=f,this.signInResolver=v}static _fromError(c,f){const v=dt(c),U=f.customData._serverResponse,J=(U.mfaInfo||[]).map(Je=>tn._fromServerResponse(v,Je));Se(U.mfaPendingCredential,v,"internal-error");const Te=ts._fromMfaPendingCredential(U.mfaPendingCredential);return new To(Te,J,function(){var Je=(0,p.Z)(function*(Ft){const en=yield Ft._process(v,Te);delete U.mfaInfo,delete U.mfaPendingCredential;const Tn=Object.assign(Object.assign({},U),{idToken:en.idToken,refreshToken:en.refreshToken});switch(f.operationType){case"signIn":const Wt=yield wr._fromIdTokenResponse(v,f.operationType,Tn);return yield v._updateCurrentUser(Wt.user),Wt;case"reauthenticate":return Se(f.user,v,"internal-error"),wr._forOperation(f.user,f.operationType,Tn);default:se(v,"internal-error")}});return function(Ft){return Je.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,p.Z)(function*(){return f.signInResolver(c)})()}}function ni(g,c){return vn(g,"POST","/v2/accounts/mfaEnrollment:start",an(g,c))}class ns{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(v=>tn._fromServerResponse(c.auth,v)))})}static _fromUser(c){return new ns(c)}getSession(){var c=this;return(0,p.Z)(function*(){return ts._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,f){var v=this;return(0,p.Z)(function*(){const U=c,J=yield v.getSession(),Te=yield In(v.user,U._process(v.user.auth,J,f));return yield v.user._updateTokensIfNecessary(Te),v.user.reload()})()}unenroll(c){var f=this;return(0,p.Z)(function*(){const v="string"==typeof c?c:c.uid,U=yield f.user.getIdToken(),J=yield In(f.user,function au(g,c){return vn(g,"POST","/v2/accounts/mfaEnrollment:withdraw",an(g,c))}(f.user.auth,{idToken:U,mfaEnrollmentId:v}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Te})=>Te!==v),yield f.user._updateTokensIfNecessary(J);try{yield f.user.reload()}catch(Te){if("auth/user-token-expired"!==Te.code)throw Te}})()}}const Os=new WeakMap,$i="__sak";class fo{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem($i,"1"),this.storage.removeItem($i),Promise.resolve(!0)):Promise.resolve(!1)}catch(c){return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cr=(()=>{class g extends fo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,v)=>this.onStorageEvent(f,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ia(){const g=(0,Q.z$)();return dn(g)||jr(g)}()&&function Dr(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=Rr(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const v of Object.keys(this.listeners)){const U=this.storage.getItem(v),J=this.localCache[v];U!==J&&f(v,J,U)}}onStorageEvent(f,v=!1){if(!f.key)return void this.forAllChangedKeys((Je,Ft,en)=>{this.notifyListeners(Je,en)});const U=f.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(U);if(f.newValue!==Je)null!==f.newValue?this.storage.setItem(U,f.newValue):this.storage.removeItem(U);else if(this.localCache[U]===f.newValue&&!v)return}const J=()=>{const Je=this.storage.getItem(U);!v&&this.localCache[U]===Je||this.notifyListeners(U,Je)},Te=this.storage.getItem(U);!function Hr(){return(0,Q.w1)()&&10===document.documentMode}()||Te===f.newValue||f.newValue===f.oldValue?J():setTimeout(J,10)}notifyListeners(f,v){this.localCache[f]=v;const U=this.listeners[f];if(U)for(const J of Array.from(U))J(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,v,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:v,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,v){var U=()=>super._set,J=this;return(0,p.Z)(function*(){yield U().call(J,f,v),J.localCache[f]=JSON.stringify(v)})()}_get(f){var v=()=>super._get,U=this;return(0,p.Z)(function*(){const J=yield v().call(U,f);return U.localCache[f]=JSON.stringify(J),J})()}_remove(f){var v=()=>super._remove,U=this;return(0,p.Z)(function*(){yield v().call(U,f),delete U.localCache[f]})()}}return g.type="LOCAL",g})(),vs=(()=>{class g extends fo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,v){}_removeListener(f,v){}}return g.type="SESSION",g})();let Fo=(()=>{class g{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const v=this.receivers.find(J=>J.isListeningto(f));if(v)return v;const U=new g(f);return this.receivers.push(U),U}isListeningto(f){return this.eventTarget===f}handleEvent(f){var v=this;return(0,p.Z)(function*(){const U=f,{eventId:J,eventType:Te,data:Je}=U.data,Ft=v.handlersMap[Te];if(!(null==Ft?void 0:Ft.size))return;U.ports[0].postMessage({status:"ack",eventId:J,eventType:Te});const en=Array.from(Ft).map(function(){var Wt=(0,p.Z)(function*(Ci){return Ci(U.origin,Je)});return function(Ci){return Wt.apply(this,arguments)}}()),Tn=yield function Gi(g){return Promise.all(g.map(function(){var c=(0,p.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(v){return{fulfilled:!1,reason:v}}});return function(f){return c.apply(this,arguments)}}()))}(en);U.ports[0].postMessage({status:"done",eventId:J,eventType:Te,response:Tn})})()}_subscribe(f,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(v)}_unsubscribe(f,v){this.handlersMap[f]&&v&&this.handlersMap[f].delete(v),(!v||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function Xo(g="",c=10){let f="";for(let v=0;v<c;v++)f+=Math.floor(10*Math.random());return g+f}class Lo{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,v=50){var U=this;return(0,p.Z)(function*(){const J="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Te,Je;return new Promise((Ft,en)=>{const Tn=Xo("",20);J.port1.start();const Wt=setTimeout(()=>{en(new Error("unsupported_event"))},v);Je={messageChannel:J,onMessage(Ci){const Oo=Ci;if(Oo.data.eventId===Tn)switch(Oo.data.status){case"ack":clearTimeout(Wt),Te=setTimeout(()=>{en(new Error("timeout"))},3e3);break;case"done":clearTimeout(Te),Ft(Oo.data.response);break;default:clearTimeout(Wt),clearTimeout(Te),en(new Error("invalid_response"))}}},U.handlers.add(Je),J.port1.addEventListener("message",Je.onMessage),U.target.postMessage({eventType:c,eventId:Tn,data:f},[J.port2])}).finally(()=>{Je&&U.removeMessageHandler(Je)})})()}}function Pr(){return window}function Gs(){return void 0!==Pr().WorkerGlobalScope&&"function"==typeof Pr().importScripts}function Es(){return(Es=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const fi="firebaseLocalStorageDb",ws="firebaseLocalStorage",So="fbase_key";class eo{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function vt(g,c){return g.transaction([ws],c?"readwrite":"readonly").objectStore(ws)}function b(){const g=indexedDB.open(fi,1);return new Promise((c,f)=>{g.addEventListener("error",()=>{f(g.error)}),g.addEventListener("upgradeneeded",()=>{const v=g.result;try{v.createObjectStore(ws,{keyPath:So})}catch(U){f(U)}}),g.addEventListener("success",(0,p.Z)(function*(){const v=g.result;v.objectStoreNames.contains(ws)?c(v):(v.close(),yield function vr(){const g=indexedDB.deleteDatabase(fi);return new eo(g).toPromise()}(),c(yield b()))}))})}function E(g,c,f){return y.apply(this,arguments)}function y(){return(y=(0,p.Z)(function*(g,c,f){const v=vt(g,!0).put({[So]:c,value:f});return new eo(v).toPromise()})).apply(this,arguments)}function L(){return(L=(0,p.Z)(function*(g,c){const f=vt(g,!1).get(c),v=yield new eo(f).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function $(g,c){const f=vt(g,!0).delete(c);return new eo(f).toPromise()}const Ot=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,p.Z)(function*(){return f.db||(f.db=yield b()),f.db})()}_withRetries(f){var v=this;return(0,p.Z)(function*(){let U=0;for(;;)try{const J=yield v._openDb();return yield f(J)}catch(J){if(U++>3)throw J;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,p.Z)(function*(){return Gs()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,p.Z)(function*(){f.receiver=Fo._getInstance(function Ga(){return Gs()?self:null}()),f.receiver._subscribe("keyChanged",function(){var v=(0,p.Z)(function*(U,J){return{keyProcessed:(yield f._poll()).includes(J.key)}});return function(U,J){return v.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var v=(0,p.Z)(function*(U,J){return["keyChanged"]});return function(U,J){return v.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,p.Z)(function*(){var v,U;if(f.activeServiceWorker=yield function Ca(){return Es.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Lo(f.activeServiceWorker);const J=yield f.sender._send("ping",{},800);!J||(null===(v=J[0])||void 0===v?void 0:v.fulfilled)&&(null===(U=J[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var v=this;return(0,p.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function ml(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:f},v.serviceWorkerReceiverAvailable?800:50)}catch(U){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const f=yield b();return yield E(f,$i,"1"),yield $(f,$i),!0}catch(f){}return!1})()}_withPendingWrite(f){var v=this;return(0,p.Z)(function*(){v.pendingWrites++;try{yield f()}finally{v.pendingWrites--}})()}_set(f,v){var U=this;return(0,p.Z)(function*(){return U._withPendingWrite((0,p.Z)(function*(){return yield U._withRetries(J=>E(J,f,v)),U.localCache[f]=v,U.notifyServiceWorker(f)}))})()}_get(f){var v=this;return(0,p.Z)(function*(){const U=yield v._withRetries(J=>function A(g,c){return L.apply(this,arguments)}(J,f));return v.localCache[f]=U,U})()}_remove(f){var v=this;return(0,p.Z)(function*(){return v._withPendingWrite((0,p.Z)(function*(){return yield v._withRetries(U=>$(U,f)),delete v.localCache[f],v.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,p.Z)(function*(){const v=yield f._withRetries(Te=>{const Je=vt(Te,!1).getAll();return new eo(Je).toPromise()});if(!v)return[];if(0!==f.pendingWrites)return[];const U=[],J=new Set;for(const{fbase_key:Te,value:Je}of v)J.add(Te),JSON.stringify(f.localCache[Te])!==JSON.stringify(Je)&&(f.notifyListeners(Te,Je),U.push(Te));for(const Te of Object.keys(f.localCache))f.localCache[Te]&&!J.has(Te)&&(f.notifyListeners(Te,null),U.push(Te));return U})()}notifyListeners(f,v){this.localCache[f]=v;const U=this.listeners[f];if(U)for(const J of Array.from(U))J(v)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function Hn(g,c){return vn(g,"POST","/v2/accounts/mfaSignIn:start",an(g,c))}function $n(){return($n=(0,p.Z)(function*(g){return(yield vn(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ls(g){return new Promise((c,f)=>{const v=document.createElement("script");v.setAttribute("src",g),v.onload=c,v.onerror=U=>{const J=He("internal-error");J.customData=U,f(J)},v.type="text/javascript",v.charset="UTF-8",function Ps(){var g,c;return null!==(c=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==c?c:document}().appendChild(v)})}function Vo(g){return`__${g}${Math.floor(1e6*Math.random())}`}const zs=1e12;class yl{constructor(c){this.auth=c,this.counter=zs,this._widgets=new Map}render(c,f){const v=this.counter;return this._widgets.set(v,new Ln(c,this.auth.name,f||{})),this.counter++,v}reset(c){var f;const v=c||zs;null===(f=this._widgets.get(v))||void 0===f||f.delete(),this._widgets.delete(v)}getResponse(c){var f;return(null===(f=this._widgets.get(c||zs))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,p.Z)(function*(){var v;return null===(v=f._widgets.get(c||zs))||void 0===v||v.execute(),""})()}}class Ln{constructor(c,f,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof c?document.getElementById(c):c;Se(U,"argument-error",{appName:f}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function to(g){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<g;v++)c.push(f.charAt(Math.floor(Math.random()*f.length)));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Da=Vo("rcb"),li=new sn(3e4,6e4);class _l{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Pr().grecaptcha}load(c,f=""){return Se(function Ta(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(f),c,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Pr().grecaptcha):new Promise((v,U)=>{const J=Pr().setTimeout(()=>{U(He(c,"network-request-failed"))},li.get());Pr()[Da]=()=>{Pr().clearTimeout(J),delete Pr()[Da];const Je=Pr().grecaptcha;if(!Je)return void U(He(c,"internal-error"));const Ft=Je.render;Je.render=(en,Tn)=>{const Wt=Ft(en,Tn);return this.counter++,Wt},this.hostLanguage=f,v(Je)},ls(`https://www.google.com/recaptcha/api.js??${(0,Q.xO)({onload:Da,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(J),U(He(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!Pr().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class D{load(c){return(0,p.Z)(function*(){return new yl(c)})()}clearedOneInstance(){}}const I="recaptcha",x={theme:"light",type:"image"};class G{constructor(c,f=Object.assign({},x),v){this.parameters=f,this.type=I,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dt(v),this.isInvisible="invisible"===this.parameters.size,Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof c?document.getElementById(c):c;Se(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new D:new _l,this.validateStartingState()}verify(){var c=this;return(0,p.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),v=c.getAssertedRecaptcha();return v.getResponse(f)||new Promise(J=>{const Te=Je=>{!Je||(c.tokenChangeListeners.delete(Te),J(Je))};c.tokenChangeListeners.add(Te),c.isInvisible&&v.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(v=>v(f)),"function"==typeof c)c(f);else if("string"==typeof c){const v=Pr()[c];"function"==typeof v&&v(f)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,p.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const v=document.createElement("div");f.appendChild(v),f=v}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,p.Z)(function*(){Se(zt()&&!Gs(),c.auth,"internal-error"),yield function ee(){let g=null;return new Promise(c=>{"complete"!==document.readyState?(g=()=>c(),window.addEventListener("load",g)):c()}).catch(c=>{throw g&&window.removeEventListener("load",g),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function fr(g){return $n.apply(this,arguments)}(c.auth);Se(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ve{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=As._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function at(){return(at=(0,p.Z)(function*(g,c,f){const v=dt(g),U=yield ar(v,c,(0,Q.m9)(f));return new ve(U,J=>Dt(v,J))})).apply(this,arguments)}function _n(){return(_n=(0,p.Z)(function*(g,c,f){const v=(0,Q.m9)(g);yield W(!1,v,"phone");const U=yield ar(v.auth,c,(0,Q.m9)(f));return new ve(U,J=>An(v,J))})).apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(g,c,f){const v=(0,Q.m9)(g),U=yield ar(v.auth,c,(0,Q.m9)(f));return new ve(U,J=>Sn(v,J))})).apply(this,arguments)}function ar(g,c,f){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,p.Z)(function*(g,c,f){var v;const U=yield f.verify();try{let J;if(Se("string"==typeof U,g,"argument-error"),Se(f.type===I,g,"argument-error"),J="string"==typeof c?{phoneNumber:c}:c,"session"in J){const Te=J.session;if("phoneNumber"in J)return Se("enroll"===Te.type,g,"internal-error"),(yield ni(g,{idToken:Te.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{Se("signin"===Te.type,g,"internal-error");const Je=(null===(v=J.multiFactorHint)||void 0===v?void 0:v.uid)||J.multiFactorUid;return Se(Je,g,"missing-multi-factor-info"),(yield Hn(g,{mfaPendingCredential:Te.credential,mfaEnrollmentId:Je,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Te}=yield ss(g,{phoneNumber:J.phoneNumber,recaptchaToken:U});return Te}}finally{f._reset()}})).apply(this,arguments)}function zi(){return(zi=(0,p.Z)(function*(g,c){yield _r((0,Q.m9)(g),c)})).apply(this,arguments)}let Yn=(()=>{class g{constructor(f){this.providerId=g.PROVIDER_ID,this.auth=dt(f)}verifyPhoneNumber(f,v){return ar(this.auth,f,(0,Q.m9)(v))}static credential(f,v){return As._fromVerification(f,v)}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:v,temporaryProof:U}=f;return v&&U?As._fromTokenResponse(v,U):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Kr(g,c){return c?we(c):(Se(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Wi extends Bn{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return nr(c,this._buildIdpRequest())}_linkToIdToken(c,f){return nr(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return nr(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function Ii(g){return Ze(g.auth,new Wi(g),g.bypassAuthState)}function Et(g){const{auth:c,user:f}=g;return Se(f,c,"internal-error"),Y(f,new Wi(g),g.bypassAuthState)}function Uo(g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,p.Z)(function*(g){const{auth:c,user:f}=g;return Se(f,c,"internal-error"),_r(f,new Wi(g),g.bypassAuthState)})).apply(this,arguments)}class ci{constructor(c,f,v,U,J=!1){this.auth=c,this.resolver=v,this.user=U,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,p.Z)(function*(v,U){c.pendingPromise={resolve:v,reject:U};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(J){c.reject(J)}});return function(v,U){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,p.Z)(function*(){const{urlResponse:v,sessionId:U,postBody:J,tenantId:Te,error:Je,type:Ft}=c;if(Je)return void f.reject(Je);const en={auth:f.auth,requestUri:v,sessionId:U,tenantId:Te||void 0,postBody:J||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ft)(en))}catch(Tn){f.reject(Tn)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return Uo;case"reauthViaPopup":case"reauthViaRedirect":return Et;default:se(this.auth,"internal-error")}}resolve(c){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cs=new sn(2e3,1e4);function ea(){return(ea=(0,p.Z)(function*(g,c,f){const v=dt(g);$e(g,c,Ei);const U=Kr(v,f);return new cu(v,"signInViaPopup",c,U).executeNotNull()})).apply(this,arguments)}function ro(){return(ro=(0,p.Z)(function*(g,c,f){const v=(0,Q.m9)(g);$e(v.auth,c,Ei);const U=Kr(v.auth,f);return new cu(v.auth,"reauthViaPopup",c,U,v).executeNotNull()})).apply(this,arguments)}function ta(){return(ta=(0,p.Z)(function*(g,c,f){const v=(0,Q.m9)(g);$e(v.auth,c,Ei);const U=Kr(v.auth,f);return new cu(v.auth,"linkViaPopup",c,U,v).executeNotNull()})).apply(this,arguments)}let cu=(()=>{class g extends ci{constructor(f,v,U,J,Te){super(f,v,J,Te),this.provider=U,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var f=this;return(0,p.Z)(function*(){const v=yield f.execute();return Se(v,f.auth,"internal-error"),v})()}onExecution(){var f=this;return(0,p.Z)(function*(){le(1===f.filter.length,"Popup operations only handle one event");const v=Xo();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],v),f.authWindow.associatedEvent=v,f.resolver._originValidation(f.auth).catch(U=>{f.reject(U)}),f.resolver._isIframeWebStorageSupported(f.auth,U=>{U||f.reject(He(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(He(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const f=()=>{var v,U;this.pollId=(null===(U=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===U?void 0:U.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(He(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,cs.get())};f()}}return g.currentPopupAction=null,g})();const za=new Map;class Bo extends ci{constructor(c,f,v=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,v),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,p.Z)(function*(){let v=za.get(f.auth._key());if(!v){try{const J=(yield function Wa(g,c){return du.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;v=()=>Promise.resolve(J)}catch(U){v=()=>Promise.reject(U)}za.set(f.auth._key(),v)}return f.bypassAuthState||za.set(f.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,v=this;return(0,p.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(v,c);if("unknown"!==c.type){if(c.eventId){const U=yield v.auth._redirectUserForId(c.eventId);if(U)return v.user=U,f().call(v,c);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function du(){return(du=(0,p.Z)(function*(g,c){const f=M(c),v=El(g);if(!(yield v._isAvailable()))return!1;const U="true"===(yield v._get(f));return yield v._remove(f),U})).apply(this,arguments)}function na(g,c){return hu.apply(this,arguments)}function hu(){return(hu=(0,p.Z)(function*(g,c){return El(g)._set(M(c),"true")})).apply(this,arguments)}function El(g){return we(g._redirectPersistence)}function M(g){return qe("pendingRedirect",g.config.apiKey,g.name)}function ne(){return(ne=(0,p.Z)(function*(g,c,f){const v=dt(g);$e(g,c,Ei);const U=Kr(v,f);return yield na(U,v),U._openRedirect(v,c,"signInViaRedirect")})).apply(this,arguments)}function _t(){return(_t=(0,p.Z)(function*(g,c,f){const v=(0,Q.m9)(g);$e(v.auth,c,Ei);const U=Kr(v.auth,f);yield na(U,v.auth);const J=yield qa(v);return U._openRedirect(v.auth,c,"reauthViaRedirect",J)})).apply(this,arguments)}function On(){return(On=(0,p.Z)(function*(g,c,f){const v=(0,Q.m9)(g);$e(v.auth,c,Ei);const U=Kr(v.auth,f);yield W(!1,v,c.providerId),yield na(U,v.auth);const J=yield qa(v);return U._openRedirect(v.auth,c,"linkViaRedirect",J)})).apply(this,arguments)}function gn(){return(gn=(0,p.Z)(function*(g,c){return yield dt(g)._initializationPromise,Ns(g,c,!1)})).apply(this,arguments)}function Ns(g,c){return qi.apply(this,arguments)}function qi(){return(qi=(0,p.Z)(function*(g,c,f=!1){const v=dt(g),U=Kr(v,c),Te=yield new Bo(v,U,f).execute();return Te&&!f&&(delete Te.user._redirectEventId,yield v._persistUserIfCurrent(Te.user),yield v._setRedirectUser(null,c)),Te})).apply(this,arguments)}function qa(g){return qs.apply(this,arguments)}function qs(){return(qs=(0,p.Z)(function*(g){const c=Xo(`${g.uid}:::`);return g._redirectEventId=c,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),c})).apply(this,arguments)}class io{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(c,v)&&(f=!0,this.sendToConsumer(c,v),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Xc(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Za(g);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var v;if(c.error&&!Za(c)){const U=(null===(v=c.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";f.onError(He(this.auth,U))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const v=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&v}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zs(c))}saveEventToCache(c){this.cachedEventUids.add(Zs(c)),this.lastProcessedEventTime=Date.now()}}function Zs(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(c=>c).join("-")}function Za({type:g,error:c}){return"unknown"===g&&"auth/no-auth-event"===(null==c?void 0:c.code)}function wl(g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(g,c={}){return vn(g,"GET","/v1/projects",c)})).apply(this,arguments)}const Wd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tf=/^https?/;function Aa(){return(Aa=(0,p.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:c}=yield wl(g);for(const f of c)try{if(bl(f))return}catch(v){}se(g,"unauthorized-domain")})).apply(this,arguments)}function bl(g){const c=Jt(),{protocol:f,hostname:v}=new URL(c);if(g.startsWith("chrome-extension://")){const Te=new URL(g);return""===Te.hostname&&""===v?"chrome-extension:"===f&&g.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&Te.hostname===v}if(!Tf.test(f))return!1;if(Wd.test(g))return v===g;const U=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(v)}const Sf=new sn(3e4,6e4);function Mf(){const g=Pr().___jsl;if(null==g?void 0:g.H)for(const c of Object.keys(g.H))if(g.H[c].r=g.H[c].r||[],g.H[c].L=g.H[c].L||[],g.H[c].r=[...g.H[c].L],g.CP)for(let f=0;f<g.CP.length;f++)g.CP[f]=null}let ia=null;function Il(g){return ia=ia||function qd(g){return new Promise((c,f)=>{var v,U,J;function Te(){Mf(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Mf(),f(He(g,"network-request-failed"))},timeout:Sf.get()})}if(null===(U=null===(v=Pr().gapi)||void 0===v?void 0:v.iframes)||void 0===U?void 0:U.Iframe)c(gapi.iframes.getContext());else{if(!(null===(J=Pr().gapi)||void 0===J?void 0:J.load)){const Je=Vo("iframefcb");return Pr()[Je]=()=>{gapi.load?Te():f(He(g,"network-request-failed"))},ls(`https://apis.google.com/js/api.js?onload=${Je}`).catch(Ft=>f(Ft))}Te()}}).catch(c=>{throw ia=null,c})}(g),ia}const xf=new sn(5e3,15e3),jo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sa(g){const c=g.config;Se(c.authDomain,g,"auth-domain-config-required");const f=c.emulator?Vt(c,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,v={apiKey:c.apiKey,appName:g.name,v:De.SDK_VERSION},U=lc.get(g.config.apiHost);U&&(v.eid=U);const J=g._getFrameworks();return J.length&&(v.fw=J.join(",")),`${f}?${(0,Q.xO)(v).slice(1)}`}function Nu(){return Nu=(0,p.Z)(function*(g){const c=yield Il(g),f=Pr().gapi;return Se(f,g,"internal-error"),c.open({where:document.body,url:sa(g),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jo,dontclear:!0},v=>new Promise(function(){var U=(0,p.Z)(function*(J,Te){yield v.restyle({setHideOnLeave:!1});const Je=He(g,"network-request-failed"),Ft=Pr().setTimeout(()=>{Te(Je)},xf.get());function en(){Pr().clearTimeout(Ft),J(v)}v.ping(en).then(en,()=>{Te(Je)})});return function(J,Te){return U.apply(this,arguments)}}()))}),Nu.apply(this,arguments)}const Yd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dc{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function hc(g,c,f,v,U,J){Se(g.config.authDomain,g,"auth-domain-config-required"),Se(g.config.apiKey,g,"invalid-api-key");const Te={apiKey:g.config.apiKey,appName:g.name,authType:f,redirectUrl:v,v:De.SDK_VERSION,eventId:U};if(c instanceof Ei){c.setDefaultLanguage(g.languageCode),Te.providerId=c.providerId||"",(0,Q.xb)(c.getCustomParameters())||(Te.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Ft,en]of Object.entries(J||{}))Te[Ft]=en}if(c instanceof Qr){const Ft=c.getScopes().filter(en=>""!==en);Ft.length>0&&(Te.scopes=Ft.join(","))}g.tenantId&&(Te.tid=g.tenantId);const Je=Te;for(const Ft of Object.keys(Je))void 0===Je[Ft]&&delete Je[Ft];return`${function Jd({config:g}){return g.emulator?Vt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,Q.xO)(Je).slice(1)}`}const pa="webStorageSupport";class Dl extends class Rf{constructor(c){this.factorId=c}_process(c,f,v){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,v);case"signin":return this._finalizeSignIn(c,f.credential);default:return Ee("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Dl(c)}_finalizeEnroll(c,f,v){return function bi(g,c){return vn(g,"POST","/v2/accounts/mfaEnrollment:finalize",an(g,c))}(c,{idToken:f,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function Yt(g,c){return vn(g,"POST","/v2/accounts/mfaSignIn:finalize",an(g,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sg=(()=>{class g{constructor(){}static assertion(f){return Dl._fromCredential(f)}}return g.FACTOR_ID="phone",g})();var Of="@firebase/auth",Xd="0.19.12";class pu{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,p.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(v=>{var U;c((null===(U=v)||void 0===U?void 0:U.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);!f||(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ka(){return window}function mu(){return(mu=(0,p.Z)(function*(g,c,f){var v;const{BuildInfo:U}=Ka();le(c.sessionId,"AuthEvent did not contain a session ID");const J=yield Mg(c.sessionId),Te={};return jr()?Te.ibi=U.packageName:gr()?Te.apn=U.packageName:se(g,"operation-not-supported-in-this-environment"),U.displayName&&(Te.appDisplayName=U.displayName),Te.sessionId=J,hc(g,f,c.type,void 0,null!==(v=c.eventId)&&void 0!==v?v:void 0,Te)})).apply(this,arguments)}function Ho(){return(Ho=(0,p.Z)(function*(g){const{BuildInfo:c}=Ka(),f={};jr()?f.iosBundleId=c.packageName:gr()?f.androidPackageName=c.packageName:se(g,"operation-not-supported-in-this-environment"),yield wl(g,f)})).apply(this,arguments)}function yu(){return(yu=(0,p.Z)(function*(g,c,f){const{cordova:v}=Ka();let U=()=>{};try{yield new Promise((J,Te)=>{let Je=null;function Ft(){var Wt;J();const Ci=null===(Wt=v.plugins.browsertab)||void 0===Wt?void 0:Wt.close;"function"==typeof Ci&&Ci(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function en(){Je||(Je=window.setTimeout(()=>{Te(He(g,"redirect-cancelled-by-user"))},2e3))}function Tn(){"visible"===(null==document?void 0:document.visibilityState)&&en()}c.addPassiveListener(Ft),document.addEventListener("resume",en,!1),gr()&&document.addEventListener("visibilitychange",Tn,!1),U=()=>{c.removePassiveListener(Ft),document.removeEventListener("resume",en,!1),document.removeEventListener("visibilitychange",Tn,!1),Je&&window.clearTimeout(Je)}})}finally{U()}})).apply(this,arguments)}function Mg(g){return fc.apply(this,arguments)}function fc(){return(fc=(0,p.Z)(function*(g){const c=xg(g),f=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(f)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xg(g){if(le(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const c=new ArrayBuffer(g.length),f=new Uint8Array(c);for(let v=0;v<g.length;v++)f[v]=g.charCodeAt(v);return f}!function eh(g){(0,De._registerComponent)(new be.wA("auth",(c,{options:f})=>{const v=c.getProvider("app").getImmediate(),U=c.getProvider("heartbeat"),{apiKey:J,authDomain:Te}=v.options;return((Je,Ft)=>{Se(J&&!J.includes(":"),"invalid-api-key",{appName:Je.name}),Se(!(null==Te?void 0:Te.includes(":")),"argument-error",{appName:Je.name});const en={apiKey:J,authDomain:Te,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vi(g)},Tn=new Nr(Je,Ft,en);return function Fe(g,c){const f=(null==c?void 0:c.persistence)||[],v=(Array.isArray(f)?f:[f]).map(we);(null==c?void 0:c.errorMap)&&g._updateErrorMap(c.errorMap),g._initializeWithPersistence(v,null==c?void 0:c.popupRedirectResolver)}(Tn,f),Tn})(v,U)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,v)=>{c.getProvider("auth-internal").initialize()})),(0,De._registerComponent)(new be.wA("auth-internal",c=>{const f=dt(c.getProvider("auth").getImmediate());return new pu(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)(Of,Xd,function gu(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,De.registerVersion)(Of,Xd,"esm2017")}("Browser");class gc extends io{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(c)),super.onEvent(c)}initialized(){var c=this;return(0,p.Z)(function*(){yield c.initPromise})()}}function nh(g){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,p.Z)(function*(g){const c=yield Rl()._get(rd(g));return c&&(yield Rl()._remove(rd(g))),c})).apply(this,arguments)}function xl(){const g=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const v=Math.floor(Math.random()*c.length);g.push(c.charAt(v))}return g.join("")}function Rl(){return we(Cr)}function rd(g){return qe("authEvent",g.config.apiKey,g.name)}function Ol(g){if(!(null==g?void 0:g.includes("?")))return{};const[c,...f]=g.split("?");return(0,Q.zd)(f.join("?"))}function Pl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:He("no-auth-event")}}function yc(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function ih(g=(0,Q.z$)()){return!("file:"!==yc()&&"ionic:"!==yc()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gn(){try{const g=self.localStorage,c=Xo();if(g)return g.setItem(c,"1"),g.removeItem(c),!function Nl(g=(0,Q.z$)()){return function _c(){return(0,Q.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Rg(g=(0,Q.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,Q.hl)()}catch(g){return kl()&&(0,Q.hl)()}return!1}function kl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function vu(){return(function $o(){return"http:"===yc()||"https:"===yc()}()||(0,Q.ru)()||ih())&&!function sd(){return(0,Q.b$)()||(0,Q.UG)()}()&&Gn()&&!kl()}function Eu(){return ih()&&"undefined"!=typeof document}function ga(){return(ga=(0,p.Z)(function*(){return!!Eu()&&new Promise(g=>{const c=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),g(!0)})})})).apply(this,arguments)}const po={LOCAL:"local",NONE:"none",SESSION:"session"},Hu=Se,od="persistence";function Fl(g){return ad.apply(this,arguments)}function ad(){return(ad=(0,p.Z)(function*(g){yield g._initializationPromise;const c=ah(),f=qe(od,g.config.apiKey,g.name);c&&c.setItem(f,g._getPersistence())})).apply(this,arguments)}function ah(){var g;try{return(null===(g=function vc(){return"undefined"!=typeof window?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch(c){return null}}const Ll=Se;class oa{constructor(){this.browserResolver=we(class Lu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Ns}_openPopup(c,f,v,U){var J=this;return(0,p.Z)(function*(){var Te;le(null===(Te=J.eventManagers[c._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const Je=hc(c,f,v,Jt(),U);return function Fu(g,c,f,v=500,U=600){const J=Math.max((window.screen.availHeight-U)/2,0).toString(),Te=Math.max((window.screen.availWidth-v)/2,0).toString();let Je="";const Ft=Object.assign(Object.assign({},Yd),{width:v.toString(),height:U.toString(),top:J,left:Te}),en=(0,Q.z$)().toLowerCase();f&&(Je=Xt(en)?"_blank":f),qt(en)&&(c=c||"http://localhost",Ft.scrollbars="yes");const Tn=Object.entries(Ft).reduce((Ci,[Oo,go])=>`${Ci}${Oo}=${go},`,"");if(function Ds(g=(0,Q.z$)()){var c;return jr(g)&&!!(null===(c=window.navigator)||void 0===c?void 0:c.standalone)}(en)&&"_self"!==Je)return function Qd(g,c){const f=document.createElement("a");f.href=g,f.target=c;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(v)}(c||"",Je),new dc(null);const Wt=window.open(c||"",Je,Tn);Se(Wt,g,"popup-blocked");try{Wt.focus()}catch(Ci){}return new dc(Wt)}(c,Je,Xo())})()}_openRedirect(c,f,v,U){var J=this;return(0,p.Z)(function*(){return yield J._originValidation(c),function lu(g){Pr().location.href=g}(hc(c,f,v,Jt(),U)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:U,promise:J}=this.eventManagers[f];return U?Promise.resolve(U):(le(J,"If manager is not set, promise should be"),J)}const v=this.initAndGetManager(c);return this.eventManagers[f]={promise:v},v.catch(()=>{delete this.eventManagers[f]}),v}initAndGetManager(c){var f=this;return(0,p.Z)(function*(){const v=yield function cc(g){return Nu.apply(this,arguments)}(c),U=new io(c);return v.register("authEvent",J=>(Se(null==J?void 0:J.authEvent,c,"invalid-auth-event"),{status:U.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:U},f.iframes[c._key()]=v,U})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(pa,{type:pa},U=>{var J;const Te=null===(J=null==U?void 0:U[0])||void 0===J?void 0:J[pa];void 0!==Te&&f(!!Te),se(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Af(g){return Aa.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return Rr()||dn()||jr()}}),this.cordovaResolver=we(class Ya{constructor(){this._redirectPersistence=vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ns}_initialize(c){var f=this;return(0,p.Z)(function*(){const v=c._key();let U=f.eventManagers.get(v);return U||(U=new gc(c),f.eventManagers.set(v,U),f.attachCallbackListeners(c,U)),U})()}_openPopup(c){se(c,"operation-not-supported-in-this-environment")}_openRedirect(c,f,v,U){var J=this;return(0,p.Z)(function*(){!function Sl(g){var c,f,v,U,J,Te,Je,Ft,en,Tn;const Wt=Ka();Se("function"==typeof(null===(c=null==Wt?void 0:Wt.universalLinks)||void 0===c?void 0:c.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(void 0!==(null===(f=null==Wt?void 0:Wt.BuildInfo)||void 0===f?void 0:f.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(J=null===(U=null===(v=null==Wt?void 0:Wt.cordova)||void 0===v?void 0:v.plugins)||void 0===U?void 0:U.browsertab)||void 0===J?void 0:J.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(Ft=null===(Je=null===(Te=null==Wt?void 0:Wt.cordova)||void 0===Te?void 0:Te.plugins)||void 0===Je?void 0:Je.browsertab)||void 0===Ft?void 0:Ft.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(Tn=null===(en=null==Wt?void 0:Wt.cordova)||void 0===en?void 0:en.InAppBrowser)||void 0===Tn?void 0:Tn.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const Te=yield J._initialize(c);yield Te.initialized(),Te.resetRedirect(),function Pu(){za.clear()}(),yield J._originValidation(c);const Je=function _u(g,c,f=null){return{type:c,eventId:f,urlResponse:null,sessionId:xl(),postBody:null,tenantId:g.tenantId,error:He(g,"no-auth-event")}}(c,v,U);yield function Bu(g,c){return Rl()._set(rd(g),c)}(c,Je);const Ft=yield function th(g,c,f){return mu.apply(this,arguments)}(c,Je,f),en=yield function Al(g){const{cordova:c}=Ka();return new Promise(f=>{c.plugins.browsertab.isAvailable(v=>{let U=null;v?c.plugins.browsertab.openUrl(g):U=c.InAppBrowser.open(g,function mr(g=(0,Q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),f(U)})})}(Ft);return function Zi(g,c,f){return yu.apply(this,arguments)}(c,Te,en)})()}_isIframeWebStorageSupported(c,f){throw new Error("Method not implemented.")}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Uu(g){return Ho.apply(this,arguments)}(c)),this.originValidationPromises[f]}attachCallbackListeners(c,f){const{universalLinks:v,handleOpenURL:U,BuildInfo:J}=Ka(),Te=setTimeout((0,p.Z)(function*(){yield nh(c),f.onEvent(Pl())}),500),Je=function(){var Tn=(0,p.Z)(function*(Wt){clearTimeout(Te);const Ci=yield nh(c);let Oo=null;Ci&&(null==Wt?void 0:Wt.url)&&(Oo=function rh(g,c){var f,v;const U=function dr(g){const c=Ol(g),f=c.link?decodeURIComponent(c.link):void 0,v=Ol(f).link,U=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Ol(U).link||U||v||f||g}(c);if(U.includes("/__/auth/callback")){const J=Ol(U),Te=J.firebaseError?function Ki(g){try{return JSON.parse(g)}catch(c){return null}}(decodeURIComponent(J.firebaseError)):null,Je=null===(v=null===(f=null==Te?void 0:Te.code)||void 0===f?void 0:f.split("auth/"))||void 0===v?void 0:v[1],Ft=Je?He(Je):null;return Ft?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:U,postBody:null}}return null}(Ci,Wt.url)),f.onEvent(Oo||Pl())});return function(Ci){return Tn.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,Je);const Ft=U,en=`${J.packageName.toLowerCase()}://`;Ka().handleOpenURL=function(){var Tn=(0,p.Z)(function*(Wt){if(Wt.toLowerCase().startsWith(en)&&Je({url:Wt}),"function"==typeof Ft)try{Ft(Wt)}catch(Ci){console.error(Ci)}});return function(Wt){return Tn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=vs,this._completeRedirectFn=Ns}_initialize(c){var f=this;return(0,p.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,f,v,U){var J=this;return(0,p.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openPopup(c,f,v,U)})()}_openRedirect(c,f,v,U){var J=this;return(0,p.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openRedirect(c,f,v,U)})()}_isIframeWebStorageSupported(c,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,f)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Eu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ll(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,p.Z)(function*(){if(c.underlyingResolver)return;const f=yield function rs(){return ga.apply(this,arguments)}();c.underlyingResolver=f?c.cordovaResolver:c.browserResolver})()}}function uh(g){return g.unwrap()}function Vl(g){return $u(g)}function $u(g){const{_tokenResponse:c}=g instanceof Q.ZR?g.customData:g;if(!c)return null;if(!(g instanceof Q.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Yn.credentialFromResult(g);const f=c.providerId;if(!f||"password"===f)return null;let v;switch(f){case"google.com":v=Hi;break;case"facebook.com":v=ji;break;case"github.com":v=Ss;break;case"twitter.com":v=ps;break;default:const{oauthIdToken:U,oauthAccessToken:J,oauthTokenSecret:Te,pendingToken:Je,nonce:Ft}=c;return J||Te||U||Je?Je?f.startsWith("saml.")?fs._create(f,Je):vi._fromParams({providerId:f,signInMethod:f,pendingToken:Je,idToken:U,accessToken:J}):new Jr(f).credential({idToken:U,accessToken:J,rawNonce:Ft}):null}return g instanceof Q.ZR?v.credentialFromError(g):v.credentialFromResult(g)}function ii(g,c){return c.catch(f=>{throw f instanceof Q.ZR&&function lh(g,c){var f;const v=null===(f=c.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===c.code)c.resolver=new Bl(g,function Jo(g,c){var f;const v=(0,Q.m9)(g),U=c;return Se(c.customData.operationType,v,"argument-error"),Se(null===(f=U.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,v,"argument-error"),To._fromError(v,U)}(g,c));else if(v){const U=$u(c),J=c;U&&(J.credential=U,J.tenantId=v.tenantId||void 0,J.email=v.email||void 0,J.phoneNumber=v.phoneNumber||void 0)}}(g,f),f}).then(f=>{const U=f.user;return{operationType:f.operationType,credential:Vl(f),additionalUserInfo:Zr(f),user:ma.getOrCreate(U)}})}function Ul(g,c){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,p.Z)(function*(g,c){const f=yield c;return{verificationId:f.verificationId,confirm:v=>ii(g,f.confirm(v))}})).apply(this,arguments)}class Bl{constructor(c,f){this.resolver=f,this.auth=function bs(g){return g.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return ii(uh(this.auth),this.resolver.resolveSignIn(c))}}class ma{constructor(c){this._delegate=c,this.multiFactor=function No(g){const c=(0,Q.m9)(g);return Os.has(c)||Os.set(c,ns._fromUser(c)),Os.get(c)}(c)}static getOrCreate(c){return ma.USER_MAP.has(c)||ma.USER_MAP.set(c,new ma(c)),ma.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var f=this;return(0,p.Z)(function*(){return ii(f.auth,An(f._delegate,c))})()}linkWithPhoneNumber(c,f){var v=this;return(0,p.Z)(function*(){return Ul(v.auth,function Mt(g,c,f){return _n.apply(this,arguments)}(v._delegate,c,f))})()}linkWithPopup(c){var f=this;return(0,p.Z)(function*(){return ii(f.auth,function Ou(g,c,f){return ta.apply(this,arguments)}(f._delegate,c,oa))})()}linkWithRedirect(c){var f=this;return(0,p.Z)(function*(){return yield Fl(dt(f.auth)),function xt(g,c,f){return function Mn(g,c,f){return On.apply(this,arguments)}(g,c,f)}(f._delegate,c,oa)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var f=this;return(0,p.Z)(function*(){return ii(f.auth,Sn(f._delegate,c))})()}reauthenticateWithPhoneNumber(c,f){return Ul(this.auth,function bn(g,c,f){return Sr.apply(this,arguments)}(this._delegate,c,f))}reauthenticateWithPopup(c){return ii(this.auth,function vl(g,c,f){return ro.apply(this,arguments)}(this._delegate,c,oa))}reauthenticateWithRedirect(c){var f=this;return(0,p.Z)(function*(){return yield Fl(dt(f.auth)),function Re(g,c,f){return function We(g,c,f){return _t.apply(this,arguments)}(g,c,f)}(f._delegate,c,oa)})()}sendEmailVerification(c){return function _s(g,c){return lo.apply(this,arguments)}(this._delegate,c)}unlink(c){var f=this;return(0,p.Z)(function*(){return yield function Ri(g,c){return us.apply(this,arguments)}(f._delegate,c),f})()}updateEmail(c){return function Ba(g,c){return co((0,Q.m9)(g),c,null)}(this._delegate,c)}updatePassword(c){return function Yo(g,c){return co((0,Q.m9)(g),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function ri(g,c){return zi.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Zo(g,c){return Ko.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,f){return function es(g,c,f){return la.apply(this,arguments)}(this._delegate,c,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ma.USER_MAP=new WeakMap;const Gu=Se;let wc=(()=>{class g{constructor(f,v){if(this.app=f,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=f.options;Gu(U,"invalid-api-key",{appName:f.name}),Gu(U,"invalid-api-key",{appName:f.name});const J="undefined"!=typeof window?oa:void 0;this._delegate=v.initialize({options:{persistence:Pf(U,f.name),popupRedirectResolver:J}}),this._delegate._updateErrorMap(et),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ma.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,v){!function nn(g,c,f){const v=dt(g);Se(v._canInitEmulator,v,"emulator-config-failed"),Se(/^https?:\/\//.test(c),v,"invalid-emulator-scheme");const U=!!(null==f?void 0:f.disableWarnings),J=hr(c),{host:Te,port:Je}=function di(g){const c=hr(g),f=/(\/\/)?([^?#/]+)/.exec(g.substr(c.length));if(!f)return{host:"",port:null};const v=f[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(v);if(U){const J=U[1];return{host:J,port:Or(v.substr(J.length+1))}}{const[J,Te]=v.split(":");return{host:J,port:Or(Te)}}}(c);v.config.emulator={url:`${J}//${Te}${null===Je?"":`:${Je}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:Te,port:Je,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function zn(){function g(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,f,v)}applyActionCode(f){return function S(g,c){return V.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Pe(this._delegate,f)}confirmPasswordReset(f,v){return function F(g,c,f){return R.apply(this,arguments)}(this._delegate,f,v)}createUserWithEmailAndPassword(f,v){var U=this;return(0,p.Z)(function*(){return ii(U._delegate,function ui(g,c,f){return ir.apply(this,arguments)}(U._delegate,f,v))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function bo(g,c){return js.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function wa(g,c){const f=Mi.parseLink(c);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,p.Z)(function*(){Gu(vu(),f._delegate,"operation-not-supported-in-this-environment");const v=yield function pr(g,c){return gn.apply(this,arguments)}(f._delegate,oa);return v?ii(f._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function ks(g,c){dt(g)._logFramework(c)}(this._delegate,f)}onAuthStateChanged(f,v,U){const{next:J,error:Te,complete:Je}=ch(f,v,U);return this._delegate.onAuthStateChanged(J,Te,Je)}onIdTokenChanged(f,v,U){const{next:J,error:Te,complete:Je}=ch(f,v,U);return this._delegate.onIdTokenChanged(J,Te,Je)}sendSignInLinkToEmail(f,v){return function ys(g,c,f){return xs.apply(this,arguments)}(this._delegate,f,v)}sendPasswordResetEmail(f,v){return function Bs(g,c,f){return Xs.apply(this,arguments)}(this._delegate,f,v||void 0)}setPersistence(f){var v=this;return(0,p.Z)(function*(){let U;switch(function sh(g,c){Hu(Object.values(po).includes(c),g,"invalid-persistence-type"),(0,Q.b$)()?Hu(c!==po.SESSION,g,"unsupported-persistence-type"):(0,Q.UG)()?Hu(c===po.NONE,g,"unsupported-persistence-type"):kl()?Hu(c===po.NONE||c===po.LOCAL&&(0,Q.hl)(),g,"unsupported-persistence-type"):Hu(c===po.NONE||Gn(),g,"unsupported-persistence-type")}(v._delegate,f),f){case po.SESSION:U=vs;break;case po.LOCAL:U=(yield we(Ot)._isAvailable())?Ot:Cr;break;case po.NONE:U=me;break;default:return se("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return ii(this._delegate,function Us(g){return gs.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return ii(this._delegate,Dt(this._delegate,f))}signInWithCustomToken(f){return ii(this._delegate,function Oi(g,c){return ai.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,v){return ii(this._delegate,function Ms(g,c,f){return Dt((0,Q.m9)(g),hs.credential(c,f))}(this._delegate,f,v))}signInWithEmailLink(f,v){return ii(this._delegate,function ua(g,c,f){return uo.apply(this,arguments)}(this._delegate,f,v))}signInWithPhoneNumber(f,v){return Ul(this._delegate,function ot(g,c,f){return at.apply(this,arguments)}(this._delegate,f,v))}signInWithPopup(f){var v=this;return(0,p.Z)(function*(){return Gu(vu(),v._delegate,"operation-not-supported-in-this-environment"),ii(v._delegate,function no(g,c,f){return ea.apply(this,arguments)}(v._delegate,f,oa))})()}signInWithRedirect(f){var v=this;return(0,p.Z)(function*(){return Gu(vu(),v._delegate,"operation-not-supported-in-this-environment"),yield Fl(v._delegate),function k(g,c,f){return function K(g,c,f){return ne.apply(this,arguments)}(g,c,f)}(v._delegate,f,oa)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function cn(g,c){return ti.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=po,g})();function ch(g,c,f){let v=g;"function"!=typeof g&&({next:v,error:c,complete:f}=g);const U=v;return{next:Te=>U(Te&&ma.getOrCreate(Te)),error:c,complete:f}}function Pf(g,c){const f=function oh(g,c){const f=ah();if(!f)return[];const v=qe(od,g,c);switch(f.getItem(v)){case po.NONE:return[me];case po.LOCAL:return[Ot,vs];case po.SESSION:return[vs];default:return[]}}(g,c);if("undefined"!=typeof self&&!f.includes(Ot)&&f.push(Ot),"undefined"!=typeof window)for(const v of[Cr,vs])f.includes(v)||f.push(v);return f.includes(me)||f.push(me),f}class wu{constructor(){this.providerId="phone",this._delegate=new Yn(uh(O.Z.auth()))}static credential(c,f){return Yn.credential(c,f)}verifyPhoneNumber(c,f){return this._delegate.verifyPhoneNumber(c,f)}unwrap(){return this._delegate}}wu.PHONE_SIGN_IN_METHOD=Yn.PHONE_SIGN_IN_METHOD,wu.PROVIDER_ID=Yn.PROVIDER_ID;const ud=Se;class Nf{constructor(c,f,v=O.Z.app()){var U;ud(null===(U=v.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new G(c,f,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function hh(g){g.INTERNAL.registerComponent(new be.wA("auth-compat",c=>{const f=c.getProvider("app-compat").getImmediate(),v=c.getProvider("auth");return new wc(f,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:hs,FacebookAuthProvider:ji,GithubAuthProvider:Ss,GoogleAuthProvider:Hi,OAuthProvider:Jr,SAMLAuthProvider:xi,PhoneAuthProvider:wu,PhoneMultiFactorGenerator:Sg,RecaptchaVerifier:Nf,TwitterAuthProvider:ps,Auth:wc,AuthCredential:Bn,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.12")}(O.Z)},8306:(kt,Ue,j)=>{j.d(Ue,{y:()=>ae});var p=j(2961),O=j(727),Q=j(8822),De=j(4671);var be=j(2416),Ce=j(576),Me=j(2806);let ae=(()=>{class Be{constructor(ft){ft&&(this._subscribe=ft)}lift(ft){const ke=new Be;return ke.source=this,ke.operator=ft,ke}subscribe(ft,ke,tt){const Nt=function ut(Be){return Be&&Be instanceof p.Lv||function Ae(Be){return Be&&(0,Ce.m)(Be.next)&&(0,Ce.m)(Be.error)&&(0,Ce.m)(Be.complete)}(Be)&&(0,O.Nn)(Be)}(ft)?ft:new p.Hp(ft,ke,tt);return(0,Me.x)(()=>{const{operator:yt,source:se}=this;Nt.add(yt?yt.call(Nt,se):se?this._subscribe(Nt):this._trySubscribe(Nt))}),Nt}_trySubscribe(ft){try{return this._subscribe(ft)}catch(ke){ft.error(ke)}}forEach(ft,ke){return new(ke=oe(ke))((tt,Nt)=>{const yt=new p.Hp({next:se=>{try{ft(se)}catch(He){Nt(He),yt.unsubscribe()}},error:Nt,complete:tt});this.subscribe(yt)})}_subscribe(ft){var ke;return null===(ke=this.source)||void 0===ke?void 0:ke.subscribe(ft)}[Q.L](){return this}pipe(...ft){return function he(Be){return 0===Be.length?De.y:1===Be.length?Be[0]:function(ft){return Be.reduce((ke,tt)=>tt(ke),ft)}}(ft)(this)}toPromise(ft){return new(ft=oe(ft))((ke,tt)=>{let Nt;this.subscribe(yt=>Nt=yt,yt=>tt(yt),()=>ke(Nt))})}}return Be.create=et=>new Be(et),Be})();function oe(Be){var et;return null!==(et=null!=Be?Be:be.v.Promise)&&void 0!==et?et:Promise}},7579:(kt,Ue,j)=>{j.d(Ue,{x:()=>be});var p=j(8306),O=j(727);const De=(0,j(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=j(8737),he=j(2806);let be=(()=>{class Me extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Ae=new Ce(this,this);return Ae.operator=oe,Ae}_throwIfClosed(){if(this.closed)throw new De}next(oe){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(oe)}})}error(oe){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(oe)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Ae,isStopped:ut,observers:Be}=this;return Ae||ut?O.Lc:(this.currentObservers=null,Be.push(oe),new O.w0(()=>{this.currentObservers=null,(0,pe.P)(Be,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Ae,thrownError:ut,isStopped:Be}=this;Ae?oe.error(ut):Be&&oe.complete()}asObservable(){const oe=new p.y;return oe.source=this,oe}}return Me.create=(ae,oe)=>new Ce(ae,oe),Me})();class Ce extends be{constructor(ae,oe){super(),this.destination=ae,this.source=oe}next(ae){var oe,Ae;null===(Ae=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Ae||Ae.call(oe,ae)}error(ae){var oe,Ae;null===(Ae=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Ae||Ae.call(oe,ae)}complete(){var ae,oe;null===(oe=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===oe||oe.call(ae)}_subscribe(ae){var oe,Ae;return null!==(Ae=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(ae))&&void 0!==Ae?Ae:O.Lc}}},2961:(kt,Ue,j)=>{j.d(Ue,{Hp:()=>ft,Lv:()=>Ae});var p=j(576),O=j(727),Q=j(2416),De=j(7849);function pe(){}const he=Me("C",void 0,void 0);function Me(se,He,Xe){return{kind:se,value:He,error:Xe}}var ae=j(3410),oe=j(2806);class Ae extends O.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,O.Nn)(He)&&He.add(this)):this.destination=yt}static create(He,Xe,$e){return new ft(He,Xe,$e)}next(He){this.isStopped?Nt(function Ce(se){return Me("N",se,void 0)}(He),this):this._next(He)}error(He){this.isStopped?Nt(function be(se){return Me("E",void 0,se)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?Nt(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function Be(se,He){return ut.call(se,He)}class et{constructor(He){this.partialObserver=He}next(He){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(He)}catch($e){ke($e)}}error(He){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(He)}catch($e){ke($e)}else ke(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(Xe){ke(Xe)}}}class ft extends Ae{constructor(He,Xe,$e){let ze;if(super(),(0,p.m)(He)||!He)ze={next:null!=He?He:void 0,error:null!=Xe?Xe:void 0,complete:null!=$e?$e:void 0};else{let Se;this&&Q.v.useDeprecatedNextContext?(Se=Object.create(He),Se.unsubscribe=()=>this.unsubscribe(),ze={next:He.next&&Be(He.next,Se),error:He.error&&Be(He.error,Se),complete:He.complete&&Be(He.complete,Se)}):ze=He}this.destination=new et(ze)}}function ke(se){Q.v.useDeprecatedSynchronousErrorHandling?(0,oe.O)(se):(0,De.h)(se)}function Nt(se,He){const{onStoppedNotification:Xe}=Q.v;Xe&&ae.z.setTimeout(()=>Xe(se,He))}const yt={closed:!0,next:pe,error:function tt(se){throw se},complete:pe}},727:(kt,Ue,j)=>{j.d(Ue,{Lc:()=>he,w0:()=>pe,Nn:()=>be});var p=j(576);const Q=(0,j(3888).d)(Me=>function(oe){Me(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Ae,ut)=>`${ut+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var De=j(8737);class pe{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Be of oe)Be.remove(this);else oe.remove(this);const{initialTeardown:Ae}=this;if((0,p.m)(Ae))try{Ae()}catch(Be){ae=Be instanceof Q?Be.errors:[Be]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const Be of ut)try{Ce(Be)}catch(et){ae=null!=ae?ae:[],et instanceof Q?ae=[...ae,...et.errors]:ae.push(et)}}if(ae)throw new Q(ae)}}add(ae){var oe;if(ae&&ae!==this)if(this.closed)Ce(ae);else{if(ae instanceof pe){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(ae)}}_hasParent(ae){const{_parentage:oe}=this;return oe===ae||Array.isArray(oe)&&oe.includes(ae)}_addParent(ae){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(ae),oe):oe?[oe,ae]:ae}_removeParent(ae){const{_parentage:oe}=this;oe===ae?this._parentage=null:Array.isArray(oe)&&(0,De.P)(oe,ae)}remove(ae){const{_finalizers:oe}=this;oe&&(0,De.P)(oe,ae),ae instanceof pe&&ae._removeParent(this)}}pe.EMPTY=(()=>{const Me=new pe;return Me.closed=!0,Me})();const he=pe.EMPTY;function be(Me){return Me instanceof pe||Me&&"closed"in Me&&(0,p.m)(Me.remove)&&(0,p.m)(Me.add)&&(0,p.m)(Me.unsubscribe)}function Ce(Me){(0,p.m)(Me)?Me():Me.unsubscribe()}},2416:(kt,Ue,j)=>{j.d(Ue,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(kt,Ue,j)=>{j.d(Ue,{z:()=>pe});var p=j(8189),Q=j(7669),De=j(8996);function pe(...he){return function O(){return(0,p.J)(1)}()((0,De.D)(he,(0,Q.yG)(he)))}},515:(kt,Ue,j)=>{j.d(Ue,{E:()=>O});const O=new(j(8306).y)(pe=>pe.complete())},8996:(kt,Ue,j)=>{j.d(Ue,{D:()=>He});var p=j(8421),O=j(5363),Q=j(9468),he=j(8306),Ce=j(2202),Me=j(576),ae=j(9672);function Ae(Xe,$e){if(!Xe)throw new Error("Iterable cannot be null");return new he.y(ze=>{(0,ae.f)(ze,$e,()=>{const Se=Xe[Symbol.asyncIterator]();(0,ae.f)(ze,$e,()=>{Se.next().then(Ee=>{Ee.done?ze.complete():ze.next(Ee.value)})},0,!0)})})}var ut=j(3670),Be=j(8239),et=j(1144),ft=j(6495),ke=j(2206),tt=j(4532),Nt=j(3260);function He(Xe,$e){return $e?function se(Xe,$e){if(null!=Xe){if((0,ut.c)(Xe))return function De(Xe,$e){return(0,p.Xf)(Xe).pipe((0,Q.R)($e),(0,O.Q)($e))}(Xe,$e);if((0,et.z)(Xe))return function be(Xe,$e){return new he.y(ze=>{let Se=0;return $e.schedule(function(){Se===Xe.length?ze.complete():(ze.next(Xe[Se++]),ze.closed||this.schedule())})})}(Xe,$e);if((0,Be.t)(Xe))return function pe(Xe,$e){return(0,p.Xf)(Xe).pipe((0,Q.R)($e),(0,O.Q)($e))}(Xe,$e);if((0,ke.D)(Xe))return Ae(Xe,$e);if((0,ft.T)(Xe))return function oe(Xe,$e){return new he.y(ze=>{let Se;return(0,ae.f)(ze,$e,()=>{Se=Xe[Ce.h](),(0,ae.f)(ze,$e,()=>{let Ee,le;try{({value:Ee,done:le}=Se.next())}catch(Ve){return void ze.error(Ve)}le?ze.complete():ze.next(Ee)},0,!0)}),()=>(0,Me.m)(null==Se?void 0:Se.return)&&Se.return()})}(Xe,$e);if((0,Nt.L)(Xe))return function yt(Xe,$e){return Ae((0,Nt.Q)(Xe),$e)}(Xe,$e)}throw(0,tt.z)(Xe)}(Xe,$e):(0,p.Xf)(Xe)}},8421:(kt,Ue,j)=>{j.d(Ue,{Xf:()=>ut});var p=j(655),O=j(1144),Q=j(8239),De=j(8306),pe=j(3670),he=j(2206),be=j(4532),Ce=j(6495),Me=j(3260),ae=j(576),oe=j(7849),Ae=j(8822);function ut(se){if(se instanceof De.y)return se;if(null!=se){if((0,pe.c)(se))return function Be(se){return new De.y(He=>{const Xe=se[Ae.L]();if((0,ae.m)(Xe.subscribe))return Xe.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,O.z)(se))return function et(se){return new De.y(He=>{for(let Xe=0;Xe<se.length&&!He.closed;Xe++)He.next(se[Xe]);He.complete()})}(se);if((0,Q.t)(se))return function ft(se){return new De.y(He=>{se.then(Xe=>{He.closed||(He.next(Xe),He.complete())},Xe=>He.error(Xe)).then(null,oe.h)})}(se);if((0,he.D)(se))return tt(se);if((0,Ce.T)(se))return function ke(se){return new De.y(He=>{for(const Xe of se)if(He.next(Xe),He.closed)return;He.complete()})}(se);if((0,Me.L)(se))return function Nt(se){return tt((0,Me.Q)(se))}(se)}throw(0,be.z)(se)}function tt(se){return new De.y(He=>{(function yt(se,He){var Xe,$e,ze,Se;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,p.KL)(se);!($e=yield Xe.next()).done;)if(He.next($e.value),He.closed)return}catch(Ee){ze={error:Ee}}finally{try{$e&&!$e.done&&(Se=Xe.return)&&(yield Se.call(Xe))}finally{if(ze)throw ze.error}}He.complete()})})(se,He).catch(Xe=>He.error(Xe))})}},6451:(kt,Ue,j)=>{j.d(Ue,{T:()=>he});var p=j(8189),O=j(8421),Q=j(515),De=j(7669),pe=j(8996);function he(...be){const Ce=(0,De.yG)(be),Me=(0,De._6)(be,1/0),ae=be;return ae.length?1===ae.length?(0,O.Xf)(ae[0]):(0,p.J)(Me)((0,pe.D)(ae,Ce)):Q.E}},9646:(kt,Ue,j)=>{j.d(Ue,{of:()=>Q});var p=j(7669),O=j(8996);function Q(...De){const pe=(0,p.yG)(De);return(0,O.D)(De,pe)}},5403:(kt,Ue,j)=>{j.d(Ue,{x:()=>O});var p=j(2961);function O(De,pe,he,be,Ce){return new Q(De,pe,he,be,Ce)}class Q extends p.Lv{constructor(pe,he,be,Ce,Me,ae){super(pe),this.onFinalize=Me,this.shouldUnsubscribe=ae,this._next=he?function(oe){try{he(oe)}catch(Ae){pe.error(Ae)}}:super._next,this._error=Ce?function(oe){try{Ce(oe)}catch(Ae){pe.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(oe){pe.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},4351:(kt,Ue,j)=>{j.d(Ue,{b:()=>Q});var p=j(5577),O=j(576);function Q(De,pe){return(0,O.m)(pe)?(0,p.z)(De,pe,1):(0,p.z)(De,1)}},6590:(kt,Ue,j)=>{j.d(Ue,{d:()=>Q});var p=j(4482),O=j(5403);function Q(De){return(0,p.e)((pe,he)=>{let be=!1;pe.subscribe((0,O.x)(he,Ce=>{be=!0,he.next(Ce)},()=>{be||he.next(De),he.complete()}))})}},9300:(kt,Ue,j)=>{j.d(Ue,{h:()=>Q});var p=j(4482),O=j(5403);function Q(De,pe){return(0,p.e)((he,be)=>{let Ce=0;he.subscribe((0,O.x)(be,Me=>De.call(pe,Me,Ce++)&&be.next(Me)))})}},590:(kt,Ue,j)=>{j.d(Ue,{P:()=>be});var p=j(6805),O=j(9300),Q=j(5698),De=j(6590),pe=j(8068),he=j(4671);function be(Ce,Me){const ae=arguments.length>=2;return oe=>oe.pipe(Ce?(0,O.h)((Ae,ut)=>Ce(Ae,ut,oe)):he.y,(0,Q.q)(1),ae?(0,De.d)(Me):(0,pe.T)(()=>new p.K))}},4004:(kt,Ue,j)=>{j.d(Ue,{U:()=>Q});var p=j(4482),O=j(5403);function Q(De,pe){return(0,p.e)((he,be)=>{let Ce=0;he.subscribe((0,O.x)(be,Me=>{be.next(De.call(pe,Me,Ce++))}))})}},8189:(kt,Ue,j)=>{j.d(Ue,{J:()=>Q});var p=j(5577),O=j(4671);function Q(De=1/0){return(0,p.z)(O.y,De)}},5577:(kt,Ue,j)=>{j.d(Ue,{z:()=>Ce});var p=j(4004),O=j(8421),Q=j(4482),De=j(9672),pe=j(5403),be=j(576);function Ce(Me,ae,oe=1/0){return(0,be.m)(ae)?Ce((Ae,ut)=>(0,p.U)((Be,et)=>ae(Ae,Be,ut,et))((0,O.Xf)(Me(Ae,ut))),oe):("number"==typeof ae&&(oe=ae),(0,Q.e)((Ae,ut)=>function he(Me,ae,oe,Ae,ut,Be,et,ft){const ke=[];let tt=0,Nt=0,yt=!1;const se=()=>{yt&&!ke.length&&!tt&&ae.complete()},He=$e=>tt<Ae?Xe($e):ke.push($e),Xe=$e=>{Be&&ae.next($e),tt++;let ze=!1;(0,O.Xf)(oe($e,Nt++)).subscribe((0,pe.x)(ae,Se=>{null==ut||ut(Se),Be?He(Se):ae.next(Se)},()=>{ze=!0},void 0,()=>{if(ze)try{for(tt--;ke.length&&tt<Ae;){const Se=ke.shift();et?(0,De.f)(ae,et,()=>Xe(Se)):Xe(Se)}se()}catch(Se){ae.error(Se)}}))};return Me.subscribe((0,pe.x)(ae,He,()=>{yt=!0,se()})),()=>{null==ft||ft()}}(Ae,ut,Me,oe)))}},5363:(kt,Ue,j)=>{j.d(Ue,{Q:()=>De});var p=j(9672),O=j(4482),Q=j(5403);function De(pe,he=0){return(0,O.e)((be,Ce)=>{be.subscribe((0,Q.x)(Ce,Me=>(0,p.f)(Ce,pe,()=>Ce.next(Me),he),()=>(0,p.f)(Ce,pe,()=>Ce.complete(),he),Me=>(0,p.f)(Ce,pe,()=>Ce.error(Me),he)))})}},5026:(kt,Ue,j)=>{j.d(Ue,{R:()=>De});var p=j(4482),O=j(5403);function Q(pe,he,be,Ce,Me){return(ae,oe)=>{let Ae=be,ut=he,Be=0;ae.subscribe((0,O.x)(oe,et=>{const ft=Be++;ut=Ae?pe(ut,et,ft):(Ae=!0,et),Ce&&oe.next(ut)},Me&&(()=>{Ae&&oe.next(ut),oe.complete()})))}}function De(pe,he){return(0,p.e)(Q(pe,he,arguments.length>=2,!0))}},3099:(kt,Ue,j)=>{j.d(Ue,{B:()=>he});var p=j(8996),O=j(5698),Q=j(7579),De=j(2961),pe=j(4482);function he(Ce={}){const{connector:Me=(()=>new Q.x),resetOnError:ae=!0,resetOnComplete:oe=!0,resetOnRefCountZero:Ae=!0}=Ce;return ut=>{let Be=null,et=null,ft=null,ke=0,tt=!1,Nt=!1;const yt=()=>{null==et||et.unsubscribe(),et=null},se=()=>{yt(),Be=ft=null,tt=Nt=!1},He=()=>{const Xe=Be;se(),null==Xe||Xe.unsubscribe()};return(0,pe.e)((Xe,$e)=>{ke++,!Nt&&!tt&&yt();const ze=ft=null!=ft?ft:Me();$e.add(()=>{ke--,0===ke&&!Nt&&!tt&&(et=be(He,Ae))}),ze.subscribe($e),Be||(Be=new De.Hp({next:Se=>ze.next(Se),error:Se=>{Nt=!0,yt(),et=be(se,ae,Se),ze.error(Se)},complete:()=>{tt=!0,yt(),et=be(se,oe),ze.complete()}}),(0,p.D)(Xe).subscribe(Be))})(ut)}}function be(Ce,Me,...ae){return!0===Me?(Ce(),null):!1===Me?null:Me(...ae).pipe((0,O.q)(1)).subscribe(()=>Ce())}},8675:(kt,Ue,j)=>{j.d(Ue,{O:()=>De});var p=j(7272),O=j(7669),Q=j(4482);function De(...pe){const he=(0,O.yG)(pe);return(0,Q.e)((be,Ce)=>{(he?(0,p.z)(pe,be,he):(0,p.z)(pe,be)).subscribe(Ce)})}},9468:(kt,Ue,j)=>{j.d(Ue,{R:()=>O});var p=j(4482);function O(Q,De=0){return(0,p.e)((pe,he)=>{he.add(Q.schedule(()=>pe.subscribe(he),De))})}},3900:(kt,Ue,j)=>{j.d(Ue,{w:()=>De});var p=j(8421),O=j(4482),Q=j(5403);function De(pe,he){return(0,O.e)((be,Ce)=>{let Me=null,ae=0,oe=!1;const Ae=()=>oe&&!Me&&Ce.complete();be.subscribe((0,Q.x)(Ce,ut=>{null==Me||Me.unsubscribe();let Be=0;const et=ae++;(0,p.Xf)(pe(ut,et)).subscribe(Me=(0,Q.x)(Ce,ft=>Ce.next(he?he(ut,ft,et,Be++):ft),()=>{Me=null,Ae()}))},()=>{oe=!0,Ae()}))})}},5698:(kt,Ue,j)=>{j.d(Ue,{q:()=>De});var p=j(515),O=j(4482),Q=j(5403);function De(pe){return pe<=0?()=>p.E:(0,O.e)((he,be)=>{let Ce=0;he.subscribe((0,Q.x)(be,Me=>{++Ce<=pe&&(be.next(Me),pe<=Ce&&be.complete())}))})}},8505:(kt,Ue,j)=>{j.d(Ue,{b:()=>pe});var p=j(576),O=j(4482),Q=j(5403),De=j(4671);function pe(he,be,Ce){const Me=(0,p.m)(he)||be||Ce?{next:he,error:be,complete:Ce}:he;return Me?(0,O.e)((ae,oe)=>{var Ae;null===(Ae=Me.subscribe)||void 0===Ae||Ae.call(Me);let ut=!0;ae.subscribe((0,Q.x)(oe,Be=>{var et;null===(et=Me.next)||void 0===et||et.call(Me,Be),oe.next(Be)},()=>{var Be;ut=!1,null===(Be=Me.complete)||void 0===Be||Be.call(Me),oe.complete()},Be=>{var et;ut=!1,null===(et=Me.error)||void 0===et||et.call(Me,Be),oe.error(Be)},()=>{var Be,et;ut&&(null===(Be=Me.unsubscribe)||void 0===Be||Be.call(Me)),null===(et=Me.finalize)||void 0===et||et.call(Me)}))}):De.y}},8068:(kt,Ue,j)=>{j.d(Ue,{T:()=>De});var p=j(6805),O=j(4482),Q=j(5403);function De(he=pe){return(0,O.e)((be,Ce)=>{let Me=!1;be.subscribe((0,Q.x)(Ce,ae=>{Me=!0,Ce.next(ae)},()=>Me?Ce.complete():Ce.error(he())))})}function pe(){return new p.K}},4408:(kt,Ue,j)=>{j.d(Ue,{o:()=>pe});var p=j(727);class O extends p.w0{constructor(be,Ce){super()}schedule(be,Ce=0){return this}}const Q={setInterval(he,be,...Ce){const{delegate:Me}=Q;return(null==Me?void 0:Me.setInterval)?Me.setInterval(he,be,...Ce):setInterval(he,be,...Ce)},clearInterval(he){const{delegate:be}=Q;return((null==be?void 0:be.clearInterval)||clearInterval)(he)},delegate:void 0};var De=j(8737);class pe extends O{constructor(be,Ce){super(be,Ce),this.scheduler=be,this.work=Ce,this.pending=!1}schedule(be,Ce=0){if(this.closed)return this;this.state=be;const Me=this.id,ae=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(ae,Me,Ce)),this.pending=!0,this.delay=Ce,this.id=this.id||this.requestAsyncId(ae,this.id,Ce),this}requestAsyncId(be,Ce,Me=0){return Q.setInterval(be.flush.bind(be,this),Me)}recycleAsyncId(be,Ce,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Ce;Q.clearInterval(Ce)}execute(be,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(be,Ce);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Ce){let ae,Me=!1;try{this.work(be)}catch(oe){Me=!0,ae=oe||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:be,scheduler:Ce}=this,{actions:Me}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(Me,this),null!=be&&(this.id=this.recycleAsyncId(Ce,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(kt,Ue,j)=>{j.d(Ue,{v:()=>Q});var p=j(6063);class O{constructor(pe,he=O.now){this.schedulerActionCtor=pe,this.now=he}schedule(pe,he=0,be){return new this.schedulerActionCtor(this,pe).schedule(be,he)}}O.now=p.l.now;class Q extends O{constructor(pe,he=O.now){super(pe,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(pe){const{actions:he}=this;if(this._active)return void he.push(pe);let be;this._active=!0;do{if(be=pe.execute(pe.state,pe.delay))break}while(pe=he.shift());if(this._active=!1,be){for(;pe=he.shift();)pe.unsubscribe();throw be}}}},4986:(kt,Ue,j)=>{j.d(Ue,{z:()=>Q});var p=j(4408);const Q=new(j(7565).v)(p.o)},6063:(kt,Ue,j)=>{j.d(Ue,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(kt,Ue,j)=>{j.d(Ue,{z:()=>p});const p={setTimeout(O,Q,...De){const{delegate:pe}=p;return(null==pe?void 0:pe.setTimeout)?pe.setTimeout(O,Q,...De):setTimeout(O,Q,...De)},clearTimeout(O){const{delegate:Q}=p;return((null==Q?void 0:Q.clearTimeout)||clearTimeout)(O)},delegate:void 0}},2202:(kt,Ue,j)=>{j.d(Ue,{h:()=>O});const O=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(kt,Ue,j)=>{j.d(Ue,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(kt,Ue,j)=>{j.d(Ue,{K:()=>O});const O=(0,j(3888).d)(Q=>function(){Q(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(kt,Ue,j)=>{j.d(Ue,{_6:()=>he,jO:()=>De,yG:()=>pe});var p=j(576);function Q(be){return be[be.length-1]}function De(be){return(0,p.m)(Q(be))?be.pop():void 0}function pe(be){return function O(be){return be&&(0,p.m)(be.schedule)}(Q(be))?be.pop():void 0}function he(be,Ce){return"number"==typeof Q(be)?be.pop():Ce}},4742:(kt,Ue,j)=>{j.d(Ue,{D:()=>pe});const{isArray:p}=Array,{getPrototypeOf:O,prototype:Q,keys:De}=Object;function pe(be){if(1===be.length){const Ce=be[0];if(p(Ce))return{args:Ce,keys:null};if(function he(be){return be&&"object"==typeof be&&O(be)===Q}(Ce)){const Me=De(Ce);return{args:Me.map(ae=>Ce[ae]),keys:Me}}}return{args:be,keys:null}}},8737:(kt,Ue,j)=>{function p(O,Q){if(O){const De=O.indexOf(Q);0<=De&&O.splice(De,1)}}j.d(Ue,{P:()=>p})},3888:(kt,Ue,j)=>{function p(O){const De=O(pe=>{Error.call(pe),pe.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}j.d(Ue,{d:()=>p})},1810:(kt,Ue,j)=>{function p(O,Q){return O.reduce((De,pe,he)=>(De[pe]=Q[he],De),{})}j.d(Ue,{n:()=>p})},2806:(kt,Ue,j)=>{j.d(Ue,{O:()=>De,x:()=>Q});var p=j(2416);let O=null;function Q(pe){if(p.v.useDeprecatedSynchronousErrorHandling){const he=!O;if(he&&(O={errorThrown:!1,error:null}),pe(),he){const{errorThrown:be,error:Ce}=O;if(O=null,be)throw Ce}}else pe()}function De(pe){p.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=pe)}},9672:(kt,Ue,j)=>{function p(O,Q,De,pe=0,he=!1){const be=Q.schedule(function(){De(),he?O.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(O.add(be),!he)return be}j.d(Ue,{f:()=>p})},4671:(kt,Ue,j)=>{function p(O){return O}j.d(Ue,{y:()=>p})},1144:(kt,Ue,j)=>{j.d(Ue,{z:()=>p});const p=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(kt,Ue,j)=>{j.d(Ue,{D:()=>O});var p=j(576);function O(Q){return Symbol.asyncIterator&&(0,p.m)(null==Q?void 0:Q[Symbol.asyncIterator])}},576:(kt,Ue,j)=>{function p(O){return"function"==typeof O}j.d(Ue,{m:()=>p})},3670:(kt,Ue,j)=>{j.d(Ue,{c:()=>Q});var p=j(8822),O=j(576);function Q(De){return(0,O.m)(De[p.L])}},6495:(kt,Ue,j)=>{j.d(Ue,{T:()=>Q});var p=j(2202),O=j(576);function Q(De){return(0,O.m)(null==De?void 0:De[p.h])}},8239:(kt,Ue,j)=>{j.d(Ue,{t:()=>O});var p=j(576);function O(Q){return(0,p.m)(null==Q?void 0:Q.then)}},3260:(kt,Ue,j)=>{j.d(Ue,{L:()=>De,Q:()=>Q});var p=j(655),O=j(576);function Q(pe){return(0,p.FC)(this,arguments,function*(){const be=pe.getReader();try{for(;;){const{value:Ce,done:Me}=yield(0,p.qq)(be.read());if(Me)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Ce)}}finally{be.releaseLock()}})}function De(pe){return(0,O.m)(null==pe?void 0:pe.getReader)}},4482:(kt,Ue,j)=>{j.d(Ue,{A:()=>O,e:()=>Q});var p=j(576);function O(De){return(0,p.m)(null==De?void 0:De.lift)}function Q(De){return pe=>{if(O(pe))return pe.lift(function(he){try{return De(he,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(kt,Ue,j)=>{j.d(Ue,{Z:()=>De});var p=j(4004);const{isArray:O}=Array;function De(pe){return(0,p.U)(he=>function Q(pe,he){return O(he)?pe(...he):pe(he)}(pe,he))}},7849:(kt,Ue,j)=>{j.d(Ue,{h:()=>Q});var p=j(2416),O=j(3410);function Q(De){O.z.setTimeout(()=>{const{onUnhandledError:pe}=p.v;if(!pe)throw De;pe(De)})}},4532:(kt,Ue,j)=>{function p(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ue,{z:()=>p})},655:(kt,Ue,j)=>{function De(Ee,le){var Ve={};for(var we in Ee)Object.prototype.hasOwnProperty.call(Ee,we)&&le.indexOf(we)<0&&(Ve[we]=Ee[we]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var lt=0;for(we=Object.getOwnPropertySymbols(Ee);lt<we.length;lt++)le.indexOf(we[lt])<0&&Object.prototype.propertyIsEnumerable.call(Ee,we[lt])&&(Ve[we[lt]]=Ee[we[lt]])}return Ve}function Ce(Ee,le,Ve,we){return new(Ve||(Ve=Promise))(function(Fe,Jt){function zt(At){try{wt(we.next(At))}catch(sn){Jt(sn)}}function Rt(At){try{wt(we.throw(At))}catch(sn){Jt(sn)}}function wt(At){At.done?Fe(At.value):function lt(Fe){return Fe instanceof Ve?Fe:new Ve(function(Jt){Jt(Fe)})}(At.value).then(zt,Rt)}wt((we=we.apply(Ee,le||[])).next())})}function ke(Ee){return this instanceof ke?(this.v=Ee,this):new ke(Ee)}function tt(Ee,le,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt,we=Ve.apply(Ee,le||[]),Fe=[];return lt={},Jt("next"),Jt("throw"),Jt("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function Jt(Vt){we[Vt]&&(lt[Vt]=function(wn){return new Promise(function($t,fn){Fe.push([Vt,wn,$t,fn])>1||zt(Vt,wn)})})}function zt(Vt,wn){try{!function Rt(Vt){Vt.value instanceof ke?Promise.resolve(Vt.value.v).then(wt,At):sn(Fe[0][2],Vt)}(we[Vt](wn))}catch($t){sn(Fe[0][3],$t)}}function wt(Vt){zt("next",Vt)}function At(Vt){zt("throw",Vt)}function sn(Vt,wn){Vt(wn),Fe.shift(),Fe.length&&zt(Fe[0][0],Fe[0][1])}}function yt(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,le=Ee[Symbol.asyncIterator];return le?le.call(Ee):(Ee=function Ae(Ee){var le="function"==typeof Symbol&&Symbol.iterator,Ve=le&&Ee[le],we=0;if(Ve)return Ve.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&we>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[we++],done:!Ee}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),Ve={},we("next"),we("throw"),we("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function we(Fe){Ve[Fe]=Ee[Fe]&&function(Jt){return new Promise(function(zt,Rt){!function lt(Fe,Jt,zt,Rt){Promise.resolve(Rt).then(function(wt){Fe({value:wt,done:zt})},Jt)}(zt,Rt,(Jt=Ee[Fe](Jt)).done,Jt.value)})}}}j.d(Ue,{FC:()=>tt,KL:()=>yt,_T:()=>De,mG:()=>Ce,qq:()=>ke})},9808:(kt,Ue,j)=>{j.d(Ue,{Do:()=>se,EM:()=>ms,HT:()=>pe,JF:()=>_r,K0:()=>be,Mx:()=>Ai,O5:()=>Ie,Ov:()=>Xi,PM:()=>wr,S$:()=>ke,V_:()=>ae,Ye:()=>He,b0:()=>yt,bD:()=>Wr,ez:()=>fs,gd:()=>hi,lw:()=>Ce,mk:()=>Ui,mr:()=>Nt,q:()=>Q,sg:()=>kr,uU:()=>Ts,w_:()=>he});var p=j(5e3);let O=null;function Q(){return O}function pe(N){O||(O=N)}class he{}const be=new p.OlP("DocumentToken");let Ce=(()=>{class N{historyGo(P){throw new Error("Not implemented")}}return N.\u0275fac=function(P){return new(P||N)},N.\u0275prov=p.Yz7({token:N,factory:function(){return function Me(){return(0,p.LFG)(oe)}()},providedIn:"platform"}),N})();const ae=new p.OlP("Location Initialized");let oe=(()=>{class N extends Ce{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(P){const Y=Q().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",P,!1),()=>Y.removeEventListener("popstate",P)}onHashChange(P){const Y=Q().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",P,!1),()=>Y.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,Y,ce){Ae()?this._history.pushState(P,Y,ce):this.location.hash=ce}replaceState(P,Y,ce){Ae()?this._history.replaceState(P,Y,ce):this.location.hash=ce}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return N.\u0275fac=function(P){return new(P||N)(p.LFG(be))},N.\u0275prov=p.Yz7({token:N,factory:function(){return function ut(){return new oe((0,p.LFG)(be))}()},providedIn:"platform"}),N})();function Ae(){return!!window.history.pushState}function Be(N,W){if(0==N.length)return W;if(0==W.length)return N;let P=0;return N.endsWith("/")&&P++,W.startsWith("/")&&P++,2==P?N+W.substring(1):1==P?N+W:N+"/"+W}function et(N){const W=N.match(/#|\?|$/),P=W&&W.index||N.length;return N.slice(0,P-("/"===N[P-1]?1:0))+N.slice(P)}function ft(N){return N&&"?"!==N[0]?"?"+N:N}let ke=(()=>{class N{historyGo(P){throw new Error("Not implemented")}}return N.\u0275fac=function(P){return new(P||N)},N.\u0275prov=p.Yz7({token:N,factory:function(){return function tt(N){const W=(0,p.LFG)(be).location;return new yt((0,p.LFG)(Ce),W&&W.origin||"")}()},providedIn:"root"}),N})();const Nt=new p.OlP("appBaseHref");let yt=(()=>{class N extends ke{constructor(P,Y){if(super(),this._platformLocation=P,this._removeListenerFns=[],null==Y&&(Y=this._platformLocation.getBaseHrefFromDOM()),null==Y)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Y}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return Be(this._baseHref,P)}path(P=!1){const Y=this._platformLocation.pathname+ft(this._platformLocation.search),ce=this._platformLocation.hash;return ce&&P?`${Y}${ce}`:Y}pushState(P,Y,ce,Ze){const Ye=this.prepareExternalUrl(ce+ft(Ze));this._platformLocation.pushState(P,Y,Ye)}replaceState(P,Y,ce,Ze){const Ye=this.prepareExternalUrl(ce+ft(Ze));this._platformLocation.replaceState(P,Y,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Y,ce;null===(ce=(Y=this._platformLocation).historyGo)||void 0===ce||ce.call(Y,P)}}return N.\u0275fac=function(P){return new(P||N)(p.LFG(Ce),p.LFG(Nt,8))},N.\u0275prov=p.Yz7({token:N,factory:N.\u0275fac}),N})(),se=(()=>{class N extends ke{constructor(P,Y){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(P){const Y=Be(this._baseHref,P);return Y.length>0?"#"+Y:Y}pushState(P,Y,ce,Ze){let Ye=this.prepareExternalUrl(ce+ft(Ze));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.pushState(P,Y,Ye)}replaceState(P,Y,ce,Ze){let Ye=this.prepareExternalUrl(ce+ft(Ze));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.replaceState(P,Y,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Y,ce;null===(ce=(Y=this._platformLocation).historyGo)||void 0===ce||ce.call(Y,P)}}return N.\u0275fac=function(P){return new(P||N)(p.LFG(Ce),p.LFG(Nt,8))},N.\u0275prov=p.Yz7({token:N,factory:N.\u0275fac}),N})(),He=(()=>{class N{constructor(P,Y){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=P;const ce=this._platformStrategy.getBaseHref();this._platformLocation=Y,this._baseHref=et(ze(ce)),this._platformStrategy.onPopState(Ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ze.state,type:Ze.type})})}path(P=!1){return this.normalize(this._platformStrategy.path(P))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(P,Y=""){return this.path()==this.normalize(P+ft(Y))}normalize(P){return N.stripTrailingSlash(function $e(N,W){return N&&W.startsWith(N)?W.substring(N.length):W}(this._baseHref,ze(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._platformStrategy.prepareExternalUrl(P)}go(P,Y="",ce=null){this._platformStrategy.pushState(ce,"",P,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+ft(Y)),ce)}replaceState(P,Y="",ce=null){this._platformStrategy.replaceState(ce,"",P,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+ft(Y)),ce)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(P=0){var Y,ce;null===(ce=(Y=this._platformStrategy).historyGo)||void 0===ce||ce.call(Y,P)}onUrlChange(P){this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)}))}_notifyUrlChangeListeners(P="",Y){this._urlChangeListeners.forEach(ce=>ce(P,Y))}subscribe(P,Y,ce){return this._subject.subscribe({next:P,error:Y,complete:ce})}}return N.normalizeQueryParams=ft,N.joinWithSlash=Be,N.stripTrailingSlash=et,N.\u0275fac=function(P){return new(P||N)(p.LFG(ke),p.LFG(Ce))},N.\u0275prov=p.Yz7({token:N,factory:function(){return function Xe(){return new He((0,p.LFG)(ke),(0,p.LFG)(Ce))}()},providedIn:"root"}),N})();function ze(N){return N.replace(/\/index.html$/,"")}var Ve=(()=>((Ve=Ve||{})[Ve.Format=0]="Format",Ve[Ve.Standalone=1]="Standalone",Ve))(),we=(()=>((we=we||{})[we.Narrow=0]="Narrow",we[we.Abbreviated=1]="Abbreviated",we[we.Wide=2]="Wide",we[we.Short=3]="Short",we))(),lt=(()=>((lt=lt||{})[lt.Short=0]="Short",lt[lt.Medium=1]="Medium",lt[lt.Long=2]="Long",lt[lt.Full=3]="Full",lt))(),Fe=(()=>((Fe=Fe||{})[Fe.Decimal=0]="Decimal",Fe[Fe.Group=1]="Group",Fe[Fe.List=2]="List",Fe[Fe.PercentSign=3]="PercentSign",Fe[Fe.PlusSign=4]="PlusSign",Fe[Fe.MinusSign=5]="MinusSign",Fe[Fe.Exponential=6]="Exponential",Fe[Fe.SuperscriptingExponent=7]="SuperscriptingExponent",Fe[Fe.PerMille=8]="PerMille",Fe[Fe.Infinity=9]="Infinity",Fe[Fe.NaN=10]="NaN",Fe[Fe.TimeSeparator=11]="TimeSeparator",Fe[Fe.CurrencyDecimal=12]="CurrencyDecimal",Fe[Fe.CurrencyGroup=13]="CurrencyGroup",Fe))();function $t(N,W){return kn((0,p.cg1)(N)[p.wAp.DateFormat],W)}function fn(N,W){return kn((0,p.cg1)(N)[p.wAp.TimeFormat],W)}function an(N,W){return kn((0,p.cg1)(N)[p.wAp.DateTimeFormat],W)}function vn(N,W){const P=(0,p.cg1)(N),Y=P[p.wAp.NumberSymbols][W];if(void 0===Y){if(W===Fe.CurrencyDecimal)return P[p.wAp.NumberSymbols][Fe.Decimal];if(W===Fe.CurrencyGroup)return P[p.wAp.NumberSymbols][Fe.Group]}return Y}function ur(N){if(!N[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${N[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kn(N,W){for(let P=W;P>-1;P--)if(void 0!==N[P])return N[P];throw new Error("Locale data API: locale data undefined")}function pn(N){const[W,P]=N.split(":");return{hours:+W,minutes:+P}}const fe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_e={},ct=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xe=(()=>((xe=xe||{})[xe.Short=0]="Short",xe[xe.ShortGMT=1]="ShortGMT",xe[xe.Long=2]="Long",xe[xe.Extended=3]="Extended",xe))(),st=(()=>((st=st||{})[st.FullYear=0]="FullYear",st[st.Month=1]="Month",st[st.Date=2]="Date",st[st.Hours=3]="Hours",st[st.Minutes=4]="Minutes",st[st.Seconds=5]="Seconds",st[st.FractionalSeconds=6]="FractionalSeconds",st[st.Day=7]="Day",st))(),bt=(()=>((bt=bt||{})[bt.DayPeriods=0]="DayPeriods",bt[bt.Days=1]="Days",bt[bt.Months=2]="Months",bt[bt.Eras=3]="Eras",bt))();function In(N,W,P,Y){let ce=function dn(N){if(Dn(N))return N;if("number"==typeof N&&!isNaN(N))return new Date(N);if("string"==typeof N){if(N=N.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(N)){const[ce,Ze=1,Ye=1]=N.split("-").map(Dt=>+Dt);return mn(ce,Ze-1,Ye)}const P=parseFloat(N);if(!isNaN(N-P))return new Date(P);let Y;if(Y=N.match(fe))return function Xt(N){const W=new Date(0);let P=0,Y=0;const ce=N[8]?W.setUTCFullYear:W.setFullYear,Ze=N[8]?W.setUTCHours:W.setHours;N[9]&&(P=Number(N[9]+N[10]),Y=Number(N[9]+N[11])),ce.call(W,Number(N[1]),Number(N[2])-1,Number(N[3]));const Ye=Number(N[4]||0)-P,Dt=Number(N[5]||0)-Y,Fn=Number(N[6]||0),An=Math.floor(1e3*parseFloat("0."+(N[7]||0)));return Ze.call(W,Ye,Dt,Fn,An),W}(Y)}const W=new Date(N);if(!Dn(W))throw new Error(`Unable to convert "${N}" into a date`);return W}(N);W=on(P,W)||W;let Dt,Ye=[];for(;W;){if(Dt=ct.exec(W),!Dt){Ye.push(W);break}{Ye=Ye.concat(Dt.slice(1));const hn=Ye.pop();if(!hn)break;W=hn}}let Fn=ce.getTimezoneOffset();Y&&(Fn=Oe(Y,Fn),ce=function qt(N,W,P){const Y=P?-1:1,ce=N.getTimezoneOffset();return function Ct(N,W){return(N=new Date(N.getTime())).setMinutes(N.getMinutes()+W),N}(N,Y*(Oe(W,ce)-ce))}(ce,Y,!0));let An="";return Ye.forEach(hn=>{const Sn=function qe(N){if(me[N])return me[N];let W;switch(N){case"G":case"GG":case"GGG":W=yn(bt.Eras,we.Abbreviated);break;case"GGGG":W=yn(bt.Eras,we.Wide);break;case"GGGGG":W=yn(bt.Eras,we.Narrow);break;case"y":W=It(st.FullYear,1,0,!1,!0);break;case"yy":W=It(st.FullYear,2,0,!0,!0);break;case"yyy":W=It(st.FullYear,3,0,!1,!0);break;case"yyyy":W=It(st.FullYear,4,0,!1,!0);break;case"Y":W=ie(1);break;case"YY":W=ie(2,!0);break;case"YYY":W=ie(3);break;case"YYYY":W=ie(4);break;case"M":case"L":W=It(st.Month,1,1);break;case"MM":case"LL":W=It(st.Month,2,1);break;case"MMM":W=yn(bt.Months,we.Abbreviated);break;case"MMMM":W=yn(bt.Months,we.Wide);break;case"MMMMM":W=yn(bt.Months,we.Narrow);break;case"LLL":W=yn(bt.Months,we.Abbreviated,Ve.Standalone);break;case"LLLL":W=yn(bt.Months,we.Wide,Ve.Standalone);break;case"LLLLL":W=yn(bt.Months,we.Narrow,Ve.Standalone);break;case"w":W=ue(1);break;case"ww":W=ue(2);break;case"W":W=ue(1,!0);break;case"d":W=It(st.Date,1);break;case"dd":W=It(st.Date,2);break;case"c":case"cc":W=It(st.Day,1);break;case"ccc":W=yn(bt.Days,we.Abbreviated,Ve.Standalone);break;case"cccc":W=yn(bt.Days,we.Wide,Ve.Standalone);break;case"ccccc":W=yn(bt.Days,we.Narrow,Ve.Standalone);break;case"cccccc":W=yn(bt.Days,we.Short,Ve.Standalone);break;case"E":case"EE":case"EEE":W=yn(bt.Days,we.Abbreviated);break;case"EEEE":W=yn(bt.Days,we.Wide);break;case"EEEEE":W=yn(bt.Days,we.Narrow);break;case"EEEEEE":W=yn(bt.Days,we.Short);break;case"a":case"aa":case"aaa":W=yn(bt.DayPeriods,we.Abbreviated);break;case"aaaa":W=yn(bt.DayPeriods,we.Wide);break;case"aaaaa":W=yn(bt.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":W=yn(bt.DayPeriods,we.Abbreviated,Ve.Standalone,!0);break;case"bbbb":W=yn(bt.DayPeriods,we.Wide,Ve.Standalone,!0);break;case"bbbbb":W=yn(bt.DayPeriods,we.Narrow,Ve.Standalone,!0);break;case"B":case"BB":case"BBB":W=yn(bt.DayPeriods,we.Abbreviated,Ve.Format,!0);break;case"BBBB":W=yn(bt.DayPeriods,we.Wide,Ve.Format,!0);break;case"BBBBB":W=yn(bt.DayPeriods,we.Narrow,Ve.Format,!0);break;case"h":W=It(st.Hours,1,-12);break;case"hh":W=It(st.Hours,2,-12);break;case"H":W=It(st.Hours,1);break;case"HH":W=It(st.Hours,2);break;case"m":W=It(st.Minutes,1);break;case"mm":W=It(st.Minutes,2);break;case"s":W=It(st.Seconds,1);break;case"ss":W=It(st.Seconds,2);break;case"S":W=It(st.FractionalSeconds,1);break;case"SS":W=It(st.FractionalSeconds,2);break;case"SSS":W=It(st.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":W=Ge(xe.Short);break;case"ZZZZZ":W=Ge(xe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":W=Ge(xe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":W=Ge(xe.Long);break;default:return null}return me[N]=W,W}(hn);An+=Sn?Sn(ce,P,Fn):"''"===hn?"'":hn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),An}function mn(N,W,P){const Y=new Date(0);return Y.setFullYear(N,W,P),Y.setHours(0,0,0),Y}function on(N,W){const P=function zt(N){return(0,p.cg1)(N)[p.wAp.LocaleId]}(N);if(_e[P]=_e[P]||{},_e[P][W])return _e[P][W];let Y="";switch(W){case"shortDate":Y=$t(N,lt.Short);break;case"mediumDate":Y=$t(N,lt.Medium);break;case"longDate":Y=$t(N,lt.Long);break;case"fullDate":Y=$t(N,lt.Full);break;case"shortTime":Y=fn(N,lt.Short);break;case"mediumTime":Y=fn(N,lt.Medium);break;case"longTime":Y=fn(N,lt.Long);break;case"fullTime":Y=fn(N,lt.Full);break;case"short":const ce=on(N,"shortTime"),Ze=on(N,"shortDate");Y=Yr(an(N,lt.Short),[ce,Ze]);break;case"medium":const Ye=on(N,"mediumTime"),Dt=on(N,"mediumDate");Y=Yr(an(N,lt.Medium),[Ye,Dt]);break;case"long":const Fn=on(N,"longTime"),An=on(N,"longDate");Y=Yr(an(N,lt.Long),[Fn,An]);break;case"full":const hn=on(N,"fullTime"),Sn=on(N,"fullDate");Y=Yr(an(N,lt.Full),[hn,Sn])}return Y&&(_e[P][W]=Y),Y}function Yr(N,W){return W&&(N=N.replace(/\{([^}]+)}/g,function(P,Y){return null!=W&&Y in W?W[Y]:P})),N}function lr(N,W,P="-",Y,ce){let Ze="";(N<0||ce&&N<=0)&&(ce?N=1-N:(N=-N,Ze=P));let Ye=String(N);for(;Ye.length<W;)Ye="0"+Ye;return Y&&(Ye=Ye.substr(Ye.length-W)),Ze+Ye}function It(N,W,P=0,Y=!1,ce=!1){return function(Ze,Ye){let Dt=function Rn(N,W){switch(N){case st.FullYear:return W.getFullYear();case st.Month:return W.getMonth();case st.Date:return W.getDate();case st.Hours:return W.getHours();case st.Minutes:return W.getMinutes();case st.Seconds:return W.getSeconds();case st.FractionalSeconds:return W.getMilliseconds();case st.Day:return W.getDay();default:throw new Error(`Unknown DateType value "${N}".`)}}(N,Ze);if((P>0||Dt>-P)&&(Dt+=P),N===st.Hours)0===Dt&&-12===P&&(Dt=12);else if(N===st.FractionalSeconds)return function Un(N,W){return lr(N,3).substr(0,W)}(Dt,W);const Fn=vn(Ye,Fe.MinusSign);return lr(Dt,W,Fn,Y,ce)}}function yn(N,W,P=Ve.Format,Y=!1){return function(ce,Ze){return function Lt(N,W,P,Y,ce,Ze){switch(P){case bt.Months:return function At(N,W,P){const Y=(0,p.cg1)(N),Ze=kn([Y[p.wAp.MonthsFormat],Y[p.wAp.MonthsStandalone]],W);return kn(Ze,P)}(W,ce,Y)[N.getMonth()];case bt.Days:return function wt(N,W,P){const Y=(0,p.cg1)(N),Ze=kn([Y[p.wAp.DaysFormat],Y[p.wAp.DaysStandalone]],W);return kn(Ze,P)}(W,ce,Y)[N.getDay()];case bt.DayPeriods:const Ye=N.getHours(),Dt=N.getMinutes();if(Ze){const An=function Jn(N){const W=(0,p.cg1)(N);return ur(W),(W[p.wAp.ExtraData][2]||[]).map(Y=>"string"==typeof Y?pn(Y):[pn(Y[0]),pn(Y[1])])}(W),hn=function Ht(N,W,P){const Y=(0,p.cg1)(N);ur(Y);const Ze=kn([Y[p.wAp.ExtraData][0],Y[p.wAp.ExtraData][1]],W)||[];return kn(Ze,P)||[]}(W,ce,Y),Sn=An.findIndex(Ar=>{if(Array.isArray(Ar)){const[Kn,rr]=Ar,Oi=Ye>=Kn.hours&&Dt>=Kn.minutes,ai=Ye<rr.hours||Ye===rr.hours&&Dt<rr.minutes;if(Kn.hours<rr.hours){if(Oi&&ai)return!0}else if(Oi||ai)return!0}else if(Ar.hours===Ye&&Ar.minutes===Dt)return!0;return!1});if(-1!==Sn)return hn[Sn]}return function Rt(N,W,P){const Y=(0,p.cg1)(N),Ze=kn([Y[p.wAp.DayPeriodsFormat],Y[p.wAp.DayPeriodsStandalone]],W);return kn(Ze,P)}(W,ce,Y)[Ye<12?0:1];case bt.Eras:return function sn(N,W){return kn((0,p.cg1)(N)[p.wAp.Eras],W)}(W,Y)[N.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${P}`)}}(ce,Ze,N,W,P,Y)}}function Ge(N){return function(W,P,Y){const ce=-1*Y,Ze=vn(P,Fe.MinusSign),Ye=ce>0?Math.floor(ce/60):Math.ceil(ce/60);switch(N){case xe.Short:return(ce>=0?"+":"")+lr(Ye,2,Ze)+lr(Math.abs(ce%60),2,Ze);case xe.ShortGMT:return"GMT"+(ce>=0?"+":"")+lr(Ye,1,Ze);case xe.Long:return"GMT"+(ce>=0?"+":"")+lr(Ye,2,Ze)+":"+lr(Math.abs(ce%60),2,Ze);case xe.Extended:return 0===Y?"Z":(ce>=0?"+":"")+lr(Ye,2,Ze)+":"+lr(Math.abs(ce%60),2,Ze);default:throw new Error(`Unknown zone width "${N}"`)}}}function Kt(N){return mn(N.getFullYear(),N.getMonth(),N.getDate()+(4-N.getDay()))}function ue(N,W=!1){return function(P,Y){let ce;if(W){const Ze=new Date(P.getFullYear(),P.getMonth(),1).getDay()-1,Ye=P.getDate();ce=1+Math.floor((Ye+Ze)/7)}else{const Ze=Kt(P),Ye=function Cn(N){const W=mn(N,0,1).getDay();return mn(N,0,1+(W<=4?4:11)-W)}(Ze.getFullYear()),Dt=Ze.getTime()-Ye.getTime();ce=1+Math.round(Dt/6048e5)}return lr(ce,N,vn(Y,Fe.MinusSign))}}function ie(N,W=!1){return function(P,Y){return lr(Kt(P).getFullYear(),N,vn(Y,Fe.MinusSign),W)}}const me={};function Oe(N,W){N=N.replace(/:/g,"");const P=Date.parse("Jan 01, 1970 00:00:00 "+N)/6e4;return isNaN(P)?W:P}function Dn(N){return N instanceof Date&&!isNaN(N.valueOf())}function Ai(N,W){W=encodeURIComponent(W);for(const P of N.split(";")){const Y=P.indexOf("="),[ce,Ze]=-1==Y?[P,""]:[P.slice(0,Y),P.slice(Y+1)];if(ce.trim()===W)return decodeURIComponent(Ze)}return null}let Ui=(()=>{class N{constructor(P,Y,ce,Ze){this._iterableDiffers=P,this._keyValueDiffers=Y,this._ngEl=ce,this._renderer=Ze,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(P){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof P?P.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(P){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof P?P.split(/\s+/):P,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const P=this._iterableDiffer.diff(this._rawClass);P&&this._applyIterableChanges(P)}else if(this._keyValueDiffer){const P=this._keyValueDiffer.diff(this._rawClass);P&&this._applyKeyValueChanges(P)}}_applyKeyValueChanges(P){P.forEachAddedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),P.forEachChangedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),P.forEachRemovedItem(Y=>{Y.previousValue&&this._toggleClass(Y.key,!1)})}_applyIterableChanges(P){P.forEachAddedItem(Y=>{if("string"!=typeof Y.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(Y.item)}`);this._toggleClass(Y.item,!0)}),P.forEachRemovedItem(Y=>this._toggleClass(Y.item,!1))}_applyClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(Y=>this._toggleClass(Y,!0)):Object.keys(P).forEach(Y=>this._toggleClass(Y,!!P[Y])))}_removeClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(Y=>this._toggleClass(Y,!1)):Object.keys(P).forEach(Y=>this._toggleClass(Y,!1)))}_toggleClass(P,Y){(P=P.trim())&&P.split(/\s+/g).forEach(ce=>{Y?this._renderer.addClass(this._ngEl.nativeElement,ce):this._renderer.removeClass(this._ngEl.nativeElement,ce)})}}return N.\u0275fac=function(P){return new(P||N)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},N.\u0275dir=p.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),N})();class _i{constructor(W,P,Y,ce){this.$implicit=W,this.ngForOf=P,this.index=Y,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kr=(()=>{class N{constructor(P,Y,ce){this._viewContainer=P,this._template=Y,this._differs=ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const Y=this._viewContainer;P.forEachOperation((ce,Ze,Ye)=>{if(null==ce.previousIndex)Y.createEmbeddedView(this._template,new _i(ce.item,this._ngForOf,-1,-1),null===Ye?void 0:Ye);else if(null==Ye)Y.remove(null===Ze?void 0:Ze);else if(null!==Ze){const Dt=Y.get(Ze);Y.move(Dt,Ye),Tr(Dt,ce)}});for(let ce=0,Ze=Y.length;ce<Ze;ce++){const Dt=Y.get(ce).context;Dt.index=ce,Dt.count=Ze,Dt.ngForOf=this._ngForOf}P.forEachIdentityChange(ce=>{Tr(Y.get(ce.currentIndex),ce)})}static ngTemplateContextGuard(P,Y){return!0}}return N.\u0275fac=function(P){return new(P||N)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},N.\u0275dir=p.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),N})();function Tr(N,W){N.context.$implicit=W.item}let Ie=(()=>{class N{constructor(P,Y){this._viewContainer=P,this._context=new de,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Le("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Le("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Y){return!0}}return N.\u0275fac=function(P){return new(P||N)(p.Y36(p.s_b),p.Y36(p.Rgc))},N.\u0275dir=p.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),N})();class de{constructor(){this.$implicit=null,this.ngIf=null}}function Le(N,W){if(W&&!W.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,p.AaK)(W)}'.`)}function nr(N,W){return new p.vHH(2100,"")}class Ks{createSubscription(W,P){return W.subscribe({next:P,error:Y=>{throw Y}})}dispose(W){W.unsubscribe()}onDestroy(W){W.unsubscribe()}}class ao{createSubscription(W,P){return W.then(P,Y=>{throw Y})}dispose(W){}onDestroy(W){}}const vi=new ao,ss=new Ks;let Xi=(()=>{class N{constructor(P){this._ref=P,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(P){return this._obj?P!==this._obj?(this._dispose(),this.transform(P)):this._latestValue:(P&&this._subscribe(P),this._latestValue)}_subscribe(P){this._obj=P,this._strategy=this._selectStrategy(P),this._subscription=this._strategy.createSubscription(P,Y=>this._updateLatestValue(P,Y))}_selectStrategy(P){if((0,p.QGY)(P))return vi;if((0,p.F4k)(P))return ss;throw nr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(P,Y){P===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}}return N.\u0275fac=function(P){return new(P||N)(p.Y36(p.sBO,16))},N.\u0275pipe=p.Yjl({name:"async",type:N,pure:!1}),N})(),hi=(()=>{class N{transform(P){if(null==P)return null;if("string"!=typeof P)throw nr();return P.toUpperCase()}}return N.\u0275fac=function(P){return new(P||N)},N.\u0275pipe=p.Yjl({name:"uppercase",type:N,pure:!0}),N})();const wo=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ts=(()=>{class N{constructor(P,Y){this.locale=P,this.defaultTimezone=Y}transform(P,Y="mediumDate",ce,Ze){var Ye;if(null==P||""===P||P!=P)return null;try{return In(P,Y,Ze||this.locale,null!==(Ye=null!=ce?ce:this.defaultTimezone)&&void 0!==Ye?Ye:void 0)}catch(Dt){throw nr()}}}return N.\u0275fac=function(P){return new(P||N)(p.Y36(p.soG,16),p.Y36(wo,24))},N.\u0275pipe=p.Yjl({name:"date",type:N,pure:!0}),N})(),fs=(()=>{class N{}return N.\u0275fac=function(P){return new(P||N)},N.\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({}),N})();const Wr="browser";function wr(N){return"server"===N}let ms=(()=>{class N{}return N.\u0275prov=(0,p.Yz7)({token:N,providedIn:"root",factory:()=>new br((0,p.LFG)(be),window)}),N})();class br{constructor(W,P){this.document=W,this.window=P,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const P=function Ri(N,W){const P=N.getElementById(W)||N.getElementsByName(W)[0];if(P)return P;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const Y=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let ce=Y.currentNode;for(;ce;){const Ze=ce.shadowRoot;if(Ze){const Ye=Ze.getElementById(W)||Ze.querySelector(`[name="${W}"]`);if(Ye)return Ye}ce=Y.nextNode()}}return null}(this.document,W);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=W)}}scrollToElement(W){const P=W.getBoundingClientRect(),Y=P.left+this.window.pageXOffset,ce=P.top+this.window.pageYOffset,Ze=this.offset();this.window.scrollTo(Y-Ze[0],ce-Ze[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=Fr(this.window.history)||Fr(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch(W){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(W){return!1}}}function Fr(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class _r{}},520:(kt,Ue,j)=>{j.d(Ue,{JF:()=>pn,WM:()=>ae,eN:()=>Fe});var p=j(9808),O=j(5e3),Q=j(9646),De=j(8306),pe=j(4351),he=j(9300),be=j(4004);class Ce{}class Me{}class ae{constructor(fe){this.normalizedNames=new Map,this.lazyUpdate=null,fe?this.lazyInit="string"==typeof fe?()=>{this.headers=new Map,fe.split("\n").forEach(_e=>{const ct=_e.indexOf(":");if(ct>0){const xe=_e.slice(0,ct),st=xe.toLowerCase(),bt=_e.slice(ct+1).trim();this.maybeSetNormalizedName(xe,st),this.headers.has(st)?this.headers.get(st).push(bt):this.headers.set(st,[bt])}})}:()=>{this.headers=new Map,Object.keys(fe).forEach(_e=>{let ct=fe[_e];const xe=_e.toLowerCase();"string"==typeof ct&&(ct=[ct]),ct.length>0&&(this.headers.set(xe,ct),this.maybeSetNormalizedName(_e,xe))})}:this.headers=new Map}has(fe){return this.init(),this.headers.has(fe.toLowerCase())}get(fe){this.init();const _e=this.headers.get(fe.toLowerCase());return _e&&_e.length>0?_e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(fe){return this.init(),this.headers.get(fe.toLowerCase())||null}append(fe,_e){return this.clone({name:fe,value:_e,op:"a"})}set(fe,_e){return this.clone({name:fe,value:_e,op:"s"})}delete(fe,_e){return this.clone({name:fe,value:_e,op:"d"})}maybeSetNormalizedName(fe,_e){this.normalizedNames.has(_e)||this.normalizedNames.set(_e,fe)}init(){this.lazyInit&&(this.lazyInit instanceof ae?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(fe=>this.applyUpdate(fe)),this.lazyUpdate=null))}copyFrom(fe){fe.init(),Array.from(fe.headers.keys()).forEach(_e=>{this.headers.set(_e,fe.headers.get(_e)),this.normalizedNames.set(_e,fe.normalizedNames.get(_e))})}clone(fe){const _e=new ae;return _e.lazyInit=this.lazyInit&&this.lazyInit instanceof ae?this.lazyInit:this,_e.lazyUpdate=(this.lazyUpdate||[]).concat([fe]),_e}applyUpdate(fe){const _e=fe.name.toLowerCase();switch(fe.op){case"a":case"s":let ct=fe.value;if("string"==typeof ct&&(ct=[ct]),0===ct.length)return;this.maybeSetNormalizedName(fe.name,_e);const xe=("a"===fe.op?this.headers.get(_e):void 0)||[];xe.push(...ct),this.headers.set(_e,xe);break;case"d":const st=fe.value;if(st){let bt=this.headers.get(_e);if(!bt)return;bt=bt.filter(In=>-1===st.indexOf(In)),0===bt.length?(this.headers.delete(_e),this.normalizedNames.delete(_e)):this.headers.set(_e,bt)}else this.headers.delete(_e),this.normalizedNames.delete(_e)}}forEach(fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(_e=>fe(this.normalizedNames.get(_e),this.headers.get(_e)))}}class oe{encodeKey(fe){return et(fe)}encodeValue(fe){return et(fe)}decodeKey(fe){return decodeURIComponent(fe)}decodeValue(fe){return decodeURIComponent(fe)}}const ut=/%(\d[a-f0-9])/gi,Be={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function et(Qe){return encodeURIComponent(Qe).replace(ut,(fe,_e)=>{var ct;return null!==(ct=Be[_e])&&void 0!==ct?ct:fe})}function ft(Qe){return`${Qe}`}class ke{constructor(fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=fe.encoder||new oe,fe.fromString){if(fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ae(Qe,fe){const _e=new Map;return Qe.length>0&&Qe.replace(/^\?/,"").split("&").forEach(xe=>{const st=xe.indexOf("="),[bt,In]=-1==st?[fe.decodeKey(xe),""]:[fe.decodeKey(xe.slice(0,st)),fe.decodeValue(xe.slice(st+1))],mn=_e.get(bt)||[];mn.push(In),_e.set(bt,mn)}),_e}(fe.fromString,this.encoder)}else fe.fromObject?(this.map=new Map,Object.keys(fe.fromObject).forEach(_e=>{const ct=fe.fromObject[_e];this.map.set(_e,Array.isArray(ct)?ct:[ct])})):this.map=null}has(fe){return this.init(),this.map.has(fe)}get(fe){this.init();const _e=this.map.get(fe);return _e?_e[0]:null}getAll(fe){return this.init(),this.map.get(fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(fe,_e){return this.clone({param:fe,value:_e,op:"a"})}appendAll(fe){const _e=[];return Object.keys(fe).forEach(ct=>{const xe=fe[ct];Array.isArray(xe)?xe.forEach(st=>{_e.push({param:ct,value:st,op:"a"})}):_e.push({param:ct,value:xe,op:"a"})}),this.clone(_e)}set(fe,_e){return this.clone({param:fe,value:_e,op:"s"})}delete(fe,_e){return this.clone({param:fe,value:_e,op:"d"})}toString(){return this.init(),this.keys().map(fe=>{const _e=this.encoder.encodeKey(fe);return this.map.get(fe).map(ct=>_e+"="+this.encoder.encodeValue(ct)).join("&")}).filter(fe=>""!==fe).join("&")}clone(fe){const _e=new ke({encoder:this.encoder});return _e.cloneFrom=this.cloneFrom||this,_e.updates=(this.updates||[]).concat(fe),_e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(fe=>this.map.set(fe,this.cloneFrom.map.get(fe))),this.updates.forEach(fe=>{switch(fe.op){case"a":case"s":const _e=("a"===fe.op?this.map.get(fe.param):void 0)||[];_e.push(ft(fe.value)),this.map.set(fe.param,_e);break;case"d":if(void 0===fe.value){this.map.delete(fe.param);break}{let ct=this.map.get(fe.param)||[];const xe=ct.indexOf(ft(fe.value));-1!==xe&&ct.splice(xe,1),ct.length>0?this.map.set(fe.param,ct):this.map.delete(fe.param)}}}),this.cloneFrom=this.updates=null)}}class Nt{constructor(){this.map=new Map}set(fe,_e){return this.map.set(fe,_e),this}get(fe){return this.map.has(fe)||this.map.set(fe,fe.defaultValue()),this.map.get(fe)}delete(fe){return this.map.delete(fe),this}has(fe){return this.map.has(fe)}keys(){return this.map.keys()}}function se(Qe){return"undefined"!=typeof ArrayBuffer&&Qe instanceof ArrayBuffer}function He(Qe){return"undefined"!=typeof Blob&&Qe instanceof Blob}function Xe(Qe){return"undefined"!=typeof FormData&&Qe instanceof FormData}class ze{constructor(fe,_e,ct,xe){let st;if(this.url=_e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=fe.toUpperCase(),function yt(Qe){switch(Qe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||xe?(this.body=void 0!==ct?ct:null,st=xe):st=ct,st&&(this.reportProgress=!!st.reportProgress,this.withCredentials=!!st.withCredentials,st.responseType&&(this.responseType=st.responseType),st.headers&&(this.headers=st.headers),st.context&&(this.context=st.context),st.params&&(this.params=st.params)),this.headers||(this.headers=new ae),this.context||(this.context=new Nt),this.params){const bt=this.params.toString();if(0===bt.length)this.urlWithParams=_e;else{const In=_e.indexOf("?");this.urlWithParams=_e+(-1===In?"?":In<_e.length-1?"&":"")+bt}}else this.params=new ke,this.urlWithParams=_e}serializeBody(){return null===this.body?null:se(this.body)||He(this.body)||Xe(this.body)||function $e(Qe){return"undefined"!=typeof URLSearchParams&&Qe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xe(this.body)?null:He(this.body)?this.body.type||null:se(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(fe={}){var _e;const ct=fe.method||this.method,xe=fe.url||this.url,st=fe.responseType||this.responseType,bt=void 0!==fe.body?fe.body:this.body,In=void 0!==fe.withCredentials?fe.withCredentials:this.withCredentials,mn=void 0!==fe.reportProgress?fe.reportProgress:this.reportProgress;let on=fe.headers||this.headers,Yr=fe.params||this.params;const lr=null!==(_e=fe.context)&&void 0!==_e?_e:this.context;return void 0!==fe.setHeaders&&(on=Object.keys(fe.setHeaders).reduce((Un,It)=>Un.set(It,fe.setHeaders[It]),on)),fe.setParams&&(Yr=Object.keys(fe.setParams).reduce((Un,It)=>Un.set(It,fe.setParams[It]),Yr)),new ze(ct,xe,bt,{params:Yr,headers:on,context:lr,reportProgress:mn,responseType:st,withCredentials:In})}}var Se=(()=>((Se=Se||{})[Se.Sent=0]="Sent",Se[Se.UploadProgress=1]="UploadProgress",Se[Se.ResponseHeader=2]="ResponseHeader",Se[Se.DownloadProgress=3]="DownloadProgress",Se[Se.Response=4]="Response",Se[Se.User=5]="User",Se))();class Ee{constructor(fe,_e=200,ct="OK"){this.headers=fe.headers||new ae,this.status=void 0!==fe.status?fe.status:_e,this.statusText=fe.statusText||ct,this.url=fe.url||null,this.ok=this.status>=200&&this.status<300}}class le extends Ee{constructor(fe={}){super(fe),this.type=Se.ResponseHeader}clone(fe={}){return new le({headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}class Ve extends Ee{constructor(fe={}){super(fe),this.type=Se.Response,this.body=void 0!==fe.body?fe.body:null}clone(fe={}){return new Ve({body:void 0!==fe.body?fe.body:this.body,headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}class we extends Ee{constructor(fe){super(fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${fe.url||"(unknown url)"}`:`Http failure response for ${fe.url||"(unknown url)"}: ${fe.status} ${fe.statusText}`,this.error=fe.error||null}}function lt(Qe,fe){return{body:fe,headers:Qe.headers,context:Qe.context,observe:Qe.observe,params:Qe.params,reportProgress:Qe.reportProgress,responseType:Qe.responseType,withCredentials:Qe.withCredentials}}let Fe=(()=>{class Qe{constructor(_e){this.handler=_e}request(_e,ct,xe={}){let st;if(_e instanceof ze)st=_e;else{let mn,on;mn=xe.headers instanceof ae?xe.headers:new ae(xe.headers),xe.params&&(on=xe.params instanceof ke?xe.params:new ke({fromObject:xe.params})),st=new ze(_e,ct,void 0!==xe.body?xe.body:null,{headers:mn,context:xe.context,params:on,reportProgress:xe.reportProgress,responseType:xe.responseType||"json",withCredentials:xe.withCredentials})}const bt=(0,Q.of)(st).pipe((0,pe.b)(mn=>this.handler.handle(mn)));if(_e instanceof ze||"events"===xe.observe)return bt;const In=bt.pipe((0,he.h)(mn=>mn instanceof Ve));switch(xe.observe||"body"){case"body":switch(st.responseType){case"arraybuffer":return In.pipe((0,be.U)(mn=>{if(null!==mn.body&&!(mn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return mn.body}));case"blob":return In.pipe((0,be.U)(mn=>{if(null!==mn.body&&!(mn.body instanceof Blob))throw new Error("Response is not a Blob.");return mn.body}));case"text":return In.pipe((0,be.U)(mn=>{if(null!==mn.body&&"string"!=typeof mn.body)throw new Error("Response is not a string.");return mn.body}));default:return In.pipe((0,be.U)(mn=>mn.body))}case"response":return In;default:throw new Error(`Unreachable: unhandled observe type ${xe.observe}}`)}}delete(_e,ct={}){return this.request("DELETE",_e,ct)}get(_e,ct={}){return this.request("GET",_e,ct)}head(_e,ct={}){return this.request("HEAD",_e,ct)}jsonp(_e,ct){return this.request("JSONP",_e,{params:(new ke).append(ct,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(_e,ct={}){return this.request("OPTIONS",_e,ct)}patch(_e,ct,xe={}){return this.request("PATCH",_e,lt(xe,ct))}post(_e,ct,xe={}){return this.request("POST",_e,lt(xe,ct))}put(_e,ct,xe={}){return this.request("PUT",_e,lt(xe,ct))}}return Qe.\u0275fac=function(_e){return new(_e||Qe)(O.LFG(Ce))},Qe.\u0275prov=O.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();class Jt{constructor(fe,_e){this.next=fe,this.interceptor=_e}handle(fe){return this.interceptor.intercept(fe,this.next)}}const zt=new O.OlP("HTTP_INTERCEPTORS");let Rt=(()=>{class Qe{intercept(_e,ct){return ct.handle(_e)}}return Qe.\u0275fac=function(_e){return new(_e||Qe)},Qe.\u0275prov=O.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const vn=/^\)\]\}',?\n/;let Qn=(()=>{class Qe{constructor(_e){this.xhrFactory=_e}handle(_e){if("JSONP"===_e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new De.y(ct=>{const xe=this.xhrFactory.build();if(xe.open(_e.method,_e.urlWithParams),_e.withCredentials&&(xe.withCredentials=!0),_e.headers.forEach((It,Rn)=>xe.setRequestHeader(It,Rn.join(","))),_e.headers.has("Accept")||xe.setRequestHeader("Accept","application/json, text/plain, */*"),!_e.headers.has("Content-Type")){const It=_e.detectContentTypeHeader();null!==It&&xe.setRequestHeader("Content-Type",It)}if(_e.responseType){const It=_e.responseType.toLowerCase();xe.responseType="json"!==It?It:"text"}const st=_e.serializeBody();let bt=null;const In=()=>{if(null!==bt)return bt;const It=xe.statusText||"OK",Rn=new ae(xe.getAllResponseHeaders()),yn=function qn(Qe){return"responseURL"in Qe&&Qe.responseURL?Qe.responseURL:/^X-Request-URL:/m.test(Qe.getAllResponseHeaders())?Qe.getResponseHeader("X-Request-URL"):null}(xe)||_e.url;return bt=new le({headers:Rn,status:xe.status,statusText:It,url:yn}),bt},mn=()=>{let{headers:It,status:Rn,statusText:yn,url:Lt}=In(),Ge=null;204!==Rn&&(Ge=void 0===xe.response?xe.responseText:xe.response),0===Rn&&(Rn=Ge?200:0);let Tt=Rn>=200&&Rn<300;if("json"===_e.responseType&&"string"==typeof Ge){const Zt=Ge;Ge=Ge.replace(vn,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(Cn){Ge=Zt,Tt&&(Tt=!1,Ge={error:Cn,text:Ge})}}Tt?(ct.next(new Ve({body:Ge,headers:It,status:Rn,statusText:yn,url:Lt||void 0})),ct.complete()):ct.error(new we({error:Ge,headers:It,status:Rn,statusText:yn,url:Lt||void 0}))},on=It=>{const{url:Rn}=In(),yn=new we({error:It,status:xe.status||0,statusText:xe.statusText||"Unknown Error",url:Rn||void 0});ct.error(yn)};let Yr=!1;const lr=It=>{Yr||(ct.next(In()),Yr=!0);let Rn={type:Se.DownloadProgress,loaded:It.loaded};It.lengthComputable&&(Rn.total=It.total),"text"===_e.responseType&&!!xe.responseText&&(Rn.partialText=xe.responseText),ct.next(Rn)},Un=It=>{let Rn={type:Se.UploadProgress,loaded:It.loaded};It.lengthComputable&&(Rn.total=It.total),ct.next(Rn)};return xe.addEventListener("load",mn),xe.addEventListener("error",on),xe.addEventListener("timeout",on),xe.addEventListener("abort",on),_e.reportProgress&&(xe.addEventListener("progress",lr),null!==st&&xe.upload&&xe.upload.addEventListener("progress",Un)),xe.send(st),ct.next({type:Se.Sent}),()=>{xe.removeEventListener("error",on),xe.removeEventListener("abort",on),xe.removeEventListener("load",mn),xe.removeEventListener("timeout",on),_e.reportProgress&&(xe.removeEventListener("progress",lr),null!==st&&xe.upload&&xe.upload.removeEventListener("progress",Un)),xe.readyState!==xe.DONE&&xe.abort()}})}}return Qe.\u0275fac=function(_e){return new(_e||Qe)(O.LFG(p.JF))},Qe.\u0275prov=O.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const Vr=new O.OlP("XSRF_COOKIE_NAME"),er=new O.OlP("XSRF_HEADER_NAME");class cr{}let tr=(()=>{class Qe{constructor(_e,ct,xe){this.doc=_e,this.platform=ct,this.cookieName=xe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const _e=this.doc.cookie||"";return _e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(_e,this.cookieName),this.lastCookieString=_e),this.lastToken}}return Qe.\u0275fac=function(_e){return new(_e||Qe)(O.LFG(p.K0),O.LFG(O.Lbi),O.LFG(Vr))},Qe.\u0275prov=O.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})(),ur=(()=>{class Qe{constructor(_e,ct){this.tokenService=_e,this.headerName=ct}intercept(_e,ct){const xe=_e.url.toLowerCase();if("GET"===_e.method||"HEAD"===_e.method||xe.startsWith("http://")||xe.startsWith("https://"))return ct.handle(_e);const st=this.tokenService.getToken();return null!==st&&!_e.headers.has(this.headerName)&&(_e=_e.clone({headers:_e.headers.set(this.headerName,st)})),ct.handle(_e)}}return Qe.\u0275fac=function(_e){return new(_e||Qe)(O.LFG(cr),O.LFG(er))},Qe.\u0275prov=O.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})(),Jn=(()=>{class Qe{constructor(_e,ct){this.backend=_e,this.injector=ct,this.chain=null}handle(_e){if(null===this.chain){const ct=this.injector.get(zt,[]);this.chain=ct.reduceRight((xe,st)=>new Jt(xe,st),this.backend)}return this.chain.handle(_e)}}return Qe.\u0275fac=function(_e){return new(_e||Qe)(O.LFG(Me),O.LFG(O.zs3))},Qe.\u0275prov=O.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})(),kn=(()=>{class Qe{static disable(){return{ngModule:Qe,providers:[{provide:ur,useClass:Rt}]}}static withOptions(_e={}){return{ngModule:Qe,providers:[_e.cookieName?{provide:Vr,useValue:_e.cookieName}:[],_e.headerName?{provide:er,useValue:_e.headerName}:[]]}}}return Qe.\u0275fac=function(_e){return new(_e||Qe)},Qe.\u0275mod=O.oAB({type:Qe}),Qe.\u0275inj=O.cJS({providers:[ur,{provide:zt,useExisting:ur,multi:!0},{provide:cr,useClass:tr},{provide:Vr,useValue:"XSRF-TOKEN"},{provide:er,useValue:"X-XSRF-TOKEN"}]}),Qe})(),pn=(()=>{class Qe{}return Qe.\u0275fac=function(_e){return new(_e||Qe)},Qe.\u0275mod=O.oAB({type:Qe}),Qe.\u0275inj=O.cJS({providers:[Fe,{provide:Ce,useClass:Jn},Qn,{provide:Me,useExisting:Qn}],imports:[[kn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Qe})()},5e3:(kt,Ue,j)=>{j.d(Ue,{$8M:()=>Vo,$Z:()=>Lm,AFp:()=>lE,ALo:()=>R0,AaK:()=>Ce,CHM:()=>Ut,CRH:()=>j0,CZH:()=>mv,CqO:()=>Bm,EJc:()=>_b,EpF:()=>Um,F4k:()=>b_,FYo:()=>y0,FiY:()=>ra,G48:()=>Ub,GfV:()=>_0,Gpc:()=>oe,JOm:()=>Je,LFG:()=>xt,LSH:()=>ei,Lbi:()=>hE,MAs:()=>ef,MGl:()=>nc,NdJ:()=>Yp,O4$:()=>Po,OlP:()=>Gt,Oqu:()=>ff,PXZ:()=>Ob,Q6J:()=>Wp,QGY:()=>Kp,Qsj:()=>pw,R0b:()=>xu,RDi:()=>Fr,Rgc:()=>Tg,SBq:()=>bg,Sil:()=>Eb,Suo:()=>B0,TTD:()=>ji,TgZ:()=>qp,VLi:()=>Mb,W1O:()=>z0,X6Q:()=>Vb,XFs:()=>Ht,Xpm:()=>Kt,Y36:()=>tc,YKP:()=>b0,YNc:()=>xm,Yjl:()=>Xt,Yz7:()=>$t,ZZ4:()=>Mv,_Bn:()=>p0,_UZ:()=>of,_Vd:()=>_y,_c5:()=>tI,_uU:()=>Ym,aQg:()=>xv,c2e:()=>pE,cJS:()=>an,cg1:()=>mf,dDg:()=>yE,deG:()=>_l,dqk:()=>on,eFA:()=>EE,ekj:()=>hf,g9A:()=>dE,h0i:()=>If,hGG:()=>nI,hYB:()=>Jp,hij:()=>Va,iGM:()=>U0,ifc:()=>xe,ip1:()=>uE,kL8:()=>qc,kcU:()=>fa,lG2:()=>dn,lcZ:()=>O0,n5z:()=>Ps,oAB:()=>Oe,oxw:()=>kd,q4F:()=>v0,qLn:()=>ii,qOj:()=>Tp,qZA:()=>Yi,s9C:()=>uf,sBO:()=>Bb,sIi:()=>Jl,s_b:()=>wy,soG:()=>_v,tBr:()=>qs,tb:()=>fE,tp0:()=>Zs,uIk:()=>Jh,vHH:()=>et,vpe:()=>gl,wAp:()=>Pn,xi3:()=>P0,xp6:()=>Gf,z2F:()=>Iv,zSh:()=>fp,zs3:()=>Oa});var p=j(7579),O=j(727),Q=j(8306),De=j(6451),pe=j(3099);function he(n){for(let r in n)if(n[r]===he)return r;throw Error("Could not find renamed property on target object.")}function be(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Me(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ae=he({__forward_ref__:he});function oe(n){return n.__forward_ref__=oe,n.toString=function(){return Ce(this())},n}function Ae(n){return ut(n)?n():n}function ut(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===oe}class et extends Error{constructor(r,s){super(function ft(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function ke(n){return"string"==typeof n?n:null==n?"":String(n)}function tt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ke(n)}function He(n,r){const s=r?` in ${r}`:"";throw new et(-201,`No provider for ${tt(n)} found${s}`)}function wt(n,r){null==n&&function At(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function $t(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function an(n){return{providers:n.providers||[],imports:n.imports||[]}}function vn(n){return qn(n,cr)||qn(n,ur)}function qn(n,r){return n.hasOwnProperty(r)?n[r]:null}function er(n){return n&&(n.hasOwnProperty(tr)||n.hasOwnProperty(Jn))?n[tr]:null}const cr=he({\u0275prov:he}),tr=he({\u0275inj:he}),ur=he({ngInjectableDef:he}),Jn=he({ngInjectorDef:he});var Ht=(()=>((Ht=Ht||{})[Ht.Default=0]="Default",Ht[Ht.Host=1]="Host",Ht[Ht.Self=2]="Self",Ht[Ht.SkipSelf=4]="SkipSelf",Ht[Ht.Optional=8]="Optional",Ht))();let un;function pn(n){const r=un;return un=n,r}function Ur(n,r,s){const a=vn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ht.Optional?null:void 0!==r?r:void He(Ce(n),"Injector")}function Qe(n){return{toString:n}.toString()}var fe=(()=>((fe=fe||{})[fe.OnPush=0]="OnPush",fe[fe.Default=1]="Default",fe))(),xe=(()=>{return(n=xe||(xe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",xe;var n})();const st="undefined"!=typeof globalThis&&globalThis,bt="undefined"!=typeof window&&window,In="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,on=st||"undefined"!=typeof global&&global||bt||In,Un={},It=[],Rn=he({\u0275cmp:he}),yn=he({\u0275dir:he}),Lt=he({\u0275pipe:he}),Ge=he({\u0275mod:he}),Tt=he({\u0275fac:he}),Zt=he({__NG_ELEMENT_ID__:he});let Cn=0;function Kt(n){return Qe(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===fe.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||It,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||xe.Emulated,id:"c",styles:n.styles||It,_:null,setInput:null,schemas:n.schemas||null,tView:null},l=n.directives,h=n.features,_=n.pipes;return a.id+=Cn++,a.inputs=qt(n.inputs,s),a.outputs=qt(n.outputs),h&&h.forEach(w=>w(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(ie):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map(me):null,a})}function ie(n){return Dn(n)||function gr(n){return n[yn]||null}(n)}function me(n){return function ln(n){return n[Lt]||null}(n)}const qe={};function Oe(n){return Qe(()=>{const r={type:n.type,bootstrap:n.bootstrap||It,declarations:n.declarations||It,imports:n.imports||It,exports:n.exports||It,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(qe[n.id]=n.type),r})}function qt(n,r){if(null==n)return Un;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}const dn=Kt;function Xt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Dn(n){return n[Rn]||null}function or(n,r){const s=n[Ge]||null;if(!s&&!0===r)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return s}function pt(n){return Array.isArray(n)&&"object"==typeof n[1]}function Pt(n){return Array.isArray(n)&&!0===n[1]}function Xn(n){return 0!=(8&n.flags)}function Zn(n){return 2==(2&n.flags)}function Nn(n){return 1==(1&n.flags)}function jn(n){return null!==n.template}function Bi(n){return 0!=(512&n[2])}function Qr(n,r){return n.hasOwnProperty(Tt)?n[Tt]:null}class Jr{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ji(){return Hi}function Hi(n){return n.type.prototype.ngOnChanges&&(n.setInput=as),Ss}function Ss(){const n=Wr(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Un)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function as(n,r,s,a){const l=Wr(n)||function xi(n,r){return n[fs]=r}(n,{previous:Un,current:null}),h=l.current||(l.current={}),_=l.previous,w=this.declaredInputs[s],T=_[w];h[w]=new Jr(T&&T.currentValue,r,_===Un),n[a]=r}ji.ngInherit=!0;const fs="__ngSimpleChanges__";function Wr(n){return n[fs]||null}let br;function Fr(n){br=n}function _r(n){return!!n.listen}const N={createRenderer:(n,r)=>function Ri(){return void 0!==br?br:"undefined"!=typeof document?document:void 0}()};function P(n){for(;Array.isArray(n);)n=n[0];return n}function Ze(n,r){return P(r[n])}function Ye(n,r){return P(r[n.index])}function Fn(n,r){return n.data[r]}function An(n,r){return n[r]}function hn(n,r){const s=r[n];return pt(s)?s:s[0]}function Sn(n){return 4==(4&n[2])}function Ar(n){return 128==(128&n[2])}function rr(n,r){return null==r?null:n[r]}function Oi(n){n[18]=0}function ai(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const tn={lFrame:$s(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function F(){return tn.bindingsEnabled}function V(){return tn.lFrame.lView}function Pe(){return tn.lFrame.tView}function Ut(n){return tn.lFrame.contextLView=n,n[8]}function cn(){let n=ti();for(;null!==n&&64===n.type;)n=n.parent;return n}function ti(){return tn.lFrame.currentTNode}function ir(n,r){const s=tn.lFrame;s.currentTNode=n,s.isParent=r}function Ms(){return tn.lFrame.isParent}function ua(){return tn.isInCheckNoChangesMode}function uo(n){tn.isInCheckNoChangesMode=n}function Ir(){const n=tn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function js(){return tn.lFrame.bindingIndex++}function _s(n){const r=tn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function la(n,r){const s=tn.lFrame;s.bindingIndex=s.bindingRootIndex=n,Io(r)}function Io(n){tn.lFrame.currentDirectiveIndex=n}function Ko(){return tn.lFrame.currentQueryIndex}function Ba(n){tn.lFrame.currentQueryIndex=n}function Yo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function co(n,r,s){if(s&Ht.SkipSelf){let l=r,h=n;for(;!(l=l.parent,null!==l||s&Ht.Host||(l=Yo(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,n=h}const a=tn.lFrame=ca();return a.currentTNode=r,a.lView=n,!0}function Hs(n){const r=ca(),s=n[1];tn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ca(){const n=tn.lFrame,r=null===n?null:n.child;return null===r?$s(n):r}function $s(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function da(){const n=tn.lFrame;return tn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Rs=da;function ho(){const n=da();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zr(){return tn.lFrame.selectedIndex}function Co(n){tn.lFrame.selectedIndex=n}function zr(){const n=tn.lFrame;return Fn(n.tView,n.selectedIndex)}function Po(){tn.lFrame.currentNamespace="svg"}function fa(){!function Do(){tn.lFrame.currentNamespace=null}()}function ts(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:B,ngOnDestroy:q}=h;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),w&&((n.contentHooks||(n.contentHooks=[])).push(s,w),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,w)),T&&(n.viewHooks||(n.viewHooks=[])).push(-s,T),B&&((n.viewHooks||(n.viewHooks=[])).push(s,B),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,B)),null!=q&&(n.destroyHooks||(n.destroyHooks=[])).push(s,q)}}function To(n,r,s){bi(n,r,3,s)}function Jo(n,r,s,a){(3&n[2])===s&&bi(n,r,s,a)}function ni(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function bi(n,r,s,a){const h=null!=a?a:-1,_=r.length-1;let w=0;for(let T=void 0!==a?65535&n[18]:0;T<_;T++)if("number"==typeof r[T+1]){if(w=r[T],null!=a&&w>=a)break}else r[T]<0&&(n[18]+=65536),(w<h||-1==h)&&(au(n,s,r,T),n[18]=(4294901760&n[18])+T+2),T++}function au(n,r,s,a){const l=s[a]<0,h=s[a+1],w=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(w)}finally{}}}else try{h.call(w)}finally{}}class Os{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ko(n,r,s){const a=_r(n);let l=0;for(;l<s.length;){const h=s[l];if("number"==typeof h){if(0!==h)break;l++;const _=s[l++],w=s[l++],T=s[l++];a?n.setAttribute(r,w,T,_):r.setAttributeNS(_,w,T)}else{const _=h,w=s[++l];Gi(_)?a&&n.setProperty(r,_,w):a?n.setAttribute(r,_,w):r.setAttribute(_,w),l++}}return l}function vs(n){return 3===n||4===n||6===n}function Gi(n){return 64===n.charCodeAt(0)}function Fo(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Xo(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function Xo(n,r,s,a,l){let h=0,_=n.length;if(-1===r)_=-1;else for(;h<n.length;){const w=n[h++];if("number"==typeof w){if(w===r){_=-1;break}if(w>r){_=h-1;break}}}for(;h<n.length;){const w=n[h];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==l&&(n[h+1]=l));if(a===n[h+1])return void(n[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==_&&(n.splice(_,0,r),h=_+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==l&&n.splice(h++,0,l)}function Lo(n){return-1!==n}function Pr(n){return 32767&n}function Gs(n,r){let s=function lu(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let Ca=!0;function Es(n){const r=Ca;return Ca=n,r}let Ao=0;function So(n,r){const s=vt(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,eo(a.data,n),eo(r,null),eo(a.blueprint,null));const l=vr(n,r),h=n.injectorIndex;if(Lo(l)){const _=Pr(l),w=Gs(l,r),T=w[1].data;for(let B=0;B<8;B++)r[h+B]=w[_+B]|T[_+B]}return r[h+8]=l,h}function eo(n,r){n.push(0,0,0,0,0,0,0,0,r)}function vt(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function vr(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){const h=l[1],_=h.type;if(a=2===_?h.declTNode:1===_?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function b(n,r,s){!function ws(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Zt)&&(a=s[Zt]),null==a&&(a=s[Zt]=Ao++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function y(n,r,s){if(s&Ht.Optional)return n;He(r,"NodeInjector")}function A(n,r,s,a){if(s&Ht.Optional&&void 0===a&&(a=null),0==(s&(Ht.Self|Ht.Host))){const l=n[9],h=pn(void 0);try{return l?l.get(r,a,s&Ht.Optional):Ur(r,a,s&Ht.Optional)}finally{pn(h)}}return y(a,r,s)}function L(n,r,s,a=Ht.Default,l){if(null!==n){const h=function Hn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Zt)?n[Zt]:void 0;return"number"==typeof r?r>=0?255&r:z:r}(s);if("function"==typeof h){if(!co(r,n,a))return a&Ht.Host?y(l,s,a):A(r,s,a,l);try{const _=h(a);if(null!=_||a&Ht.Optional)return _;He(s)}finally{Rs()}}else if("number"==typeof h){let _=null,w=vt(n,r),T=-1,B=a&Ht.Host?r[16][6]:null;for((-1===w||a&Ht.SkipSelf)&&(T=-1===w?vr(n,r):r[w+8],-1!==T&&fr(a,!1)?(_=r[1],w=Pr(T),r=Gs(T,r)):w=-1);-1!==w;){const q=r[1];if(Yt(h,w,q.data)){const te=X(w,r,s,_,a,B);if(te!==$)return te}T=r[w+8],-1!==T&&fr(a,r[1].data[w+8]===B)&&Yt(h,w,r)?(_=q,w=Pr(T),r=Gs(T,r)):w=-1}}}return A(r,s,a,l)}const $={};function z(){return new $n(cn(),V())}function X(n,r,s,a,l,h){const _=r[1],w=_.data[n+8],q=je(w,_,s,null==a?Zn(w)&&Ca:a!=_&&0!=(3&w.type),l&Ht.Host&&h===w);return null!==q?Ot(r,_,q,w):$}function je(n,r,s,a,l){const h=n.providerIndexes,_=r.data,w=1048575&h,T=n.directiveStart,q=h>>20,ge=l?w+q:n.directiveEnd;for(let Ne=a?w:w+q;Ne<ge;Ne++){const it=_[Ne];if(Ne<T&&s===it||Ne>=T&&it.type===s)return Ne}if(l){const Ne=_[T];if(Ne&&jn(Ne)&&Ne.type===s)return T}return null}function Ot(n,r,s,a){let l=n[s];const h=r.data;if(function No(n){return n instanceof Os}(l)){const _=l;_.resolving&&function Nt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new et(-200,`Circular dependency in DI detected for ${n}${s}`)}(tt(h[s]));const w=Es(_.canSeeViewProviders);_.resolving=!0;const T=_.injectImpl?pn(_.injectImpl):null;co(n,a,Ht.Default);try{l=n[s]=_.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ba(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const _=Hi(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==T&&pn(T),Es(w),_.resolving=!1,Rs()}}return l}function Yt(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function fr(n,r){return!(n&Ht.Self||n&Ht.Host&&r)}class $n{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return L(this._tNode,this._lView,r,a,s)}}function Ps(n){return Qe(()=>{const r=n.prototype.constructor,s=r[Tt]||ls(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const h=l[Tt]||ls(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function ls(n){return ut(n)?()=>{const r=ls(Ae(n));return r&&r()}:Qr(n)}function Vo(n){return function E(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(vs(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(cn(),n)}const Xr="__parameters__";function to(n,r,s){return Qe(()=>{const a=function Ln(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const _=new l(...h);return w.annotation=_,w;function w(T,B,q){const te=T.hasOwnProperty(Xr)?T[Xr]:Object.defineProperty(T,Xr,{value:[]})[Xr];for(;te.length<=q;)te.push(null);return(te[q]=te[q]||[]).push(_),T}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Gt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=$t({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _l=new Gt("AnalyzeForEntryComponents");function ar(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),ar(a,r)):r!==n&&r.push(a)}return r}function Lr(n,r){n.forEach(s=>Array.isArray(s)?Lr(s,r):r(s))}function ri(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function zi(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ci(n,r,s){let a=no(n,r);return a>=0?n[1|a]=s:(a=~a,function Ii(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function cs(n,r){const s=no(n,r);if(s>=0)return n[1|s]}function no(n,r){return function vl(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const h=a+(l-a>>1),_=n[h<<s];if(r===_)return h<<s;_>r?l=h:a=h+1}return~(l<<s)}(n,r,1)}const na={},hu="__NG_DI_FLAG__",Pu="ngTempTokenPath",M=/\n/gm,K="__source",ne=he({provide:String,useValue:he});let Re;function We(n){const r=Re;return Re=n,r}function _t(n,r=Ht.Default){if(void 0===Re)throw new et(203,"");return null===Re?Ur(n,void 0,r):Re.get(n,r&Ht.Optional?null:void 0,r)}function xt(n,r=Ht.Default){return(function kn(){return un}()||_t)(Ae(n),r)}const On=xt;function pr(n){const r=[];for(let s=0;s<n.length;s++){const a=Ae(n[s]);if(Array.isArray(a)){if(0===a.length)throw new et(900,"");let l,h=Ht.Default;for(let _=0;_<a.length;_++){const w=a[_],T=Ns(w);"number"==typeof T?-1===T?l=w.token:h|=T:l=w}r.push(xt(l,h))}else r.push(xt(a))}return r}function gn(n,r){return n[hu]=r,n.prototype[hu]=r,n}function Ns(n){return n[hu]}const qs=gn(to("Inject",n=>({token:n})),-1),ra=gn(to("Optional"),8),Zs=gn(to("SkipSelf"),4);class Fu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function pa(n){return n instanceof Fu?n.changingThisBreaksApplicationSecurity:n}const Ka=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,th=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var sr=(()=>((sr=sr||{})[sr.NONE=0]="NONE",sr[sr.HTML=1]="HTML",sr[sr.STYLE=2]="STYLE",sr[sr.SCRIPT=3]="SCRIPT",sr[sr.URL=4]="URL",sr[sr.RESOURCE_URL=5]="RESOURCE_URL",sr))();function ei(n){const r=function Nl(){const n=V();return n&&n[12]}();return r?r.sanitize(sr.URL,n)||"":function Lu(n,r){const s=function nd(n){return n instanceof Fu&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?pa(n):function mu(n){return(n=String(n)).match(Ka)||n.match(th)?n:"unsafe:"+n}(ke(n))}const Eu="__ngContext__";function rs(n,r){n[Eu]=r}function vc(n){const r=function ga(n){return n[Eu]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Vl(n){return n.ngOriginalError}function $u(n,...r){n.error(...r)}class ii{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function lh(n){return n&&n.ngErrorLogger||$u}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Vl(r);for(;s&&Vl(s);)s=Vl(s);return s||null}}const Nf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(on))();function f(n){return n instanceof Function?n():n}var Je=(()=>((Je=Je||{})[Je.Important=1]="Important",Je[Je.DashCase=2]="DashCase",Je))();function en(n,r){return undefined(n,r)}function Ci(n){const r=n[3];return Pt(r)?r[3]:r}function jl(n){return bc(n[13])}function Qa(n){return bc(n[4])}function bc(n){for(;null!==n&&!Pt(n);)n=n[4];return n}function Ja(n,r,s,a,l){if(null!=a){let h,_=!1;Pt(a)?h=a:pt(a)&&(_=!0,a=a[0]);const w=P(a);0===n&&null!==s?null==l?rt(r,s,w):zu(r,s,w,l||null,!0):1===n&&null!==s?zu(r,s,w,l||null,!0):2===n?function _h(n,r,s){const a=ph(n,r);a&&function Sa(n,r,s,a){_r(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,w,_):3===n&&r.destroyNode(w),null!=h&&function vh(n,r,s,a,l){const h=s[7];h!==P(s)&&Ja(r,n,a,h,l);for(let w=10;w<s.length;w++){const T=s[w];Dc(T[1],T,n,r,a,h)}}(r,n,h,s,l)}}function Cc(n,r,s){if(_r(n))return n.createElement(r,s);{const a=null!==s?function ms(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Og(n,r){const s=n[9],a=s.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,ai(l,-1)),s.splice(a,1)}function Vf(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&Og(l,a),r>0&&(n[s-1][4]=a[4]);const h=zi(n,10+r);!function Ff(n,r){Dc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const _=h[19];null!==_&&_.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Pg(n,r){if(!(256&r[2])){const s=r[11];_r(s)&&s.destroyNode&&Dc(n,r,s,3,null,null),function Ay(n){let r=n[13];if(!r)return fh(n[1],n);for(;r;){let s=null;if(pt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)pt(r)&&fh(r[1],r),r=r[3];null===r&&(r=n),pt(r)&&fh(r[1],r),s=r&&r[4]}r=s}}(r)}}function fh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Ng(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Os)){const h=s[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const w=l[h[_]],T=h[_+1];try{T.call(w)}finally{}}else try{h.call(l)}finally{}}}}(n,r),function xy(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const _=s[h+1],w="function"==typeof _?_(r):P(r[_]),T=a[l=s[h+2]],B=s[h+3];"boolean"==typeof B?w.removeEventListener(s[h],T,B):B>=0?a[l=B]():a[l=-B].unsubscribe(),h+=2}else{const _=a[l=s[h+1]];s[h].call(_)}if(null!==a){for(let h=l+1;h<a.length;h++)a[h]();r[7]=null}}(n,r),1===r[1].type&&_r(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Pt(r[3])){s!==r[3]&&Og(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function kg(n,r,s){return function Uf(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===xe.None||l===xe.Emulated)return null}return Ye(a,s)}(n,r.parent,s)}function zu(n,r,s,a,l){_r(n)?n.insertBefore(r,s,a,l):r.insertBefore(s,a,l)}function rt(n,r,s){_r(n)?n.appendChild(r,s):r.appendChild(s)}function hd(n,r,s,a,l){null!==a?zu(n,r,s,a,l):rt(n,r,s)}function ph(n,r){return _r(n)?n.parentNode(r):r.parentNode}let qu=function Fg(n,r,s){return 40&n.type?Ye(n,s):null};function pd(n,r,s,a){const l=kg(n,a,r),h=r[11],w=function Wu(n,r,s){return qu(n,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let T=0;T<s.length;T++)hd(h,l,s[T],w,!1);else hd(h,l,s,w,!1)}function ds(n,r){if(null!==r){const s=r.type;if(3&s)return Ye(r,n);if(4&s)return gd(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return ds(n,a);{const l=n[r.index];return Pt(l)?gd(-1,l):P(l)}}if(32&s)return en(r,n)()||P(n[r.index]);{const a=yh(n,r);return null!==a?Array.isArray(a)?a[0]:ds(Ci(n[16]),a):ds(n,r.next)}}return null}function yh(n,r){return null!==r?n[16][6].projection[r.projection]:null}function gd(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return ds(a,l)}return r[7]}function Xa(n,r,s,a,l,h,_){for(;null!=s;){const w=a[s.index],T=s.type;if(_&&0===r&&(w&&rs(P(w),a),s.flags|=4),64!=(64&s.flags))if(8&T)Xa(n,r,s.child,a,l,h,!1),Ja(r,n,l,w,h);else if(32&T){const B=en(s,a);let q;for(;q=B();)Ja(r,n,l,q,h);Ja(r,n,l,w,h)}else 16&T?Bf(n,r,a,s,l,h):Ja(r,n,l,w,h);s=_?s.projectionNext:s.next}}function Dc(n,r,s,a,l,h){Xa(s,a,n.firstChild,r,l,h,!1)}function Bf(n,r,s,a,l,h){const _=s[16],T=_[6].projection[a.projection];if(Array.isArray(T))for(let B=0;B<T.length;B++)Ja(r,n,l,T[B],h);else Xa(n,r,T,_[3],l,h,!0)}function Zu(n,r,s){_r(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Ku(n,r,s){_r(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Tc(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||n.charCodeAt(l+h)<=32)return l}s=l+1}}const Eh="ng-template";function jf(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==Tc(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Hf(n){return 4===n.type&&n.value!==Eh}function Py(n,r,s){return r===(4!==n.type||s?n.value:Eh)}function Lg(n,r,s){let a=4;const l=n.attrs||[],h=function Ny(n){for(let r=0;r<n.length;r++)if(vs(n[r]))return r;return n.length}(l);let _=!1;for(let w=0;w<r.length;w++){const T=r[w];if("number"!=typeof T){if(!_)if(4&a){if(a=2|1&a,""!==T&&!Py(n,T,s)||""===T&&1===r.length){if(ya(a))return!1;_=!0}}else{const B=8&a?T:r[++w];if(8&a&&null!==n.attrs){if(!jf(n.attrs,B,s)){if(ya(a))return!1;_=!0}continue}const te=$f(8&a?"class":T,l,Hf(n),s);if(-1===te){if(ya(a))return!1;_=!0;continue}if(""!==B){let ge;ge=te>h?"":l[te+1].toLowerCase();const Ne=8&a?ge:null;if(Ne&&-1!==Tc(Ne,B,0)||2&a&&B!==ge){if(ya(a))return!1;_=!0}}}}else{if(!_&&!ya(a)&&!ya(T))return!1;if(_&&ya(T))continue;_=!1,a=T|1&a}}return ya(a)||_}function ya(n){return 0==(1&n)}function $f(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const _=r[l];if(_===n)return l;if(3===_||6===_)h=!0;else{if(1===_||2===_){let w=r[++l];for(;"string"==typeof w;)w=r[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=h?1:2}return-1}return function Vg(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Ac(n,r,s=!1){for(let a=0;a<r.length;a++)if(Lg(n,r[a],s))return!0;return!1}function Ug(n,r){return n?":not("+r.trim()+")":r}function Fy(n){let r=n[0],s=1,a=2,l="",h=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const w=n[++s];l+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?l+="."+_:4&a&&(l+=" "+_);else""!==l&&!ya(_)&&(r+=Ug(h,l),l=""),a=_,h=h||!ya(a);s++}return""!==l&&(r+=Ug(h,l)),r}const Vn={};function Gf(n){Bg(Pe(),V(),Zr()+n,ua())}function Bg(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&To(r,h,s)}else{const h=n.preOrderHooks;null!==h&&Jo(r,h,0,s)}Co(s)}function Sc(n,r){return n<<17|r<<2}function mo(n){return n>>17&32767}function Gl(n){return 2|n}function _a(n){return(131068&n)>>2}function Mc(n,r){return-131069&n|r<<2}function yo(n){return 1|n}function Yg(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],h=s[a+1];if(-1!==h){const _=n.data[h];Ba(l),_.contentQueries(2,r[h],h)}}}function tu(n,r,s,a,l,h,_,w,T,B){const q=r.blueprint.slice();return q[0]=l,q[2]=140|a,Oi(q),q[3]=q[15]=n,q[8]=s,q[10]=_||n&&n[10],q[11]=w||n&&n[11],q[12]=T||n&&n[12]||null,q[9]=B||n&&n[9]||null,q[6]=h,q[16]=2==r.type?n[16]:q,q}function xa(n,r,s,a,l){let h=n.data[r];if(null===h)h=function vd(n,r,s,a,l){const h=ti(),_=Ms(),T=n.data[r]=function Wy(n,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=T),null!==h&&(_?null==h.child&&null!==T.parent&&(h.child=T):null===h.next&&(h.next=T)),T}(n,r,s,a,l),function lo(){return tn.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const _=function ui(){const n=tn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return ir(h,!0),h}function Cu(n,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function Oc(n,r,s){Hs(r);try{const a=n.viewQuery;null!==a&&cp(1,a,s);const l=n.template;null!==l&&Xg(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Yg(n,r),n.staticViewQueries&&cp(2,n.viewQuery,s);const h=n.components;null!==h&&function zy(n,r){for(let s=0;s<r.length;s++)ap(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,ho()}}function ql(n,r,s,a){const l=r[2];if(256==(256&l))return;Hs(r);const h=ua();try{Oi(r),function bo(n){return tn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Xg(n,r,s,2,a);const _=3==(3&l);if(!h)if(_){const B=n.preOrderCheckHooks;null!==B&&To(r,B,null)}else{const B=n.preOrderHooks;null!==B&&Jo(r,B,0,null),ni(r,0)}if(function op(n){for(let r=jl(n);null!==r;r=Qa(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],h=l[3];0==(1024&l[2])&&ai(h,1),l[2]|=1024}}}(r),function Pc(n){for(let r=jl(n);null!==r;r=Qa(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];Ar(a)&&ql(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&Yg(n,r),!h)if(_){const B=n.contentCheckHooks;null!==B&&To(r,B)}else{const B=n.contentHooks;null!==B&&Jo(r,B,1),ni(r,1)}!function Kg(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)Co(~l);else{const h=l,_=s[++a],w=s[++a];la(_,h),w(2,r[h])}}}finally{Co(-1)}}(n,r);const w=n.components;null!==w&&function Qg(n,r){for(let s=0;s<r.length;s++)Lh(n,r[s])}(r,w);const T=n.viewQuery;if(null!==T&&cp(2,T,a),!h)if(_){const B=n.viewCheckHooks;null!==B&&To(r,B)}else{const B=n.viewHooks;null!==B&&Jo(r,B,2),ni(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),h||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,ai(r[3],-1))}finally{ho()}}function Jg(n,r,s,a){const l=r[10],h=!ua(),_=Sn(r);try{h&&!_&&l.begin&&l.begin(),_&&Oc(n,r,a),ql(n,r,s,a)}finally{h&&!_&&l.end&&l.end()}}function Xg(n,r,s,a,l){const h=Zr(),_=2&a;try{Co(-1),_&&r.length>20&&Bg(n,r,20,ua()),s(a,l)}finally{Co(h)}}function Yf(n,r,s){!F()||(function om(n,r,s,a){const l=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||So(s,r),rs(a,r);const _=s.initialInputs;for(let w=l;w<h;w++){const T=n.data[w],B=jn(T);B&&Qy(r,s,T);const q=Ot(r,n,w,s);rs(q,r),null!==_&&Jy(0,w-l,q,T,0,_),B&&(hn(s.index,r)[8]=q)}}(n,r,s,Ye(s,r)),128==(128&s.flags)&&function Ky(n,r,s){const a=s.directiveStart,l=s.directiveEnd,_=s.index,w=function qr(){return tn.lFrame.currentDirectiveIndex}();try{Co(_);for(let T=a;T<l;T++){const B=n.data[T],q=r[T];Io(T),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&am(B,q)}}finally{Co(-1),Io(w)}}(n,r,s))}function Ed(n,r,s=Ye){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],w=-1===_?s(r,n):n[_];n[l++]=w}}}function em(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Rh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Rh(n,r,s,a,l,h,_,w,T,B){const q=20+a,te=q+l,ge=function Qf(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Vn);return s}(q,te),Ne="function"==typeof B?B():B;return ge[1]={type:n,blueprint:ge,template:s,queries:null,viewQuery:w,declTNode:r,data:ge.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:T,consts:Ne,incompleteFirstPass:!1}}function nm(n,r,s,a){const l=jh(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&dp(n).push(a,l.length-1))}function rm(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function Go(n,r,s,a,l,h,_,w){const T=Ye(r,s);let q,B=r.inputs;!w&&null!=B&&(q=B[a])?(cm(n,s,q,a,l),Zn(r)&&function im(n,r){const s=hn(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Jf(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=_?_(l,r.value||"",a):l,_r(h)?h.setProperty(T,a,l):Gi(a)||(T.setProperty?T.setProperty(a,l):T[a]=l))}function bd(n,r,s,a){let l=!1;if(F()){const h=function Yy(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let h=0;h<a.length;h++){const _=a[h];Ac(s,_.selectors,!1)&&(l||(l=[]),b(So(s,r),n,_.type),jn(_)?(rp(n,s),l.unshift(_)):l.push(_))}return l}(n,r,s),_=null===a?null:{"":-1};if(null!==h){l=!0,Nh(s,n.data.length,h.length);for(let q=0;q<h.length;q++){const te=h[q];te.providersResolver&&te.providersResolver(te)}let w=!1,T=!1,B=Cu(n,r,h.length,null);for(let q=0;q<h.length;q++){const te=h[q];s.mergedAttrs=Fo(s.mergedAttrs,te.hostAttrs),ip(n,s,r,B,te),Id(B,te,_),null!==te.contentQueries&&(s.flags|=8),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(s.flags|=128);const ge=te.type.prototype;!w&&(ge.ngOnChanges||ge.ngOnInit||ge.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),w=!0),!T&&(ge.ngOnChanges||ge.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),T=!0),B++}!function qy(n,r){const a=r.directiveEnd,l=n.data,h=r.attrs,_=[];let w=null,T=null;for(let B=r.directiveStart;B<a;B++){const q=l[B],te=q.inputs,ge=null===h||Hf(r)?null:Xy(te,h);_.push(ge),w=rm(te,B,w),T=rm(q.outputs,B,T)}null!==w&&(w.hasOwnProperty("class")&&(r.flags|=16),w.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=w,r.outputs=T}(n,s)}_&&function Ph(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new et(-301,!1);a.push(r[l],h)}}}(s,a,_)}return s.mergedAttrs=Fo(s.mergedAttrs,s.attrs),l}function np(n,r,s,a,l,h){const _=h.hostBindings;if(_){let w=n.hostBindingOpCodes;null===w&&(w=n.hostBindingOpCodes=[]);const T=~r.index;(function Zy(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=T&&w.push(T),w.push(a,l,_)}}function am(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function rp(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Id(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;jn(r)&&(s[""]=n)}}function Nh(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function ip(n,r,s,a,l){n.data[a]=l;const h=l.factory||(l.factory=Qr(l.type)),_=new Os(h,jn(l),null);n.blueprint[a]=_,s[a]=_,np(n,r,0,a,Cu(n,s,l.hostVars,Vn),l)}function Qy(n,r,s){const a=Ye(r,n),l=em(s),h=n[10],_=Nc(n,tu(n,l,null,s.onPush?64:16,a,r,h,h.createRenderer(a,s),null,null));n[r.index]=_}function nu(n,r,s,a,l,h){const _=Ye(n,r);!function sp(n,r,s,a,l,h,_){if(null==h)_r(n)?n.removeAttribute(r,l,s):r.removeAttribute(l);else{const w=null==_?ke(h):_(h,a||"",l);_r(n)?n.setAttribute(r,l,w,s):s?r.setAttributeNS(s,l,w):r.setAttribute(l,w)}}(r[11],_,h,n.value,s,a,l)}function Jy(n,r,s,a,l,h){const _=h[r];if(null!==_){const w=a.setInput;for(let T=0;T<_.length;){const B=_[T++],q=_[T++],te=_[T++];null!==w?a.setInput(s,te,B,q):s[q]=te}}}function Xy(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Fh(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Lh(n,r){const s=hn(r,n);if(Ar(s)){const a=s[1];80&s[2]?ql(a,s,a.template,s[8]):s[5]>0&&Zl(s)}}function Zl(n){for(let a=jl(n);null!==a;a=Qa(a))for(let l=10;l<a.length;l++){const h=a[l];if(1024&h[2]){const _=h[1];ql(_,h,_.template,h[8])}else h[5]>0&&Zl(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=hn(s[a],n);Ar(l)&&l[5]>0&&Zl(l)}}function ap(n,r){const s=hn(r,n),a=s[1];(function um(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Oc(a,s,s[8])}function Nc(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Cd(n){for(;n;){n[2]|=64;const r=Ci(n);if(Bi(n)&&!r)return n;n=r}return null}function up(n,r,s){const a=r[10];a.begin&&a.begin();try{ql(n,r,n.template,s)}catch(l){throw Hh(r,l),l}finally{a.end&&a.end()}}function Uh(n){!function Vh(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=vc(s),l=a[1];Jg(l,a,l.template,s)}}(n[8])}function cp(n,r,s){Ba(0),r(n,s)}const Bh=(()=>Promise.resolve(null))();function jh(n){return n[7]||(n[7]=[])}function dp(n){return n.cleanup||(n.cleanup=[])}function Hh(n,r){const s=n[9],a=s?s.get(ii,null):null;a&&a.handleError(r)}function cm(n,r,s,a,l){for(let h=0;h<s.length;){const _=s[h++],w=s[h++],T=r[_],B=n.data[_];null!==B.setInput?B.setInput(T,l,a,w):T[w]=l}}function Du(n,r,s){const a=Ze(r,n);!function ld(n,r,s){_r(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function Dd(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,h=0;if(null!==r)for(let _=0;_<r.length;_++){const w=r[_];"number"==typeof w?h=w:1==h?l=Me(l,w):2==h&&(a=Me(a,w+": "+r[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}const hp=new Gt("INJECTOR",-1);class $h{get(r,s=na){if(s===na){const a=new Error(`NullInjectorError: No provider for ${Ce(r)}!`);throw a.name="NullInjectorError",a}return s}}const fp=new Gt("Set Injector scope."),Yl={},n_={};let Td;function pp(){return void 0===Td&&(Td=new $h),Td}function Gh(n,r=null,s=null,a){const l=zh(n,r,s,a);return l._resolveInjectorDefTypes(),l}function zh(n,r=null,s=null,a){return new gp(n,s,r||pp(),a)}class gp{constructor(r,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&Lr(s,w=>this.processProvider(w,r,s)),Lr([r],w=>this.processInjectorType(w,[],h)),this.records.set(hp,Ra(void 0,this));const _=this.records.get(fp);this.scope=null!=_?_.value:null,this.source=l||("object"==typeof r?null:Ce(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=na,a=Ht.Default){this.assertNotDestroyed();const l=We(this),h=pn(void 0);try{if(!(a&Ht.SkipSelf)){let w=this.records.get(r);if(void 0===w){const T=function wp(n){return"function"==typeof n||"object"==typeof n&&n instanceof Gt}(r)&&vn(r);w=T&&this.injectableDefInScope(T)?Ra(el(r),Yl):null,this.records.set(r,w)}if(null!=w)return this.hydrate(r,w)}return(a&Ht.Self?pp():this.parent).get(r,s=a&Ht.Optional&&s===na?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Pu]=_[Pu]||[]).unshift(Ce(r)),l)throw _;return function qi(n,r,s,a){const l=n[Pu];throw r[K]&&l.unshift(r[K]),n.message=function qa(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let l=Ce(r);if(Array.isArray(r))l=r.map(Ce).join(" -> ");else if("object"==typeof r){let h=[];for(let _ in r)if(r.hasOwnProperty(_)){let w=r[_];h.push(_+":"+("string"==typeof w?JSON.stringify(w):Ce(w)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(M,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[Pu]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{pn(h),We(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(Ce(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processInjectorType(r,s,a){if(!(r=Ae(r)))return!1;let l=er(r);const h=null==l&&r.ngModule||void 0,_=void 0===h?r:h,w=-1!==a.indexOf(_);if(void 0!==h&&(l=er(h)),null==l)return!1;if(null!=l.imports&&!w){let q;a.push(_);try{Lr(l.imports,te=>{this.processInjectorType(te,s,a)&&(void 0===q&&(q=[]),q.push(te))})}finally{}if(void 0!==q)for(let te=0;te<q.length;te++){const{ngModule:ge,providers:Ne}=q[te];Lr(Ne,it=>this.processProvider(it,ge,Ne||It))}}this.injectorDefTypes.add(_);const T=Qr(_)||(()=>new _);this.records.set(_,Ra(T,Yl));const B=l.providers;if(null!=B&&!w){const q=r;Lr(B,te=>this.processProvider(te,q,B))}return void 0!==h&&void 0!==r.providers}processProvider(r,s,a){let l=Fc(r=Ae(r))?r:Ae(r&&r.provide);const h=function mp(n,r,s){return yp(n)?Ra(void 0,n.useValue):Ra(Ql(n),Yl)}(r);if(Fc(r)||!0!==r.multi)this.records.get(l);else{let _=this.records.get(l);_||(_=Ra(void 0,Yl,!0),_.factory=()=>pr(_.multi),this.records.set(l,_)),l=r,_.multi.push(r)}this.records.set(l,h)}hydrate(r,s){return s.value===Yl&&(s.value=n_,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ep(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ae(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function el(n){const r=vn(n),s=null!==r?r.factory:Qr(n);if(null!==s)return s;if(n instanceof Gt)throw new et(204,!1);if(n instanceof Function)return function tl(n){const r=n.length;if(r>0)throw function Yn(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new et(204,!1);const s=function Qn(n){const r=n&&(n[cr]||n[ur]);if(r){const s=function Vr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new et(204,!1)}function Ql(n,r,s){let a;if(Fc(n)){const l=Ae(n);return Qr(l)||el(l)}if(yp(n))a=()=>Ae(n.useValue);else if(function r_(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...pr(n.deps||[]));else if(function kc(n){return!(!n||!n.useExisting)}(n))a=()=>xt(Ae(n.useExisting));else{const l=Ae(n&&(n.useClass||n.provide));if(!function vp(n){return!!n.deps}(n))return Qr(l)||el(l);a=()=>new l(...pr(n.deps))}return a}function Ra(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function yp(n){return null!==n&&"object"==typeof n&&ne in n}function Fc(n){return"function"==typeof n}let Oa=(()=>{class n{static create(s,a){var l;if(Array.isArray(s))return Gh({name:""},a,s,"");{const h=null!==(l=s.name)&&void 0!==l?l:"";return Gh({name:h},s.parent,s.providers,h)}}}return n.THROW_IF_NOT_FOUND=na,n.NULL=new $h,n.\u0275prov=$t({token:n,providedIn:"any",factory:()=>xt(hp)}),n.__NG_ELEMENT_ID__=-1,n})();function Dp(n,r){ts(vc(n)[1],cn())}function Tp(n){let r=function Yh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(jn(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new et(903,"");l=r.\u0275dir}if(l){if(s){a.push(l);const _=n;_.inputs=Sd(n.inputs),_.declaredInputs=Sd(n.declaredInputs),_.outputs=Sd(n.outputs);const w=l.hostBindings;w&&Dm(n,w);const T=l.viewQuery,B=l.contentQueries;if(T&&Sp(n,T),B&&Lc(n,B),be(n.inputs,l.inputs),be(n.declaredInputs,l.declaredInputs),be(n.outputs,l.outputs),jn(l)&&l.data.animation){const q=n.data;q.animation=(q.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let _=0;_<h.length;_++){const w=h[_];w&&w.ngInherit&&w(n),w===Tp&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Ap(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Fo(l.hostAttrs,s=Fo(s,l.hostAttrs))}}(a)}function Sd(n){return n===Un?{}:n===It?[]:n}function Sp(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Lc(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function Dm(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Ea=null;function nl(){if(!Ea){const n=on.Symbol;if(n&&n.iterator)Ea=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ea=a)}}}return Ea}function Jl(n){return!!Md(n)&&(Array.isArray(n)||!(n instanceof Map)&&nl()in n)}function Md(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ru(n,r,s){return n[r]=s}function _o(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Tu(n,r,s,a){const l=_o(n,r,s);return _o(n,r+1,a)||l}function Jh(n,r,s,a){const l=V();return _o(l,js(),r)&&(Pe(),nu(zr(),l,n,r,s,a)),Jh}function ec(n,r,s,a){return _o(n,js(),s)?r+ke(s)+a:Vn}function Vc(n,r,s,a,l,h){const w=Tu(n,function ki(){return tn.lFrame.bindingIndex}(),s,l);return _s(2),w?r+ke(s)+a+ke(l)+h:Vn}function xm(n,r,s,a,l,h,_,w){const T=V(),B=Pe(),q=n+20,te=B.firstCreatePass?function f_(n,r,s,a,l,h,_,w,T){const B=r.consts,q=xa(r,n,4,_||null,rr(B,w));bd(r,s,q,rr(B,T)),ts(r,q);const te=q.tViews=Rh(2,q,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B);return null!==r.queries&&(r.queries.template(r,q),te.queries=r.queries.embeddedTView(q)),q}(q,B,T,r,s,a,l,h,_):B.data[q];ir(te,!1);const ge=T[11].createComment("");pd(B,T,ge,te),rs(ge,T),Nc(T,T[q]=Fh(ge,T,ge,te)),Nn(te)&&Yf(B,T,te),null!=_&&Ed(T,te,w)}function ef(n){return An(function wa(){return tn.lFrame.contextLView}(),20+n)}function tc(n,r=Ht.Default){const s=V();return null===s?xt(n,r):L(cn(),s,Ae(n),r)}function Lm(){throw new Error("invalid")}function Wp(n,r,s){const a=V();return _o(a,js(),r)&&Go(Pe(),zr(),a,n,r,a[11],s,!1),Wp}function gi(n,r,s,a,l){const _=l?"class":"style";cm(n,s,r.inputs[_],_,a)}function qp(n,r,s,a){const l=V(),h=Pe(),_=20+n,w=l[11],T=l[_]=Cc(w,r,function ou(){return tn.lFrame.currentNamespace}()),B=h.firstCreatePass?function Jv(n,r,s,a,l,h,_){const w=r.consts,B=xa(r,n,2,l,rr(w,h));return bd(r,s,B,rr(w,_)),null!==B.attrs&&Dd(B,B.attrs,!1),null!==B.mergedAttrs&&Dd(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(_,h,l,0,r,s,a):h.data[_];ir(B,!0);const q=B.mergedAttrs;null!==q&&ko(w,T,q);const te=B.classes;null!==te&&Ku(w,T,te);const ge=B.styles;return null!==ge&&Zu(w,T,ge),64!=(64&B.flags)&&pd(h,l,T,B),0===function Ni(){return tn.lFrame.elementDepthCount}()&&rs(T,l),function Bs(){tn.lFrame.elementDepthCount++}(),Nn(B)&&(Yf(h,l,B),function xh(n,r,s){if(Xn(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const _=n.data[h];_.contentQueries&&_.contentQueries(1,s[h],h)}}}(h,B,l)),null!==a&&Ed(l,B),qp}function Yi(){let n=cn();Ms()?function ys(){tn.lFrame.isParent=!1}():(n=n.parent,ir(n,!1));const r=n;!function Xs(){tn.lFrame.elementDepthCount--}();const s=Pe();return s.firstCreatePass&&(ts(s,n),Xn(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ha(n){return 0!=(16&n.flags)}(r)&&gi(s,r,V(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function uu(n){return 0!=(32&n.flags)}(r)&&gi(s,r,V(),r.stylesWithoutHost,!1),Yi}function of(n,r,s,a){return qp(n,r,s,a),Yi(),of}function Um(){return V()}function Kp(n){return!!n&&"function"==typeof n.then}function b_(n){return!!n&&"function"==typeof n.subscribe}const Bm=b_;function Yp(n,r,s,a){const l=V(),h=Pe(),_=cn();return function I_(n,r,s,a,l,h,_,w){const T=Nn(a),q=n.firstCreatePass&&dp(n),te=r[8],ge=jh(r);let Ne=!0;if(3&a.type||w){const jt=Ye(a,r),rn=w?w(jt):jt,mt=ge.length,xn=w?xr=>w(P(xr[a.index])):a.index;if(_r(s)){let xr=null;if(!w&&T&&(xr=function Au(n,r,s,a){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const _=l[h];if(_===s&&l[h+1]===a){const w=r[7],T=l[h+2];return w.length>T?w[T]:null}"string"==typeof _&&(h+=2)}return null}(n,r,l,a.index)),null!==xr)(xr.__ngLastListenerFn__||xr).__ngNextListenerFn__=h,xr.__ngLastListenerFn__=h,Ne=!1;else{h=Su(a,r,te,h,!1);const oi=s.listen(rn,l,h);ge.push(h,oi),q&&q.push(l,xn,mt,mt+1)}}else h=Su(a,r,te,h,!0),rn.addEventListener(l,h,_),ge.push(h),q&&q.push(l,xn,mt,_)}else h=Su(a,r,te,h,!1);const it=a.outputs;let St;if(Ne&&null!==it&&(St=it[l])){const jt=St.length;if(jt)for(let rn=0;rn<jt;rn+=2){const Ua=r[St[rn]][St[rn+1]].subscribe(h),zd=ge.length;ge.push(h,Ua),q&&q.push(l,a.index,zd,-(zd+1))}}}(h,l,l[11],_,n,r,!!s,a),Yp}function Na(n,r,s,a){try{return!1!==s(a)}catch(l){return Hh(n,l),!1}}function Su(n,r,s,a,l){return function h(_){if(_===Function)return a;const w=2&n.flags?hn(n.index,r):r;0==(32&r[2])&&Cd(w);let T=Na(r,0,a,_),B=h.__ngNextListenerFn__;for(;B;)T=Na(r,0,B,_)&&T,B=B.__ngNextListenerFn__;return l&&!1===T&&(_.preventDefault(),_.returnValue=!1),T}}function kd(n=1){return function ja(n){return(tn.lFrame.contextLView=function Qo(n,r){for(;n>0;)r=r[15],n--;return r}(n,tn.lFrame.contextLView))[8]}(n)}function uf(n,r,s){return nc(n,"",r,"",s),uf}function nc(n,r,s,a,l){const h=V(),_=ec(h,r,s,a);return _!==Vn&&Go(Pe(),zr(),h,n,_,h[11],l,!1),nc}function Jp(n,r,s,a,l,h,_){const w=V(),T=Vc(w,r,s,a,l,h);return T!==Vn&&Go(Pe(),zr(),w,n,T,w[11],_,!1),Jp}function ng(n,r,s,a,l){const h=n[s+1],_=null===r;let w=a?mo(h):_a(h),T=!1;for(;0!==w&&(!1===T||_);){const q=n[w+1];rc(n[w],r)&&(T=!0,n[w+1]=a?yo(q):Gl(q)),w=a?mo(q):_a(q)}T&&(n[s+1]=a?Gl(h):yo(h))}function rc(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&no(n,r)>=0}function hf(n,r){return function Fa(n,r,s,a){const l=V(),h=Pe(),_=_s(2);h.firstUpdatePass&&function ag(n,r,s,a){const l=n.data;if(null===l[s+1]){const h=l[Zr()],_=function Wm(n,r){return r>=n.expandoStartIndex}(n,s);(function Bd(n,r){return 0!=(n.flags&(r?16:32))})(h,a)&&null===r&&!_&&(r=!1),r=function A_(n,r,s,a){const l=function Zo(n){const r=tn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Gc(s=ug(null,n,r,s,a),r.attrs,a),h=null);else{const _=r.directiveStylingLast;if(-1===_||n[_]!==l)if(s=ug(l,n,r,s,a),null===h){let T=function S_(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==_a(a))return n[mo(a)]}(n,r,a);void 0!==T&&Array.isArray(T)&&(T=ug(null,n,r,T[1],a),T=Gc(T,r.attrs,a),function qm(n,r,s,a){n[mo(s?r.classBindings:r.styleBindings)]=a}(n,r,a,T))}else h=function M_(n,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=Gc(a,n[h].hostAttrs,s);return Gc(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function eg(n,r,s,a,l,h){let _=h?r.classBindings:r.styleBindings,w=mo(_),T=_a(_);n[a]=s;let q,B=!1;if(Array.isArray(s)){const te=s;q=te[1],(null===q||no(te,q)>0)&&(B=!0)}else q=s;if(l)if(0!==T){const ge=mo(n[w+1]);n[a+1]=Sc(ge,w),0!==ge&&(n[ge+1]=Mc(n[ge+1],a)),n[w+1]=function $g(n,r){return 131071&n|r<<17}(n[w+1],a)}else n[a+1]=Sc(w,0),0!==w&&(n[w+1]=Mc(n[w+1],a)),w=a;else n[a+1]=Sc(T,0),0===w?w=a:n[T+1]=Mc(n[T+1],a),T=a;B&&(n[a+1]=Gl(n[a+1])),ng(n,q,a,!0),ng(n,q,a,!1),function tg(n,r,s,a,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&no(h,r)>=0&&(s[a+1]=yo(s[a+1]))}(r,q,n,a,h),_=Sc(w,T),h?r.classBindings=_:r.styleBindings=_}(l,h,r,s,_,a)}}(h,n,_,a),r!==Vn&&_o(l,_,r)&&function lg(n,r,s,a,l,h,_,w){if(!(3&r.type))return;const T=n.data,B=T[w+1];Ud(function zf(n){return 1==(1&n)}(B)?cg(T,r,s,l,_a(B),_):void 0)||(Ud(h)||function Hg(n){return 2==(2&n)}(B)&&(h=cg(T,null,s,l,w,_)),function Hl(n,r,s,a,l){const h=_r(n);if(r)l?h?n.addClass(s,a):s.classList.add(a):h?n.removeClass(s,a):s.classList.remove(a);else{let _=-1===a.indexOf("-")?void 0:Je.DashCase;if(null==l)h?n.removeStyle(s,a,_):s.style.removeProperty(a);else{const w="string"==typeof l&&l.endsWith("!important");w&&(l=l.slice(0,-10),_|=Je.Important),h?n.setStyle(s,a,l,_):s.style.setProperty(a,l,w?"important":"")}}}(a,_,Ze(Zr(),s),l,h))}(h,h.data[Zr()],l,l[11],n,l[_+1]=function dg(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ce(pa(n)))),n}(r,s),a,_)}(n,r,null,!0),hf}function ug(n,r,s,a,l){let h=null;const _=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<_&&(h=r[w],a=Gc(a,h.hostAttrs,l),h!==n);)w++;return null!==n&&(s.directiveStylingLast=w),a}function Gc(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const _=r[h];"number"==typeof _?l=_:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ci(n,_,!!s||r[++h]))}return void 0===n?null:n}function cg(n,r,s,a,l,h){const _=null===r;let w;for(;l>0;){const T=n[l],B=Array.isArray(T),q=B?T[1]:T,te=null===q;let ge=s[l+1];ge===Vn&&(ge=te?It:void 0);let Ne=te?cs(ge,a):q===a?ge:void 0;if(B&&!Ud(Ne)&&(Ne=cs(T,a)),Ud(Ne)&&(w=Ne,_))return w;const it=n[l+1];l=_?mo(it):_a(it)}if(null!==r){let T=h?r.residualClasses:r.residualStyles;null!=T&&(w=cs(T,a))}return w}function Ud(n){return void 0!==n}function Ym(n,r=""){const s=V(),a=Pe(),l=n+20,h=a.firstCreatePass?xa(a,l,1,r,null):a.data[l],_=s[l]=function Ic(n,r){return _r(n)?n.createText(r):n.createTextNode(r)}(s[11],r);pd(a,s,_,h),ir(h,!1)}function ff(n){return Va("",n,""),ff}function Va(n,r,s){const a=V(),l=ec(a,n,r,s);return l!==Vn&&Du(a,Zr(),l),Va}const fl=void 0;var sc=["en",[["a","p"],["AM","PM"],fl],[["AM","PM"],fl,fl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fl,"{1} 'at' {0}",fl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cy(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let so={};function mf(n){const r=function yg(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Zc(r);if(s)return s;const a=r.split("-")[0];if(s=Zc(a),s)return s;if("en"===a)return sc;throw new Error(`Missing locale data for the locale "${n}".`)}function qc(n){return mf(n)[Pn.PluralCase]}function Zc(n){return n in so||(so[n]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[n]),so[n]}var Pn=(()=>((Pn=Pn||{})[Pn.LocaleId=0]="LocaleId",Pn[Pn.DayPeriodsFormat=1]="DayPeriodsFormat",Pn[Pn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pn[Pn.DaysFormat=3]="DaysFormat",Pn[Pn.DaysStandalone=4]="DaysStandalone",Pn[Pn.MonthsFormat=5]="MonthsFormat",Pn[Pn.MonthsStandalone=6]="MonthsStandalone",Pn[Pn.Eras=7]="Eras",Pn[Pn.FirstDayOfWeek=8]="FirstDayOfWeek",Pn[Pn.WeekendRange=9]="WeekendRange",Pn[Pn.DateFormat=10]="DateFormat",Pn[Pn.TimeFormat=11]="TimeFormat",Pn[Pn.DateTimeFormat=12]="DateTimeFormat",Pn[Pn.NumberSymbols=13]="NumberSymbols",Pn[Pn.NumberFormats=14]="NumberFormats",Pn[Pn.CurrencyCode=15]="CurrencyCode",Pn[Pn.CurrencySymbol=16]="CurrencySymbol",Pn[Pn.CurrencyName=17]="CurrencyName",Pn[Pn.Currencies=18]="Currencies",Pn[Pn.Directionality=19]="Directionality",Pn[Pn.PluralCase=20]="PluralCase",Pn[Pn.ExtraData=21]="ExtraData",Pn))();const Yc="en-US";let dy=Yc;function Y_(n,r,s,a,l){if(n=Ae(n),Array.isArray(n))for(let h=0;h<n.length;h++)Y_(n[h],r,s,a,l);else{const h=Pe(),_=V();let w=Fc(n)?n:Ae(n.provide),T=Ql(n);const B=cn(),q=1048575&B.providerIndexes,te=B.directiveStart,ge=B.providerIndexes>>20;if(Fc(n)||!n.multi){const Ne=new Os(T,l,tc),it=J_(w,r,l?q:q+ge,te);-1===it?(b(So(B,_),h,w),Q_(h,n,r.length),r.push(w),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(Ne),_.push(Ne)):(s[it]=Ne,_[it]=Ne)}else{const Ne=J_(w,r,q+ge,te),it=J_(w,r,q,q+ge),St=Ne>=0&&s[Ne],jt=it>=0&&s[it];if(l&&!jt||!l&&!St){b(So(B,_),h,w);const rn=function uw(n,r,s,a,l){const h=new Os(n,s,tc);return h.multi=[],h.index=r,h.componentProviders=0,f0(h,l,a&&!s),h}(l?aw:ow,s.length,l,a,T);!l&&jt&&(s[it].providerFactory=rn),Q_(h,n,r.length,0),r.push(w),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(rn),_.push(rn)}else Q_(h,n,Ne>-1?Ne:it,f0(s[l?it:Ne],T,!l&&a));!l&&a&&jt&&s[it].componentProviders++}}}function Q_(n,r,s,a){const l=Fc(r),h=function _p(n){return!!n.useClass}(r);if(l||h){const T=(h?Ae(r.useClass):r).prototype.ngOnDestroy;if(T){const B=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const q=B.indexOf(s);-1===q?B.push(s,[a,T]):B[q+1].push(a,T)}else B.push(s,T)}}}function f0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function J_(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function ow(n,r,s,a){return X_(this.multi,[])}function aw(n,r,s,a){const l=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Ot(s,s[1],this.providerFactory.index,a);h=w.slice(0,_),X_(l,h);for(let T=_;T<w.length;T++)h.push(w[T])}else h=[],X_(l,h);return h}function X_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function p0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function sw(n,r,s){const a=Pe();if(a.firstCreatePass){const l=jn(n);Y_(s,a.data,a.blueprint,l,!0),Y_(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class g0{}class dw{resolveComponentFactory(r){throw function cw(n){const r=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let _y=(()=>{class n{}return n.NULL=new dw,n})();function hw(){return bf(cn(),V())}function bf(n,r){return new bg(Ye(n,r))}let bg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=hw,n})();function fw(n){return n instanceof bg?n.nativeElement:n}class y0{}let pw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mw(){const n=V(),s=hn(cn().index,n);return function gw(n){return n[11]}(pt(s)?s:n)}(),n})(),yw=(()=>{class n{}return n.\u0275prov=$t({token:n,providedIn:"root",factory:()=>null}),n})();class _0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const v0=new _0("13.3.1"),ev={};function vy(n,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(P(h)),Pt(h))for(let w=10;w<h.length;w++){const T=h[w],B=T[1].firstChild;null!==B&&vy(T[1],T,B,a)}const _=s.type;if(8&_)vy(n,r,s.child,a);else if(32&_){const w=en(s,r);let T;for(;T=w();)a.push(T)}else if(16&_){const w=yh(r,s);if(Array.isArray(w))a.push(...w);else{const T=Ci(r[16]);vy(T[1],T,w,a,!0)}}s=l?s.projectionNext:s.next}return a}class Ig{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return vy(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Pt(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Vf(r,a),zi(s,a))}this._attachedToViewContainer=!1}Pg(this._lView[1],this._lView)}onDestroy(r){nm(this._lView[1],this._lView,null,r)}markForCheck(){Cd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){up(this._lView[1],this._lView,this.context)}checkNoChanges(){!function e_(n,r,s){uo(!0);try{up(n,r,s)}finally{uo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new et(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lf(n,r){Dc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new et(902,"");this._appRef=r}}class _w extends Ig{constructor(r){super(r),this._view=r}detectChanges(){Uh(this._view)}checkNoChanges(){!function lp(n){uo(!0);try{Uh(n)}finally{uo(!1)}}(this._view)}get context(){return null}}class E0 extends _y{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Dn(r);return new tv(s,this.ngModule)}}function w0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class tv extends g0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function md(n){return n.map(Fy).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return w0(this.componentDef.inputs)}get outputs(){return w0(this.componentDef.outputs)}create(r,s,a,l){const h=(l=l||this.ngModule)?function Ew(n,r){return{get:(s,a,l)=>{const h=n.get(s,ev,l);return h!==ev||a===ev?h:r.get(s,a,l)}}}(r,l.injector):r,_=h.get(y0,N),w=h.get(yw,null),T=_.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",q=a?function tm(n,r,s){if(_r(n))return n.selectRootElement(r,s===xe.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(T,a,this.componentDef.encapsulation):Cc(_.createRenderer(null,this.componentDef),B,function vw(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(B)),te=this.componentDef.onPush?576:528,ge=function Cm(n,r){return{components:[],scheduler:n||Nf,clean:Bh,playerHandler:r||null,flags:0}}(),Ne=Rh(0,null,null,1,0,null,null,null,null,null),it=tu(null,Ne,ge,te,null,null,_,T,w,h);let St,jt;Hs(it);try{const rn=function Im(n,r,s,a,l,h){const _=s[1];s[20]=n;const T=xa(_,20,2,"#host",null),B=T.mergedAttrs=r.hostAttrs;null!==B&&(Dd(T,B,!0),null!==n&&(ko(l,n,B),null!==T.classes&&Ku(l,n,T.classes),null!==T.styles&&Zu(l,n,T.styles)));const q=a.createRenderer(n,r),te=tu(s,em(r),null,r.onPush?64:16,s[20],T,a,q,h||null,null);return _.firstCreatePass&&(b(So(T,s),_,r.type),rp(_,T),Nh(T,s.length,1)),Nc(s,te),s[20]=te}(q,this.componentDef,it,_,T);if(q)if(a)ko(T,q,["ng-version",v0.full]);else{const{attrs:mt,classes:xn}=function Yu(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===l?""!==h&&r.push(h,n[++a]):8===l&&s.push(h);else{if(!ya(l))break;l=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);mt&&ko(T,q,mt),xn&&xn.length>0&&Ku(T,q,xn.join(" "))}if(jt=Fn(Ne,20),void 0!==s){const mt=jt.projection=[];for(let xn=0;xn<this.ngContentSelectors.length;xn++){const xr=s[xn];mt.push(null!=xr?Array.from(xr):null)}}St=function Kh(n,r,s,a,l){const h=s[1],_=function tp(n,r,s){const a=cn();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),ip(n,a,r,Cu(n,r,1,null),s));const l=Ot(r,n,a.directiveStart,a);rs(l,r);const h=Ye(a,r);return h&&rs(h,r),l}(h,s,r);if(a.components.push(_),n[8]=_,l&&l.forEach(T=>T(_,r)),r.contentQueries){const T=cn();r.contentQueries(1,_,T.directiveStart)}const w=cn();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Co(w.index),np(s[1],w,0,w.directiveStart,w.directiveEnd,r),am(r,_)),_}(rn,this.componentDef,it,ge,[Dp]),Oc(Ne,it,null)}finally{ho()}return new bw(this.componentType,St,bf(jt,it),it,jt)}}class bw extends class lw{}{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new _w(l),this.componentType=r}get injector(){return new $n(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class If{}class b0{}const Cf=new Map;class D0 extends If{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new E0(this);const a=or(r);this._bootstrapComponents=f(a.bootstrap),this._r3Injector=zh(r,s,[{provide:If,useValue:this},{provide:_y,useValue:this.componentFactoryResolver}],Ce(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Oa.THROW_IF_NOT_FOUND,a=Ht.Default){return r===Oa||r===If||r===hp?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class nv extends b0{constructor(r){super(),this.moduleType=r,null!==or(r)&&function Cw(n){const r=new Set;!function s(a){const l=or(a,!0),h=l.id;null!==h&&(function I0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Ce(r)} vs ${Ce(r.name)}`)}(h,Cf.get(h),a),Cf.set(h,a));const _=f(l.imports);for(const w of _)r.has(w)||(r.add(w),s(w))}(n)}(r)}create(r){return new D0(this.moduleType,r)}}function Cg(n,r){const s=n[r];return s===Vn?void 0:s}function R0(n,r){const s=Pe();let a;const l=n+20;s.firstCreatePass?(a=function kw(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const h=a.factory||(a.factory=Qr(a.type)),_=pn(tc);try{const w=Es(!1),T=h();return Es(w),function Rm(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,V(),l,T),T}finally{pn(_)}}function O0(n,r,s){const a=n+20,l=V(),h=An(l,a);return Dg(l,a)?function T0(n,r,s,a,l,h){const _=r+s;return _o(n,_,l)?ru(n,_+1,h?a.call(h,l):a(l)):Cg(n,_+1)}(l,Ir(),r,h.transform,s,h):h.transform(s)}function P0(n,r,s,a){const l=n+20,h=V(),_=An(h,l);return Dg(h,l)?function A0(n,r,s,a,l,h,_){const w=r+s;return Tu(n,w,l,h)?ru(n,w+2,_?a.call(_,l,h):a(l,h)):Cg(n,w+2)}(h,Ir(),r,_.transform,s,a,_):_.transform(s,a)}function Dg(n,r){return n[1].data[r].pure}function rv(n){return r=>{setTimeout(n,void 0,r)}}const gl=class Uw extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var l,h,_;let w=r,T=s||(()=>null),B=a;if(r&&"object"==typeof r){const te=r;w=null===(l=te.next)||void 0===l?void 0:l.bind(te),T=null===(h=te.error)||void 0===h?void 0:h.bind(te),B=null===(_=te.complete)||void 0===_?void 0:_.bind(te)}this.__isAsync&&(T=rv(T),w&&(w=rv(w)),B&&(B=rv(B)));const q=super.subscribe({next:w,error:T,complete:B});return r instanceof O.w0&&r.add(q),q}};function Bw(){return this._results[nl()]()}class iv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=nl(),a=iv.prototype;a[s]||(a[s]=Bw)}get changes(){return this._changes||(this._changes=new gl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=ar(r);(this._changesDetected=!function Sr(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Tg=(()=>{class n{}return n.__NG_ELEMENT_ID__=$w,n})();const jw=Tg,Hw=class extends jw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=tu(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(s)),Oc(s,a,r),new Ig(a)}};function $w(){return Ey(cn(),V())}function Ey(n,r){return 4&n.type?new Hw(r,n,bf(n,r)):null}let wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gw,n})();function Gw(){return F0(cn(),V())}const zw=wy,N0=class extends zw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return bf(this._hostTNode,this._hostLView)}get injector(){return new $n(this._hostTNode,this._hostLView)}get parentInjector(){const r=vr(this._hostTNode,this._hostLView);if(Lo(r)){const s=Gs(r,this._hostLView),a=Pr(r);return new $n(s[1].data[a+8],s)}return new $n(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=k0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const l=r.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(r,s,a,l,h){const _=r&&!function _n(n){return"function"==typeof n}(r);let w;if(_)w=s;else{const te=s||{};w=te.index,a=te.injector,l=te.projectableNodes,h=te.ngModuleRef}const T=_?r:new tv(Dn(r)),B=a||this.parentInjector;if(!h&&null==T.ngModule){const ge=(_?B:this.parentInjector).get(If,null);ge&&(h=ge)}const q=T.create(B,l,void 0,h);return this.insert(q.hostView,w),q}insert(r,s){const a=r._lView,l=a[1];if(function Kn(n){return Pt(n[3])}(a)){const q=this.indexOf(r);if(-1!==q)this.detach(q);else{const te=a[3],ge=new N0(te,te[6],te[3]);ge.detach(ge.indexOf(r))}}const h=this._adjustIndex(s),_=this._lContainer;!function Sy(n,r,s,a){const l=10+a,h=s.length;a>0&&(s[l-1][4]=r),a<h-10?(r[4]=s[l],ri(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const _=r[17];null!==_&&s!==_&&function My(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(_,r);const w=r[19];null!==w&&w.insertView(n),r[2]|=128}(l,a,_,h);const w=gd(h,_),T=a[11],B=ph(T,_[7]);return null!==B&&function dd(n,r,s,a,l,h){a[0]=l,a[6]=r,Dc(n,a,s,1,l,h)}(l,_[6],T,a,B,w),r.attachToViewContainerRef(),ri(sv(_),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=k0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Vf(this._lContainer,s);a&&(zi(sv(this._lContainer),s),Pg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Vf(this._lContainer,s);return a&&null!=zi(sv(this._lContainer),s)?new Ig(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function k0(n){return n[8]}function sv(n){return n[8]||(n[8]=[])}function F0(n,r){let s;const a=r[n.index];if(Pt(a))s=a;else{let l;if(8&n.type)l=P(a);else{const h=r[11];l=h.createComment("");const _=Ye(n,r);zu(h,ph(h,_),l,function fd(n,r){return _r(n)?n.nextSibling(r):r.nextSibling}(h,_),!1)}r[n.index]=s=Fh(a,r,l,n),Nc(r,s)}return new N0(s,n,r)}class ov{constructor(r){this.queryList=r,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class av{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const _=s.getByIndex(h);l.push(this.queries[_.indexInDeclarationView].clone())}return new av(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==G0(r,s).matches&&this.queries[s].setDirty()}}class L0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class uv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new uv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class lv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new lv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,Zw(s,h)),this.matchTNodeWithReadOption(r,s,je(s,r,h,!1,!1))}else a===Tg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,je(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===bg||l===wy||l===Tg&&4&s.type)this.addMatch(s.index,-2);else{const h=je(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Zw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Yw(n,r,s,a){return-1===s?function Kw(n,r){return 11&n.type?bf(n,r):4&n.type?Ey(n,r):null}(r,n):-2===s?function Qw(n,r,s){return s===bg?bf(r,n):s===Tg?Ey(r,n):s===wy?F0(r,n):void 0}(n,r,a):Ot(n,n[1],s,r)}function V0(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const h=n.data,_=s.matches,w=[];for(let T=0;T<_.length;T+=2){const B=_[T];w.push(B<0?null:Yw(r,h[B],_[T+1],s.metadata.read))}l.matches=w}return l.matches}function cv(n,r,s,a){const l=n.queries.getByIndex(s),h=l.matches;if(null!==h){const _=V0(n,r,l,s);for(let w=0;w<h.length;w+=2){const T=h[w];if(T>0)a.push(_[w/2]);else{const B=h[w+1],q=r[-T];for(let te=10;te<q.length;te++){const ge=q[te];ge[17]===ge[3]&&cv(ge[1],ge,B,a)}if(null!==q[9]){const te=q[9];for(let ge=0;ge<te.length;ge++){const Ne=te[ge];cv(Ne[1],Ne,B,a)}}}}}return a}function U0(n){const r=V(),s=Pe(),a=Ko();Ba(a+1);const l=G0(s,a);if(n.dirty&&Sn(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?cv(s,r,a,[]):V0(s,r,l,a);n.reset(h,fw),n.notifyOnChanges()}return!0}return!1}function B0(n,r,s,a){const l=Pe();if(l.firstCreatePass){const h=cn();(function $0(n,r,s){null===n.queries&&(n.queries=new uv),n.queries.track(new lv(r,s))})(l,new L0(r,s,a),h.index),function eb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}!function H0(n,r,s){const a=new iv(4==(4&s));nm(n,r,a,a.destroy),null===r[19]&&(r[19]=new av),r[19].queries.push(new ov(a))}(l,V(),s)}function j0(){return function Xw(n,r){return n[19].queries[r].queryList}(V(),Ko())}function G0(n,r){return n.queries.getByIndex(r)}function z0(n,r){return Ey(n,r)}function Cy(...n){}const uE=new Gt("Application Initializer");let mv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Cy,this.reject=Cy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Kp(h))s.push(h);else if(Bm(h)){const _=new Promise((w,T)=>{h.subscribe({complete:w,error:T})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(xt(uE,8))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lE=new Gt("AppId",{providedIn:"root",factory:function cE(){return`${yv()}${yv()}${yv()}`}});function yv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dE=new Gt("Platform Initializer"),hE=new Gt("Platform ID"),fE=new Gt("appBootstrapListener");let pE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})();const _v=new Gt("LocaleId",{providedIn:"root",factory:()=>On(_v,Ht.Optional|Ht.SkipSelf)||function yb(){return"undefined"!=typeof $localize&&$localize.locale||Yc}()}),_b=new Gt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Eb=(()=>{class n{compileModuleSync(s){return new nv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=f(or(s).declarations).reduce((_,w)=>{const T=Dn(w);return T&&_.push(new tv(T)),_},[]);return new vb(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bb=(()=>Promise.resolve(0))();function vv(n){"undefined"==typeof Zone?bb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class xu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gl(!1),this.onMicrotaskEmpty=new gl(!1),this.onStable=new gl(!1),this.onError=new gl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Ib(){let n=on.requestAnimationFrame,r=on.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Tb(n){const r=()=>{!function Db(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(on,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wv(n),n.isCheckStableRunning=!0,Ev(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,_,w)=>{try{return gE(n),s.invokeTask(l,h,_,w)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),mE(n)}},onInvoke:(s,a,l,h,_,w,T)=>{try{return gE(n),s.invoke(l,h,_,w,T)}finally{n.shouldCoalesceRunChangeDetection&&r(),mE(n)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,wv(n),Ev(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+l,r,Cb,Cy,Cy);try{return h.runTask(_,s,a)}finally{h.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Cb={};function Ev(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mE(n){n._nesting--,Ev(n)}class Ab{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gl,this.onMicrotaskEmpty=new gl,this.onStable=new gl,this.onError=new gl}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}let yE=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xu.assertNotInAngularZone(),vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(xt(xu))},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})(),_E=(()=>{class n{constructor(){this._applications=new Map,bv.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return bv.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})();class Sb{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Mb(n){bv=n}let Ru,bv=new Sb;const vE=new Gt("AllowMultipleToken");class Ob{constructor(r,s){this.name=r,this.token=s}}function EE(n,r,s=[]){const a=`Platform: ${r}`,l=new Gt(a);return(h=[])=>{let _=wE();if(!_||_.injector.get(vE,!1))if(n)n(s.concat(h).concat({provide:l,useValue:!0}));else{const w=s.concat(h).concat({provide:l,useValue:!0},{provide:fp,useValue:"platform"});!function Pb(n){if(Ru&&!Ru.destroyed&&!Ru.injector.get(vE,!1))throw new et(400,"");Ru=n.get(bE);const r=n.get(dE,null);r&&r.forEach(s=>s())}(Oa.create({providers:w,name:a}))}return function Nb(n){const r=wE();if(!r)throw new et(401,"");return r}()}}function wE(){return Ru&&!Ru.destroyed?Ru:null}let bE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const w=function kb(n,r){let s;return s="noop"===n?new Ab:("zone.js"===n?void 0:n)||new xu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),T=[{provide:xu,useValue:w}];return w.run(()=>{const B=Oa.create({providers:T,parent:this.injector,name:s.moduleType.name}),q=s.create(B),te=q.injector.get(ii,null);if(!te)throw new et(402,"");return w.runOutsideAngular(()=>{const ge=w.onError.subscribe({next:Ne=>{te.handleError(Ne)}});q.onDestroy(()=>{Cv(this._modules,q),ge.unsubscribe()})}),function Fb(n,r,s){try{const a=s();return Kp(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(te,w,()=>{const ge=q.injector.get(mv);return ge.runInitializers(),ge.donePromise.then(()=>(function $_(n){wt(n,"Expected localeId to be defined"),"string"==typeof n&&(dy=n.toLowerCase().replace(/_/g,"-"))}(q.injector.get(_v,Yc)||Yc),this._moduleDoBootstrap(q),q))})})}bootstrapModule(s,a=[]){const l=IE({},a);return function xb(n,r,s){const a=new nv(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(Iv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new et(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(xt(Oa))},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})();function IE(n,r){return Array.isArray(r)?r.reduce(IE,n):Object.assign(Object.assign({},n),r)}let Iv=(()=>{class n{constructor(s,a,l,h,_){this._zone=s,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=h,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new Q.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),T=new Q.y(B=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{xu.assertNotInAngularZone(),vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const te=this._zone.onUnstable.subscribe(()=>{xu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{q.unsubscribe(),te.unsubscribe()}});this.isStable=(0,De.T)(w,T.pipe((0,pe.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new et(405,"");let l;l=s instanceof g0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const h=function Rb(n){return n.isBoundToModule}(l)?void 0:this._injector.get(If),w=l.create(Oa.NULL,[],a||l.selector,h),T=w.location.nativeElement,B=w.injector.get(yE,null),q=B&&w.injector.get(_E);return B&&q&&q.registerApplication(T,B),w.onDestroy(()=>{this.detachView(w.hostView),Cv(this.components,w),q&&q.unregisterApplication(T)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new et(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Cv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(fE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(xt(xu),xt(Oa),xt(ii),xt(_y),xt(mv))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cv(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let DE=!0,TE=!1;function Vb(){return TE=!0,DE}function Ub(){if(TE)throw new Error("Cannot enable prod mode after platform setup.");DE=!1}let Bb=(()=>{class n{}return n.__NG_ELEMENT_ID__=jb,n})();function jb(n){return function Hb(n,r,s){if(Zn(n)&&!s){const a=hn(n.index,r);return new Ig(a,a)}return 47&n.type?new Ig(r[16],r):null}(cn(),V(),16==(16&n))}class xE{constructor(){}supports(r){return Jl(r)}create(r){return new Zb(r)}}const qb=(n,r)=>r;class Zb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||qb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const _=!a||s&&s.currentIndex<OE(a,l,h)?s:a,w=OE(_,l,h),T=_.currentIndex;if(_===a)l--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)l++;else{h||(h=[]);const B=w-l,q=T-l;if(B!=q){for(let ge=0;ge<B;ge++){const Ne=ge<h.length?h[ge]:h[ge]=0,it=Ne+ge;q<=it&&it<B&&(h[ge]=Ne+1)}h[_.previousIndex]=q-B}}w!==T&&r(_,w,T)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Jl(r))throw new et(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)h=r[w],_=this._trackByFn(w,h),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,h,_,w)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,_,w),a=!0),s=s._next}else l=0,function h_(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[nl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,w=>{_=this._trackByFn(l,w),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,w,_,l)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,_,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new Kb(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new RE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Kb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class RE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Yb,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OE(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class PE{constructor(){}supports(r){return r instanceof Map||Md(r)}create(){return new Qb}}class Qb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Md(r)))throw new et(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,_=l._next;return h&&(h._next=_),_&&(_._prev=h),l._next=null,l._prev=null,l}const a=new Jb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Jb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NE(){return new Mv([new xE])}let Mv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||NE()),deps:[[n,new Zs,new ra]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new et(901,"")}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:NE}),n})();function kE(){return new xv([new PE])}let xv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||kE()),deps:[[n,new Zs,new ra]]}}find(s){const a=this.factories.find(h=>h.supports(s));if(a)return a;throw new et(901,"")}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:kE}),n})();const tI=EE(null,"core",[{provide:hE,useValue:"unknown"},{provide:bE,deps:[Oa]},{provide:_E,deps:[]},{provide:pE,deps:[]}]);let nI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(xt(Iv))},n.\u0275mod=Oe({type:n}),n.\u0275inj=an({}),n})()},2382:(kt,Ue,j)=>{j.d(Ue,{Fj:()=>se,qu:()=>Bs,u:()=>Hi,sg:()=>Mi,u5:()=>tn,JJ:()=>fe,JL:()=>_e,F:()=>pt,On:()=>Ks,UX:()=>Pi,kI:()=>Ee,_Y:()=>ao});var p=j(5e3),O=j(9808),Q=j(8306),De=j(4742),pe=j(8421),he=j(7669),be=j(5403),Ce=j(3268),Me=j(1810),oe=j(8996),Ae=j(4004);let ut=(()=>{class F{constructor(S,V){this._renderer=S,this._elementRef=V,this.onChange=Pe=>{},this.onTouched=()=>{}}setProperty(S,V){this._renderer.setProperty(this._elementRef.nativeElement,S,V)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return F.\u0275fac=function(S){return new(S||F)(p.Y36(p.Qsj),p.Y36(p.SBq))},F.\u0275dir=p.lG2({type:F}),F})(),Be=(()=>{class F extends ut{}return F.\u0275fac=function(){let R;return function(V){return(R||(R=p.n5z(F)))(V||F)}}(),F.\u0275dir=p.lG2({type:F,features:[p.qOj]}),F})();const et=new p.OlP("NgValueAccessor"),tt={provide:et,useExisting:(0,p.Gpc)(()=>se),multi:!0},yt=new p.OlP("CompositionEventMode");let se=(()=>{class F extends ut{constructor(S,V,Pe){super(S,V),this._compositionMode=Pe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Nt(){const F=(0,O.q)()?(0,O.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(S){this.setProperty("value",null==S?"":S)}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return F.\u0275fac=function(S){return new(S||F)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(yt,8))},F.\u0275dir=p.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,V){1&S&&p.NdJ("input",function(Ut){return V._handleInput(Ut.target.value)})("blur",function(){return V.onTouched()})("compositionstart",function(){return V._compositionStart()})("compositionend",function(Ut){return V._compositionEnd(Ut.target.value)})},features:[p._Bn([tt]),p.qOj]}),F})();function He(F){return null==F||0===F.length}function Xe(F){return null!=F&&"number"==typeof F.length}const $e=new p.OlP("NgValidators"),ze=new p.OlP("NgAsyncValidators"),Se=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ee{static min(R){return function le(F){return R=>{if(He(R.value)||He(F))return null;const S=parseFloat(R.value);return!isNaN(S)&&S<F?{min:{min:F,actual:R.value}}:null}}(R)}static max(R){return function Ve(F){return R=>{if(He(R.value)||He(F))return null;const S=parseFloat(R.value);return!isNaN(S)&&S>F?{max:{max:F,actual:R.value}}:null}}(R)}static required(R){return function we(F){return He(F.value)?{required:!0}:null}(R)}static requiredTrue(R){return function lt(F){return!0===F.value?null:{required:!0}}(R)}static email(R){return function Fe(F){return He(F.value)||Se.test(F.value)?null:{email:!0}}(R)}static minLength(R){return function Jt(F){return R=>He(R.value)||!Xe(R.value)?null:R.value.length<F?{minlength:{requiredLength:F,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function zt(F){return R=>Xe(R.value)&&R.value.length>F?{maxlength:{requiredLength:F,actualLength:R.value.length}}:null}(R)}static pattern(R){return function Rt(F){if(!F)return wt;let R,S;return"string"==typeof F?(S="","^"!==F.charAt(0)&&(S+="^"),S+=F,"$"!==F.charAt(F.length-1)&&(S+="$"),R=new RegExp(S)):(S=F.toString(),R=F),V=>{if(He(V.value))return null;const Pe=V.value;return R.test(Pe)?null:{pattern:{requiredPattern:S,actualValue:Pe}}}}(R)}static nullValidator(R){return null}static compose(R){return an(R)}static composeAsync(R){return qn(R)}}function wt(F){return null}function At(F){return null!=F}function sn(F){const R=(0,p.QGY)(F)?(0,oe.D)(F):F;return(0,p.CqO)(R),R}function Vt(F){let R={};return F.forEach(S=>{R=null!=S?Object.assign(Object.assign({},R),S):R}),0===Object.keys(R).length?null:R}function wn(F,R){return R.map(S=>S(F))}function fn(F){return F.map(R=>function $t(F){return!F.validate}(R)?R:S=>R.validate(S))}function an(F){if(!F)return null;const R=F.filter(At);return 0==R.length?null:function(S){return Vt(wn(S,R))}}function vn(F){return null!=F?an(fn(F)):null}function qn(F){if(!F)return null;const R=F.filter(At);return 0==R.length?null:function(S){return function ae(...F){const R=(0,he.jO)(F),{args:S,keys:V}=(0,De.D)(F),Pe=new Q.y(Ut=>{const{length:cn}=S;if(!cn)return void Ut.complete();const ti=new Array(cn);let ui=cn,ir=cn;for(let Ms=0;Ms<cn;Ms++){let ys=!1;(0,pe.Xf)(S[Ms]).subscribe((0,be.x)(Ut,xs=>{ys||(ys=!0,ir--),ti[Ms]=xs},()=>ui--,void 0,()=>{(!ui||!ys)&&(ir||Ut.next(V?(0,Me.n)(V,ti):ti),Ut.complete())}))}});return R?Pe.pipe((0,Ce.Z)(R)):Pe}(wn(S,R).map(sn)).pipe((0,Ae.U)(Vt))}}function Qn(F){return null!=F?qn(fn(F)):null}function Vr(F,R){return null===F?[R]:Array.isArray(F)?[...F,R]:[F,R]}function er(F){return F._rawValidators}function cr(F){return F._rawAsyncValidators}function tr(F){return F?Array.isArray(F)?F:[F]:[]}function ur(F,R){return Array.isArray(F)?F.includes(R):F===R}function Jn(F,R){const S=tr(R);return tr(F).forEach(Pe=>{ur(S,Pe)||S.push(Pe)}),S}function Ht(F,R){return tr(R).filter(S=>!ur(F,S))}class un{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=vn(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=Qn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,S){return!!this.control&&this.control.hasError(R,S)}getError(R,S){return this.control?this.control.getError(R,S):null}}class kn extends un{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pn extends un{get formDirective(){return null}get path(){return null}}class Ur{constructor(R){this._cd=R}is(R){var S,V,Pe;return"submitted"===R?!!(null===(S=this._cd)||void 0===S?void 0:S.submitted):!!(null===(Pe=null===(V=this._cd)||void 0===V?void 0:V.control)||void 0===Pe?void 0:Pe[R])}}let fe=(()=>{class F extends Ur{constructor(S){super(S)}}return F.\u0275fac=function(S){return new(S||F)(p.Y36(kn,2))},F.\u0275dir=p.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,V){2&S&&p.ekj("ng-untouched",V.is("untouched"))("ng-touched",V.is("touched"))("ng-pristine",V.is("pristine"))("ng-dirty",V.is("dirty"))("ng-valid",V.is("valid"))("ng-invalid",V.is("invalid"))("ng-pending",V.is("pending"))},features:[p.qOj]}),F})(),_e=(()=>{class F extends Ur{constructor(S){super(S)}}return F.\u0275fac=function(S){return new(S||F)(p.Y36(pn,10))},F.\u0275dir=p.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,V){2&S&&p.ekj("ng-untouched",V.is("untouched"))("ng-touched",V.is("touched"))("ng-pristine",V.is("pristine"))("ng-dirty",V.is("dirty"))("ng-valid",V.is("valid"))("ng-invalid",V.is("invalid"))("ng-pending",V.is("pending"))("ng-submitted",V.is("submitted"))},features:[p.qOj]}),F})();function Zt(F,R){return[...R.path,F]}function Cn(F,R){me(F,R),R.valueAccessor.writeValue(F.value),function Oe(F,R){R.valueAccessor.registerOnChange(S=>{F._pendingValue=S,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&qt(F,R)})}(F,R),function dn(F,R){const S=(V,Pe)=>{R.valueAccessor.writeValue(V),Pe&&R.viewToModelUpdate(V)};F.registerOnChange(S),R._registerOnDestroy(()=>{F._unregisterOnChange(S)})}(F,R),function Ct(F,R){R.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&qt(F,R),"submit"!==F.updateOn&&F.markAsTouched()})}(F,R),function ie(F,R){if(R.valueAccessor.setDisabledState){const S=V=>{R.valueAccessor.setDisabledState(V)};F.registerOnDisabledChange(S),R._registerOnDestroy(()=>{F._unregisterOnDisabledChange(S)})}}(F,R)}function Kt(F,R,S=!0){const V=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(V),R.valueAccessor.registerOnTouched(V)),qe(F,R),F&&(R._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function ue(F,R){F.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(R)})}function me(F,R){const S=er(F);null!==R.validator?F.setValidators(Vr(S,R.validator)):"function"==typeof S&&F.setValidators([S]);const V=cr(F);null!==R.asyncValidator?F.setAsyncValidators(Vr(V,R.asyncValidator)):"function"==typeof V&&F.setAsyncValidators([V]);const Pe=()=>F.updateValueAndValidity();ue(R._rawValidators,Pe),ue(R._rawAsyncValidators,Pe)}function qe(F,R){let S=!1;if(null!==F){if(null!==R.validator){const Pe=er(F);if(Array.isArray(Pe)&&Pe.length>0){const Ut=Pe.filter(cn=>cn!==R.validator);Ut.length!==Pe.length&&(S=!0,F.setValidators(Ut))}}if(null!==R.asyncValidator){const Pe=cr(F);if(Array.isArray(Pe)&&Pe.length>0){const Ut=Pe.filter(cn=>cn!==R.asyncValidator);Ut.length!==Pe.length&&(S=!0,F.setAsyncValidators(Ut))}}}const V=()=>{};return ue(R._rawValidators,V),ue(R._rawAsyncValidators,V),S}function qt(F,R){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function Xt(F,R){me(F,R)}function mr(F,R){if(!F.hasOwnProperty("model"))return!1;const S=F.model;return!!S.isFirstChange()||!Object.is(R,S.currentValue)}function Hr(F,R){F._syncPendingControls(),R.forEach(S=>{const V=S.control;"submit"===V.updateOn&&V._pendingChange&&(S.viewToModelUpdate(V._pendingValue),V._pendingChange=!1)})}function Rr(F,R){if(!R)return null;let S,V,Pe;return Array.isArray(R),R.forEach(Ut=>{Ut.constructor===se?S=Ut:function Ds(F){return Object.getPrototypeOf(F.constructor)===Be}(Ut)?V=Ut:Pe=Ut}),Pe||V||S||null}function Dr(F,R){const S=F.indexOf(R);S>-1&&F.splice(S,1)}const dt="VALID",Bt="INVALID",nn="PENDING",hr="DISABLED";function Or(F){return(yi(F)?F.validators:F)||null}function zn(F){return Array.isArray(F)?vn(F):F||null}function Bn(F,R){return(yi(R)?R.asyncValidators:F)||null}function yr(F){return Array.isArray(F)?Qn(F):F||null}function yi(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}const En=F=>F instanceof $r,Ai=F=>F instanceof Ie,Ui=F=>F instanceof de;function Ji(F){return En(F)?F.value:F.getRawValue()}function _i(F,R){const S=Ai(F),V=F.controls;if(!(S?Object.keys(V):V).length)throw new p.vHH(1e3,"");if(!V[R])throw new p.vHH(1001,"")}function kr(F,R){Ai(F),F._forEachChild((V,Pe)=>{if(void 0===R[Pe])throw new p.vHH(1002,"")})}class Tr{constructor(R,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=S,this._composedValidatorFn=zn(this._rawValidators),this._composedAsyncValidatorFn=yr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===dt}get invalid(){return this.status===Bt}get pending(){return this.status==nn}get disabled(){return this.status===hr}get enabled(){return this.status!==hr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=zn(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=yr(R)}addValidators(R){this.setValidators(Jn(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(Jn(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Ht(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Ht(R,this._rawAsyncValidators))}hasValidator(R){return ur(this._rawValidators,R)}hasAsyncValidator(R){return ur(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=nn,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const S=this._parentMarkedDirty(R.onlySelf);this.status=hr,this.errors=null,this._forEachChild(V=>{V.disable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:S})),this._onDisabledChange.forEach(V=>V(!0))}enable(R={}){const S=this._parentMarkedDirty(R.onlySelf);this.status=dt,this._forEachChild(V=>{V.enable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:S})),this._onDisabledChange.forEach(V=>V(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dt||this.status===nn)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hr:dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=nn,this._hasOwnPendingAsyncValidator=!0;const S=sn(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(V=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(V,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,S={}){this.errors=R,this._updateControlsErrors(!1!==S.emitEvent)}get(R){return function di(F,R,S){if(null==R||(Array.isArray(R)||(R=R.split(S)),Array.isArray(R)&&0===R.length))return null;let V=F;return R.forEach(Pe=>{V=Ai(V)?V.controls.hasOwnProperty(Pe)?V.controls[Pe]:null:Ui(V)&&V.at(Pe)||null}),V}(this,R,".")}getError(R,S){const V=S?this.get(S):this;return V&&V.errors?V.errors[R]:null}hasError(R,S){return!!this.getError(R,S)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?hr:this.errors?Bt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nn)?nn:this._anyControlsHaveStatus(Bt)?Bt:dt}_anyControlsHaveStatus(R){return this._anyControls(S=>S.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_isBoxedValue(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){yi(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class $r extends Tr{constructor(R=null,S,V){super(Or(S),Bn(V,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yi(S)&&S.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(R)?R.value:R)}setValue(R,S={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(V=>V(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(R,S={}){this.setValue(R,S)}reset(R=this.defaultValue,S={}){this._applyFormState(R),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){Dr(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){Dr(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){this._isBoxedValue(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}}class Ie extends Tr{constructor(R,S,V){super(Or(S),Bn(V,S)),this.controls=R,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,S){return this.controls[R]?this.controls[R]:(this.controls[R]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(R,S,V={}){this.registerControl(R,S),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}removeControl(R,S={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(R,S,V={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],S&&this.registerControl(R,S),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,S={}){kr(this,R),Object.keys(R).forEach(V=>{_i(this,V),this.controls[V].setValue(R[V],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(R,S={}){null!=R&&(Object.keys(R).forEach(V=>{this.controls[V]&&this.controls[V].patchValue(R[V],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(R={},S={}){this._forEachChild((V,Pe)=>{V.reset(R[Pe],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(R,S,V)=>(R[V]=Ji(S),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(S,V)=>!!V._syncPendingControls()||S);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(S=>{const V=this.controls[S];V&&R(V,S)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const S of Object.keys(this.controls)){const V=this.controls[S];if(this.contains(S)&&R(V))return!0}return!1}_reduceValue(){return this._reduceChildren({},(R,S,V)=>((S.enabled||this.disabled)&&(R[V]=S.value),R))}_reduceChildren(R,S){let V=R;return this._forEachChild((Pe,Ut)=>{V=S(V,Pe,Ut)}),V}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class de extends Tr{constructor(R,S,V){super(Or(S),Bn(V,S)),this.controls=R,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[R]}push(R,S={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(R,S,V={}){this.controls.splice(R,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:V.emitEvent})}removeAt(R,S={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(R,S,V={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),S&&(this.controls.splice(R,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,S={}){kr(this,R),R.forEach((V,Pe)=>{_i(this,Pe),this.at(Pe).setValue(V,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(R,S={}){null!=R&&(R.forEach((V,Pe)=>{this.at(Pe)&&this.at(Pe).patchValue(V,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(R=[],S={}){this._forEachChild((V,Pe)=>{V.reset(R[Pe],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(R=>Ji(R))}clear(R={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_syncPendingControls(){let R=this.controls.reduce((S,V)=>!!V._syncPendingControls()||S,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((S,V)=>{R(S,V)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(S=>S.enabled&&R(S))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}}const Le={provide:pn,useExisting:(0,p.Gpc)(()=>pt)},nt=(()=>Promise.resolve(null))();let pt=(()=>{class F extends pn{constructor(S,V){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new Ie({},vn(S),Qn(V))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){nt.then(()=>{const V=this._findContainer(S.path);S.control=V.registerControl(S.name,S.control),Cn(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){nt.then(()=>{const V=this._findContainer(S.path);V&&V.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){nt.then(()=>{const V=this._findContainer(S.path),Pe=new Ie({});Xt(Pe,S),V.registerControl(S.name,Pe),Pe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){nt.then(()=>{const V=this._findContainer(S.path);V&&V.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,V){nt.then(()=>{this.form.get(S.path).setValue(V)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,Hr(this.form,this._directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return F.\u0275fac=function(S){return new(S||F)(p.Y36($e,10),p.Y36(ze,10))},F.\u0275dir=p.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,V){1&S&&p.NdJ("submit",function(Ut){return V.onSubmit(Ut)})("reset",function(){return V.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Le]),p.qOj]}),F})();const oo={provide:kn,useExisting:(0,p.Gpc)(()=>Ks)},nr=(()=>Promise.resolve(null))();let Ks=(()=>{class F extends kn{constructor(S,V,Pe,Ut,cn){super(),this._changeDetectorRef=cn,this.control=new $r,this._registered=!1,this.update=new p.vpe,this._parent=S,this._setValidators(V),this._setAsyncValidators(Pe),this.valueAccessor=Rr(0,Ut)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const V=S.name.previousValue;this.formDirective.removeControl({name:V,path:this._getPath(V)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),mr(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){nr.then(()=>{var V;this.control.setValue(S,{emitViewToModelChange:!1}),null===(V=this._changeDetectorRef)||void 0===V||V.markForCheck()})}_updateDisabled(S){const V=S.isDisabled.currentValue,Pe=""===V||V&&"false"!==V;nr.then(()=>{var Ut;Pe&&!this.control.disabled?this.control.disable():!Pe&&this.control.disabled&&this.control.enable(),null===(Ut=this._changeDetectorRef)||void 0===Ut||Ut.markForCheck()})}_getPath(S){return this._parent?Zt(S,this._parent):[S]}}return F.\u0275fac=function(S){return new(S||F)(p.Y36(pn,9),p.Y36($e,10),p.Y36(ze,10),p.Y36(et,10),p.Y36(p.sBO,8))},F.\u0275dir=p.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([oo]),p.qOj,p.TTD]}),F})(),ao=(()=>{class F{}return F.\u0275fac=function(S){return new(S||F)},F.\u0275dir=p.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})(),Gr=(()=>{class F{}return F.\u0275fac=function(S){return new(S||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({}),F})();const Ys=new p.OlP("NgModelWithFormControlWarning"),os={provide:pn,useExisting:(0,p.Gpc)(()=>Mi)};let Mi=(()=>{class F extends pn{constructor(S,V){super(),this.validators=S,this.asyncValidators=V,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(S),this._setAsyncValidators(V)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const V=this.form.get(S.path);return Cn(V,S),V.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),V}getControl(S){return this.form.get(S.path)}removeControl(S){Kt(S.control||null,S,!1),Dr(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,V){this.form.get(S.path).setValue(V)}onSubmit(S){return this.submitted=!0,Hr(this.form,this.directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const V=S.control,Pe=this.form.get(S.path);V!==Pe&&(Kt(V||null,S),En(Pe)&&(Cn(Pe,S),S.control=Pe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const V=this.form.get(S.path);Xt(V,S),V.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const V=this.form.get(S.path);V&&function Dn(F,R){return qe(F,R)}(V,S)&&V.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){me(this.form,this),this._oldForm&&qe(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(S){return new(S||F)(p.Y36($e,10),p.Y36(ze,10))},F.\u0275dir=p.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(S,V){1&S&&p.NdJ("submit",function(Ut){return V.onSubmit(Ut)})("reset",function(){return V.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([os]),p.qOj,p.TTD]}),F})();const ji={provide:kn,useExisting:(0,p.Gpc)(()=>Hi)};let Hi=(()=>{class F extends kn{constructor(S,V,Pe,Ut,cn){super(),this._ngModelWarningConfig=cn,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(V),this._setAsyncValidators(Pe),this.valueAccessor=Rr(0,Ut)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),mr(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return Zt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return F._ngModelWarningSentOnce=!1,F.\u0275fac=function(S){return new(S||F)(p.Y36(pn,13),p.Y36($e,10),p.Y36(ze,10),p.Y36(et,10),p.Y36(Ys,8))},F.\u0275dir=p.lG2({type:F,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([ji]),p.qOj,p.TTD]}),F})(),ai=(()=>{class F{}return F.\u0275fac=function(S){return new(S||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({imports:[[Gr]]}),F})(),tn=(()=>{class F{}return F.\u0275fac=function(S){return new(S||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({imports:[ai]}),F})(),Pi=(()=>{class F{static withConfig(S){return{ngModule:F,providers:[{provide:Ys,useValue:S.warnOnNgModelWithFormControl}]}}}return F.\u0275fac=function(S){return new(S||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({imports:[ai]}),F})(),Bs=(()=>{class F{group(S,V=null){const Pe=this._reduceControls(S);let ti,Ut=null,cn=null;return null!=V&&(function Ni(F){return void 0!==F.asyncValidators||void 0!==F.validators||void 0!==F.updateOn}(V)?(Ut=null!=V.validators?V.validators:null,cn=null!=V.asyncValidators?V.asyncValidators:null,ti=null!=V.updateOn?V.updateOn:void 0):(Ut=null!=V.validator?V.validator:null,cn=null!=V.asyncValidator?V.asyncValidator:null)),new Ie(Pe,{asyncValidators:cn,updateOn:ti,validators:Ut})}control(S,V,Pe){return new $r(S,V,Pe)}array(S,V,Pe){const Ut=S.map(cn=>this._createControl(cn));return new de(Ut,V,Pe)}_reduceControls(S){const V={};return Object.keys(S).forEach(Pe=>{V[Pe]=this._createControl(S[Pe])}),V}_createControl(S){return En(S)||Ai(S)||Ui(S)?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return F.\u0275fac=function(S){return new(S||F)},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac,providedIn:Pi}),F})()},3809:(kt,Ue,j)=>{j.d(Ue,{F0:()=>bi,rH:()=>Os,yS:()=>No,Bz:()=>Pr,lC:()=>ms});var p=j(5e3),O=j(7579);class Q extends O.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const y=super._subscribe(E);return!y.closed&&E.next(this._value),y}getValue(){const{hasError:E,thrownError:y,_value:A}=this;if(E)throw y;return this._throwIfClosed(),A}next(E){super.next(this._value=E)}}var De=j(8306),pe=j(4742),he=j(8996),be=j(4671),Ce=j(3268),Me=j(7669),ae=j(1810),oe=j(5403),Ae=j(9672);function et(b,E,y){b?(0,Ae.f)(y,b,E):E()}var ft=j(576);function ke(b,E){const y=(0,ft.m)(b)?b:()=>b,A=L=>L.error(y());return new De.y(E?L=>E.schedule(A,0,L):A)}var tt=j(8421);function Nt(b){return new De.y(E=>{(0,tt.Xf)(b()).subscribe(E)})}var yt=j(727),se=j(4482);function He(){return(0,se.e)((b,E)=>{let y=null;b._refCount++;const A=(0,oe.x)(E,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(y=null);const L=b._connection,$=y;y=null,L&&(!$||L===$)&&L.unsubscribe(),E.unsubscribe()});b.subscribe(A),A.closed||(y=b.connect())})}class Xe extends De.y{constructor(E,y){super(),this.source=E,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,se.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,null==E||E.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new yt.w0;const y=this.getSubject();E.add(this.source.subscribe((0,oe.x)(y,void 0,()=>{this._teardown(),y.complete()},A=>{this._teardown(),y.error(A)},()=>this._teardown()))),E.closed&&(this._connection=null,E=yt.w0.EMPTY)}return E}refCount(){return He()(this)}}var $e=j(9646),ze=j(6805),Se=j(7272),Ee=j(515);function le(b){return(0,se.e)((E,y)=>{let $,A=null,L=!1;A=E.subscribe((0,oe.x)(y,void 0,void 0,z=>{$=(0,tt.Xf)(b(z,le(b)(E))),A?(A.unsubscribe(),A=null,$.subscribe(y)):L=!0})),L&&(A.unsubscribe(),A=null,$.subscribe(y))})}var Ve=j(9300);function we(b){return b<=0?()=>Ee.E:(0,se.e)((E,y)=>{let A=[];E.subscribe((0,oe.x)(y,L=>{A.push(L),b<A.length&&A.shift()},()=>{for(const L of A)y.next(L);y.complete()},void 0,()=>{A=null}))})}var lt=j(8068),Fe=j(6590),Rt=j(4004),wt=j(3900),At=j(5698),sn=j(8675),Vt=j(5026),wn=j(4351),$t=j(590),fn=j(5577),an=j(8505),vn=j(8189),qn=j(9808);class Qn{constructor(E,y){this.id=E,this.url=y}}class Vr extends Qn{constructor(E,y,A="imperative",L=null){super(E,y),this.navigationTrigger=A,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class er extends Qn{constructor(E,y,A){super(E,y),this.urlAfterRedirects=A}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cr extends Qn{constructor(E,y,A){super(E,y),this.reason=A}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tr extends Qn{constructor(E,y,A){super(E,y),this.error=A}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ur extends Qn{constructor(E,y,A,L){super(E,y),this.urlAfterRedirects=A,this.state=L}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Qn{constructor(E,y,A,L){super(E,y),this.urlAfterRedirects=A,this.state=L}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht extends Qn{constructor(E,y,A,L,$){super(E,y),this.urlAfterRedirects=A,this.state=L,this.shouldActivate=$}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class un extends Qn{constructor(E,y,A,L){super(E,y),this.urlAfterRedirects=A,this.state=L}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends Qn{constructor(E,y,A,L){super(E,y),this.urlAfterRedirects=A,this.state=L}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pn{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ur{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Li{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fe{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _e{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(E,y,A){this.routerEvent=E,this.position=y,this.anchor=A}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xe="primary";class st{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y[0]:y}return null}getAll(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function bt(b){return new st(b)}const In="ngNavigationCancelingError";function mn(b){const E=Error("NavigationCancelingError: "+b);return E[In]=!0,E}function Yr(b,E,y){const A=y.path.split("/");if(A.length>b.length||"full"===y.pathMatch&&(E.hasChildren()||A.length<b.length))return null;const L={};for(let $=0;$<A.length;$++){const z=A[$],X=b[$];if(z.startsWith(":"))L[z.substring(1)]=X;else if(z!==X.path)return null}return{consumed:b.slice(0,A.length),posParams:L}}function Un(b,E){const y=b?Object.keys(b):void 0,A=E?Object.keys(E):void 0;if(!y||!A||y.length!=A.length)return!1;let L;for(let $=0;$<y.length;$++)if(L=y[$],!It(b[L],E[L]))return!1;return!0}function It(b,E){if(Array.isArray(b)&&Array.isArray(E)){if(b.length!==E.length)return!1;const y=[...b].sort(),A=[...E].sort();return y.every((L,$)=>A[$]===L)}return b===E}function Rn(b){return Array.prototype.concat.apply([],b)}function yn(b){return b.length>0?b[b.length-1]:null}function Ge(b,E){for(const y in b)b.hasOwnProperty(y)&&E(b[y],y)}function Tt(b){return(0,p.CqO)(b)?b:(0,p.QGY)(b)?(0,he.D)(Promise.resolve(b)):(0,$e.of)(b)}const Cn={exact:function me(b,E,y){if(!ln(b.segments,E.segments)||!qt(b.segments,E.segments,y)||b.numberOfChildren!==E.numberOfChildren)return!1;for(const A in E.children)if(!b.children[A]||!me(b.children[A],E.children[A],y))return!1;return!0},subset:Oe},Kt={exact:function ie(b,E){return Un(b,E)},subset:function qe(b,E){return Object.keys(E).length<=Object.keys(b).length&&Object.keys(E).every(y=>It(b[y],E[y]))},ignored:()=>!0};function ue(b,E,y){return Cn[y.paths](b.root,E.root,y.matrixParams)&&Kt[y.queryParams](b.queryParams,E.queryParams)&&!("exact"===y.fragment&&b.fragment!==E.fragment)}function Oe(b,E,y){return Ct(b,E,E.segments,y)}function Ct(b,E,y,A){if(b.segments.length>y.length){const L=b.segments.slice(0,y.length);return!(!ln(L,y)||E.hasChildren()||!qt(L,y,A))}if(b.segments.length===y.length){if(!ln(b.segments,y)||!qt(b.segments,y,A))return!1;for(const L in E.children)if(!b.children[L]||!Oe(b.children[L],E.children[L],A))return!1;return!0}{const L=y.slice(0,b.segments.length),$=y.slice(b.segments.length);return!!(ln(b.segments,L)&&qt(b.segments,L,A)&&b.children[xe])&&Ct(b.children[xe],E,$,A)}}function qt(b,E,y){return E.every((A,L)=>Kt[y](b[L].parameters,A.parameters))}class dn{constructor(E,y,A){this.root=E,this.queryParams=y,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return Ds.serialize(this)}}class Xt{constructor(E,y){this.segments=E,this.children=y,this.parent=null,Ge(y,(A,L)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hr(this)}}class Dn{constructor(E,y){this.path=E,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=bt(this.parameters)),this._parameterMap}toString(){return hr(this)}}function ln(b,E){return b.length===E.length&&b.every((y,A)=>y.path===E[A].path)}class jr{}class mr{parse(E){const y=new Ui(E);return new dn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(E){const y=`/${Rr(E.root,!0)}`,A=function Or(b){const E=Object.keys(b).map(y=>{const A=b[y];return Array.isArray(A)?A.map(L=>`${Vi(y)}=${Vi(L)}`).join("&"):`${Vi(y)}=${Vi(A)}`}).filter(y=>!!y);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${y}${A}${"string"==typeof E.fragment?`#${function Nr(b){return encodeURI(b)}(E.fragment)}`:""}`}}const Ds=new mr;function Hr(b){return b.segments.map(E=>hr(E)).join("/")}function Rr(b,E){if(!b.hasChildren())return Hr(b);if(E){const y=b.children[xe]?Rr(b.children[xe],!1):"",A=[];return Ge(b.children,(L,$)=>{$!==xe&&A.push(`${$}:${Rr(L,!1)}`)}),A.length>0?`${y}(${A.join("//")})`:y}{const y=function or(b,E){let y=[];return Ge(b.children,(A,L)=>{L===xe&&(y=y.concat(E(A,L)))}),Ge(b.children,(A,L)=>{L!==xe&&(y=y.concat(E(A,L)))}),y}(b,(A,L)=>L===xe?[Rr(b.children[xe],!1)]:[`${L}:${Rr(A,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[xe]?`${Hr(b)}/${y[0]}`:`${Hr(b)}/(${y.join("//")})`}}function Dr(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vi(b){return Dr(b).replace(/%3B/gi,";")}function dt(b){return Dr(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bt(b){return decodeURIComponent(b)}function nn(b){return Bt(b.replace(/\+/g,"%20"))}function hr(b){return`${dt(b.path)}${function di(b){return Object.keys(b).map(E=>`;${dt(E)}=${dt(b[E])}`).join("")}(b.parameters)}`}const zn=/^[^\/()?;=#]+/;function Bn(b){const E=b.match(zn);return E?E[0]:""}const yr=/^[^=?&#]+/,En=/^[^&#]+/;class Ui{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(E.length>0||Object.keys(y).length>0)&&(A[xe]=new Xt(E,y)),A}parseSegment(){const E=Bn(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new Dn(Bt(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const y=Bn(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const L=Bn(this.remaining);L&&(A=L,this.capture(A))}E[Bt(y)]=Bt(A)}parseQueryParam(E){const y=function yi(b){const E=b.match(yr);return E?E[0]:""}(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const z=function Ai(b){const E=b.match(En);return E?E[0]:""}(this.remaining);z&&(A=z,this.capture(A))}const L=nn(y),$=nn(A);if(E.hasOwnProperty(L)){let z=E[L];Array.isArray(z)||(z=[z],E[L]=z),z.push($)}else E[L]=$}parseParens(E){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Bn(this.remaining),L=this.remaining[A.length];if("/"!==L&&")"!==L&&";"!==L)throw new Error(`Cannot parse url '${this.url}'`);let $;A.indexOf(":")>-1?($=A.substr(0,A.indexOf(":")),this.capture($),this.capture(":")):E&&($=xe);const z=this.parseChildren();y[$]=1===Object.keys(z).length?z[xe]:new Xt([],z),this.consumeOptional("//")}return y}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class Ji{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const y=this.pathFromRoot(E);return y.length>1?y[y.length-2]:null}children(E){const y=_i(E,this._root);return y?y.children.map(A=>A.value):[]}firstChild(E){const y=_i(E,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(E){const y=kr(E,this._root);return y.length<2?[]:y[y.length-2].children.map(L=>L.value).filter(L=>L!==E)}pathFromRoot(E){return kr(E,this._root).map(y=>y.value)}}function _i(b,E){if(b===E.value)return E;for(const y of E.children){const A=_i(b,y);if(A)return A}return null}function kr(b,E){if(b===E.value)return[E];for(const y of E.children){const A=kr(b,y);if(A.length)return A.unshift(E),A}return[]}class Tr{constructor(E,y){this.value=E,this.children=y}toString(){return`TreeNode(${this.value})`}}function $r(b){const E={};return b&&b.children.forEach(y=>E[y.value.outlet]=y),E}class Ie extends Ji{constructor(E,y){super(E),this.snapshot=y,Nn(this,E)}toString(){return this.snapshot.toString()}}function de(b,E){const y=function Le(b,E){const z=new Xn([],{},{},"",{},xe,E,null,b.root,-1,{});return new Zn("",new Tr(z,[]))}(b,E),A=new Q([new Dn("",{})]),L=new Q({}),$=new Q({}),z=new Q({}),X=new Q(""),je=new nt(A,L,z,X,$,xe,E,y.root);return je.snapshot=y.root,new Ie(new Tr(je,[]),y)}class nt{constructor(E,y,A,L,$,z,X,je){this.url=E,this.params=y,this.queryParams=A,this.fragment=L,this.data=$,this.outlet=z,this.component=X,this._futureSnapshot=je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.U)(E=>bt(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.U)(E=>bt(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pt(b,E="emptyOnly"){const y=b.pathFromRoot;let A=0;if("always"!==E)for(A=y.length-1;A>=1;){const L=y[A],$=y[A-1];if(L.routeConfig&&""===L.routeConfig.path)A--;else{if($.component)break;A--}}return function Pt(b){return b.reduce((E,y)=>({params:Object.assign(Object.assign({},E.params),y.params),data:Object.assign(Object.assign({},E.data),y.data),resolve:Object.assign(Object.assign({},E.resolve),y._resolvedData)}),{params:{},data:{},resolve:{}})}(y.slice(A))}class Xn{constructor(E,y,A,L,$,z,X,je,Ot,Hn,Yt){this.url=E,this.params=y,this.queryParams=A,this.fragment=L,this.data=$,this.outlet=z,this.component=X,this.routeConfig=je,this._urlSegment=Ot,this._lastPathIndex=Hn,this._resolve=Yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zn extends Ji{constructor(E,y){super(y),this.url=E,Nn(this,y)}toString(){return jn(this._root)}}function Nn(b,E){E.value._routerState=b,E.children.forEach(y=>Nn(b,y))}function jn(b){const E=b.children.length>0?` { ${b.children.map(jn).join(", ")} } `:"";return`${b.value}${E}`}function Bi(b){if(b.snapshot){const E=b.snapshot,y=b._futureSnapshot;b.snapshot=y,Un(E.queryParams,y.queryParams)||b.queryParams.next(y.queryParams),E.fragment!==y.fragment&&b.fragment.next(y.fragment),Un(E.params,y.params)||b.params.next(y.params),function lr(b,E){if(b.length!==E.length)return!1;for(let y=0;y<b.length;++y)if(!Un(b[y],E[y]))return!1;return!0}(E.url,y.url)||b.url.next(y.url),Un(E.data,y.data)||b.data.next(y.data)}else b.snapshot=b._futureSnapshot,b.data.next(b._futureSnapshot.data)}function Si(b,E){const y=Un(b.params,E.params)&&function gr(b,E){return ln(b,E)&&b.every((y,A)=>Un(y.parameters,E[A].parameters))}(b.url,E.url);return y&&!(!b.parent!=!E.parent)&&(!b.parent||Si(b.parent,E.parent))}function nr(b,E,y){if(y&&b.shouldReuseRoute(E.value,y.value.snapshot)){const A=y.value;A._futureSnapshot=E.value;const L=function Ks(b,E,y){return E.children.map(A=>{for(const L of y.children)if(b.shouldReuseRoute(A.value,L.value.snapshot))return nr(b,A,L);return nr(b,A)})}(b,E,y);return new Tr(A,L)}{if(b.shouldAttach(E.value)){const $=b.retrieve(E.value);if(null!==$){const z=$.route;return z.value._futureSnapshot=E.value,z.children=E.children.map(X=>nr(b,X)),z}}const A=function ao(b){return new nt(new Q(b.url),new Q(b.params),new Q(b.queryParams),new Q(b.fragment),new Q(b.data),b.outlet,b.component,b)}(E.value),L=E.children.map($=>nr(b,$));return new Tr(A,L)}}function ss(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Xi(b){return"object"==typeof b&&null!=b&&b.outlets}function Br(b,E,y,A,L){let $={};if(A&&Ge(A,(X,je)=>{$[je]=Array.isArray(X)?X.map(Ot=>`${Ot}`):`${X}`}),b===E)return new dn(y,$,L);const z=Gr(b,E,y);return new dn(z,$,L)}function Gr(b,E,y){const A={};return Ge(b.children,(L,$)=>{A[$]=L===E?y:Gr(L,E,y)}),new Xt(b.segments,A)}class Ls{constructor(E,y,A){if(this.isAbsolute=E,this.numberOfDoubleDots=y,this.commands=A,E&&A.length>0&&ss(A[0]))throw new Error("Root segment cannot have matrix parameters");const L=A.find(Xi);if(L&&L!==yn(A))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wo{constructor(E,y,A){this.segmentGroup=E,this.processChildren=y,this.index=A}}function Qs(b,E,y){if(b||(b=new Xt([],{})),0===b.segments.length&&b.hasChildren())return os(b,E,y);const A=function Mi(b,E,y){let A=0,L=E;const $={match:!1,pathIndex:0,commandIndex:0};for(;L<b.segments.length;){if(A>=y.length)return $;const z=b.segments[L],X=y[A];if(Xi(X))break;const je=`${X}`,Ot=A<y.length-1?y[A+1]:null;if(L>0&&void 0===je)break;if(je&&Ot&&"object"==typeof Ot&&void 0===Ot.outlets){if(!Qr(je,Ot,z))return $;A+=2}else{if(!Qr(je,{},z))return $;A++}L++}return{match:!0,pathIndex:L,commandIndex:A}}(b,E,y),L=y.slice(A.commandIndex);if(A.match&&A.pathIndex<b.segments.length){const $=new Xt(b.segments.slice(0,A.pathIndex),{});return $.children[xe]=new Xt(b.segments.slice(A.pathIndex),b.children),os($,0,L)}return A.match&&0===L.length?new Xt(b.segments,{}):A.match&&!b.hasChildren()?Js(b,E,y):A.match?os(b,0,L):Js(b,E,y)}function os(b,E,y){if(0===y.length)return new Xt(b.segments,{});{const A=function As(b){return Xi(b[0])?b[0].outlets:{[xe]:b}}(y),L={};return Ge(A,($,z)=>{"string"==typeof $&&($=[$]),null!==$&&(L[z]=Qs(b.children[z],E,$))}),Ge(b.children,($,z)=>{void 0===A[z]&&(L[z]=$)}),new Xt(b.segments,L)}}function Js(b,E,y){const A=b.segments.slice(0,E);let L=0;for(;L<y.length;){const $=y[L];if(Xi($)){const je=hs($.outlets);return new Xt(A,je)}if(0===L&&ss(y[0])){A.push(new Dn(b.segments[E].path,Ei(y[0]))),L++;continue}const z=Xi($)?$.outlets[xe]:`${$}`,X=L<y.length-1?y[L+1]:null;z&&X&&ss(X)?(A.push(new Dn(z,Ei(X))),L+=2):(A.push(new Dn(z,{})),L++)}return new Xt(A,{})}function hs(b){const E={};return Ge(b,(y,A)=>{"string"==typeof y&&(y=[y]),null!==y&&(E[A]=Js(new Xt([],{}),0,y))}),E}function Ei(b){const E={};return Ge(b,(y,A)=>E[A]=`${y}`),E}function Qr(b,E,y){return b==y.path&&Un(E,y.parameters)}class ji{constructor(E,y,A,L){this.routeReuseStrategy=E,this.futureState=y,this.currState=A,this.forwardEvent=L}activate(E){const y=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,A,E),Bi(this.futureState.root),this.activateChildRoutes(y,A,E)}deactivateChildRoutes(E,y,A){const L=$r(y);E.children.forEach($=>{const z=$.value.outlet;this.deactivateRoutes($,L[z],A),delete L[z]}),Ge(L,($,z)=>{this.deactivateRouteAndItsChildren($,A)})}deactivateRoutes(E,y,A){const L=E.value,$=y?y.value:null;if(L===$)if(L.component){const z=A.getContext(L.outlet);z&&this.deactivateChildRoutes(E,y,z.children)}else this.deactivateChildRoutes(E,y,A);else $&&this.deactivateRouteAndItsChildren(y,A)}deactivateRouteAndItsChildren(E,y){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,y):this.deactivateRouteAndOutlet(E,y)}detachAndStoreRouteSubtree(E,y){const A=y.getContext(E.value.outlet),L=A&&E.value.component?A.children:y,$=$r(E);for(const z of Object.keys($))this.deactivateRouteAndItsChildren($[z],L);if(A&&A.outlet){const z=A.outlet.detach(),X=A.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:z,route:E,contexts:X})}}deactivateRouteAndOutlet(E,y){const A=y.getContext(E.value.outlet),L=A&&E.value.component?A.children:y,$=$r(E);for(const z of Object.keys($))this.deactivateRouteAndItsChildren($[z],L);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(E,y,A){const L=$r(y);E.children.forEach($=>{this.activateRoutes($,L[$.value.outlet],A),this.forwardEvent(new _e($.value.snapshot))}),E.children.length&&this.forwardEvent(new Qe(E.value.snapshot))}activateRoutes(E,y,A){const L=E.value,$=y?y.value:null;if(Bi(L),L===$)if(L.component){const z=A.getOrCreateContext(L.outlet);this.activateChildRoutes(E,y,z.children)}else this.activateChildRoutes(E,y,A);else if(L.component){const z=A.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const X=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),z.children.onOutletReAttached(X.contexts),z.attachRef=X.componentRef,z.route=X.route.value,z.outlet&&z.outlet.attach(X.componentRef,X.route.value),Bi(X.route.value),this.activateChildRoutes(E,null,z.children)}else{const X=function Hi(b){for(let E=b.parent;E;E=E.parent){const y=E.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig;if(y&&y.component)return null}return null}(L.snapshot),je=X?X.module.componentFactoryResolver:null;z.attachRef=null,z.route=L,z.resolver=je,z.outlet&&z.outlet.activateWith(L,je),this.activateChildRoutes(E,null,z.children)}}else this.activateChildRoutes(E,null,A)}}class Ss{constructor(E,y){this.routes=E,this.module=y}}function as(b){return"function"==typeof b}function Wr(b){return b instanceof dn}const wr=Symbol("INITIAL_VALUE");function wi(){return(0,wt.w)(b=>function ut(...b){const E=(0,Me.yG)(b),y=(0,Me.jO)(b),{args:A,keys:L}=(0,pe.D)(b);if(0===A.length)return(0,he.D)([],E);const $=new De.y(function Be(b,E,y=be.y){return A=>{et(E,()=>{const{length:L}=b,$=new Array(L);let z=L,X=L;for(let je=0;je<L;je++)et(E,()=>{const Ot=(0,he.D)(b[je],E);let Hn=!1;Ot.subscribe((0,oe.x)(A,Yt=>{$[je]=Yt,Hn||(Hn=!0,X--),X||A.next(y($.slice()))},()=>{--z||A.complete()}))},A)},A)}}(A,E,L?z=>(0,ae.n)(L,z):be.y));return y?$.pipe((0,Ce.Z)(y)):$}(b.map(E=>E.pipe((0,At.q)(1),(0,sn.O)(wr)))).pipe((0,Vt.R)((E,y)=>{let A=!1;return y.reduce((L,$,z)=>L!==wr?L:($===wr&&(A=!0),A||!1!==$&&z!==y.length-1&&!Wr($)?L:$),E)},wr),(0,Ve.h)(E=>E!==wr),(0,Rt.U)(E=>Wr(E)?E:!0===E),(0,At.q)(1)))}class Us{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gs,this.attachRef=null}}class gs{constructor(){this.contexts=new Map}onChildOutletCreated(E,y){const A=this.getOrCreateContext(E);A.outlet=y,this.contexts.set(E,A)}onChildOutletDestroyed(E){const y=this.getContext(E);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let y=this.getContext(E);return y||(y=new Us,this.contexts.set(E,y)),y}getContext(E){return this.contexts.get(E)||null}}let ms=(()=>{class b{constructor(y,A,L,$,z){this.parentContexts=y,this.location=A,this.resolver=L,this.changeDetector=z,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=$||xe,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,A){this.activated=y,this._activatedRoute=A,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,A){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;const z=(A=A||this.resolver).resolveComponentFactory(y._futureSnapshot.routeConfig.component),X=this.parentContexts.getOrCreateContext(this.name).children,je=new br(y,X,this.location.injector);this.activated=this.location.createComponent(z,this.location.length,je),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return b.\u0275fac=function(y){return new(y||b)(p.Y36(gs),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},b.\u0275dir=p.lG2({type:b,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),b})();class br{constructor(E,y,A){this.route=E,this.childContexts=y,this.parent=A}get(E,y){return E===nt?this.route:E===gs?this.childContexts:this.parent.get(E,y)}}let Fr=(()=>{class b{}return b.\u0275fac=function(y){return new(y||b)},b.\u0275cmp=p.Xpm({type:b,selectors:[["ng-component"]],decls:1,vars:0,template:function(y,A){1&y&&p._UZ(0,"router-outlet")},directives:[ms],encapsulation:2}),b})();function Ri(b,E=""){for(let y=0;y<b.length;y++){const A=b[y];us(A,_r(E,A))}}function us(b,E){b.children&&Ri(b.children,E)}function _r(b,E){return E?b||E.path?b&&!E.path?`${b}/`:!b&&E.path?E.path:`${b}/${E.path}`:"":b}function N(b){const E=b.children&&b.children.map(N),y=E?Object.assign(Object.assign({},b),{children:E}):Object.assign({},b);return!y.component&&(E||y.loadChildren)&&y.outlet&&y.outlet!==xe&&(y.component=Fr),y}function W(b){return b.outlet||xe}function P(b,E){const y=b.filter(A=>W(A)===E);return y.push(...b.filter(A=>W(A)!==E)),y}const Y={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ce(b,E,y){var A;if(""===E.path)return"full"===E.pathMatch&&(b.hasChildren()||y.length>0)?Object.assign({},Y):{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const $=(E.matcher||Yr)(y,b,E);if(!$)return Object.assign({},Y);const z={};Ge($.posParams,(je,Ot)=>{z[Ot]=je.path});const X=$.consumed.length>0?Object.assign(Object.assign({},z),$.consumed[$.consumed.length-1].parameters):z;return{matched:!0,consumedSegments:$.consumed,remainingSegments:y.slice($.consumed.length),parameters:X,positionalParamSegments:null!==(A=$.posParams)&&void 0!==A?A:{}}}function Ze(b,E,y,A,L="corrected"){if(y.length>0&&function Fn(b,E,y){return y.some(A=>hn(b,E,A)&&W(A)!==xe)}(b,y,A)){const z=new Xt(E,function Dt(b,E,y,A){const L={};L[xe]=A,A._sourceSegment=b,A._segmentIndexShift=E.length;for(const $ of y)if(""===$.path&&W($)!==xe){const z=new Xt([],{});z._sourceSegment=b,z._segmentIndexShift=E.length,L[W($)]=z}return L}(b,E,A,new Xt(y,b.children)));return z._sourceSegment=b,z._segmentIndexShift=E.length,{segmentGroup:z,slicedSegments:[]}}if(0===y.length&&function An(b,E,y){return y.some(A=>hn(b,E,A))}(b,y,A)){const z=new Xt(b.segments,function Ye(b,E,y,A,L,$){const z={};for(const X of A)if(hn(b,y,X)&&!L[W(X)]){const je=new Xt([],{});je._sourceSegment=b,je._segmentIndexShift="legacy"===$?b.segments.length:E.length,z[W(X)]=je}return Object.assign(Object.assign({},L),z)}(b,E,y,A,b.children,L));return z._sourceSegment=b,z._segmentIndexShift=E.length,{segmentGroup:z,slicedSegments:y}}const $=new Xt(b.segments,b.children);return $._sourceSegment=b,$._segmentIndexShift=E.length,{segmentGroup:$,slicedSegments:y}}function hn(b,E,y){return(!(b.hasChildren()||E.length>0)||"full"!==y.pathMatch)&&""===y.path}function Sn(b,E,y,A){return!!(W(b)===A||A!==xe&&hn(E,y,b))&&("**"===b.path||ce(E,b,y).matched)}function Ar(b,E,y){return 0===E.length&&!b.children[y]}class Kn{constructor(E){this.segmentGroup=E||null}}class rr{constructor(E){this.urlTree=E}}function Oi(b){return ke(new Kn(b))}function ai(b){return ke(new rr(b))}class Bs{constructor(E,y,A,L,$){this.configLoader=y,this.urlSerializer=A,this.urlTree=L,this.config=$,this.allowRedirects=!0,this.ngModule=E.get(p.h0i)}apply(){const E=Ze(this.urlTree.root,[],[],this.config).segmentGroup,y=new Xt(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,y,xe).pipe((0,Rt.U)($=>this.createUrlTree(F($),this.urlTree.queryParams,this.urlTree.fragment))).pipe(le($=>{if($ instanceof rr)return this.allowRedirects=!1,this.match($.urlTree);throw $ instanceof Kn?this.noMatchError($):$}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,xe).pipe((0,Rt.U)(L=>this.createUrlTree(F(L),E.queryParams,E.fragment))).pipe(le(L=>{throw L instanceof Kn?this.noMatchError(L):L}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,y,A){const L=E.segments.length>0?new Xt([],{[xe]:E}):E;return new dn(L,y,A)}expandSegmentGroup(E,y,A,L){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(E,y,A).pipe((0,Rt.U)($=>new Xt([],$))):this.expandSegment(E,A,y,A.segments,L,!0)}expandChildren(E,y,A){const L=[];for(const $ of Object.keys(A.children))"primary"===$?L.unshift($):L.push($);return(0,he.D)(L).pipe((0,wn.b)($=>{const z=A.children[$],X=P(y,$);return this.expandSegmentGroup(E,X,z,$).pipe((0,Rt.U)(je=>({segment:je,outlet:$})))}),(0,Vt.R)(($,z)=>($[z.outlet]=z.segment,$),{}),function Jt(b,E){const y=arguments.length>=2;return A=>A.pipe(b?(0,Ve.h)((L,$)=>b(L,$,A)):be.y,we(1),y?(0,Fe.d)(E):(0,lt.T)(()=>new ze.K))}())}expandSegment(E,y,A,L,$,z){return(0,he.D)(A).pipe((0,wn.b)(X=>this.expandSegmentAgainstRoute(E,y,A,X,L,$,z).pipe(le(Ot=>{if(Ot instanceof Kn)return(0,$e.of)(null);throw Ot}))),(0,$t.P)(X=>!!X),le((X,je)=>{if(X instanceof ze.K||"EmptyError"===X.name)return Ar(y,L,$)?(0,$e.of)(new Xt([],{})):Oi(y);throw X}))}expandSegmentAgainstRoute(E,y,A,L,$,z,X){return Sn(L,y,$,z)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(E,y,L,$,z):X&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,y,A,L,$,z):Oi(y):Oi(y)}expandSegmentAgainstRouteUsingRedirect(E,y,A,L,$,z){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,A,L,z):this.expandRegularSegmentAgainstRouteUsingRedirect(E,y,A,L,$,z)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,y,A,L){const $=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?ai($):this.lineralizeSegments(A,$).pipe((0,fn.z)(z=>{const X=new Xt(z,{});return this.expandSegment(E,X,y,z,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,y,A,L,$,z){const{matched:X,consumedSegments:je,remainingSegments:Ot,positionalParamSegments:Hn}=ce(y,L,$);if(!X)return Oi(y);const Yt=this.applyRedirectCommands(je,L.redirectTo,Hn);return L.redirectTo.startsWith("/")?ai(Yt):this.lineralizeSegments(L,Yt).pipe((0,fn.z)(fr=>this.expandSegment(E,y,A,fr.concat(Ot),z,!1)))}matchSegmentAgainstRoute(E,y,A,L,$){if("**"===A.path)return A.loadChildren?(A._loadedConfig?(0,$e.of)(A._loadedConfig):this.configLoader.load(E.injector,A)).pipe((0,Rt.U)(Yt=>(A._loadedConfig=Yt,new Xt(L,{})))):(0,$e.of)(new Xt(L,{}));const{matched:z,consumedSegments:X,remainingSegments:je}=ce(y,A,L);return z?this.getChildConfig(E,A,L).pipe((0,fn.z)(Hn=>{const Yt=Hn.module,fr=Hn.routes,{segmentGroup:$n,slicedSegments:Ps}=Ze(y,X,je,fr),ls=new Xt($n.segments,$n.children);if(0===Ps.length&&ls.hasChildren())return this.expandChildren(Yt,fr,ls).pipe((0,Rt.U)(zs=>new Xt(X,zs)));if(0===fr.length&&0===Ps.length)return(0,$e.of)(new Xt(X,{}));const Vo=W(A)===$;return this.expandSegment(Yt,ls,fr,Ps,Vo?xe:$,!0).pipe((0,Rt.U)(Xr=>new Xt(X.concat(Xr.segments),Xr.children)))})):Oi(y)}getChildConfig(E,y,A){return y.children?(0,$e.of)(new Ss(y.children,E)):y.loadChildren?void 0!==y._loadedConfig?(0,$e.of)(y._loadedConfig):this.runCanLoadGuards(E.injector,y,A).pipe((0,fn.z)(L=>L?this.configLoader.load(E.injector,y).pipe((0,Rt.U)($=>(y._loadedConfig=$,$))):function Pi(b){return ke(mn(`Cannot load children because the guard of the route "path: '${b.path}'" returned false`))}(y))):(0,$e.of)(new Ss([],E))}runCanLoadGuards(E,y,A){const L=y.canLoad;if(!L||0===L.length)return(0,$e.of)(!0);const $=L.map(z=>{const X=E.get(z);let je;if(function xi(b){return b&&as(b.canLoad)}(X))je=X.canLoad(y,A);else{if(!as(X))throw new Error("Invalid CanLoad guard");je=X(y,A)}return Tt(je)});return(0,$e.of)($).pipe(wi(),(0,an.b)(z=>{if(!Wr(z))return;const X=mn(`Redirecting to "${this.urlSerializer.serialize(z)}"`);throw X.url=z,X}),(0,Rt.U)(z=>!0===z))}lineralizeSegments(E,y){let A=[],L=y.root;for(;;){if(A=A.concat(L.segments),0===L.numberOfChildren)return(0,$e.of)(A);if(L.numberOfChildren>1||!L.children[xe])return ke(new Error(`Only absolute redirects can have named outlets. redirectTo: '${E.redirectTo}'`));L=L.children[xe]}}applyRedirectCommands(E,y,A){return this.applyRedirectCreatreUrlTree(y,this.urlSerializer.parse(y),E,A)}applyRedirectCreatreUrlTree(E,y,A,L){const $=this.createSegmentGroup(E,y.root,A,L);return new dn($,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(E,y){const A={};return Ge(E,(L,$)=>{if("string"==typeof L&&L.startsWith(":")){const X=L.substring(1);A[$]=y[X]}else A[$]=L}),A}createSegmentGroup(E,y,A,L){const $=this.createSegments(E,y.segments,A,L);let z={};return Ge(y.children,(X,je)=>{z[je]=this.createSegmentGroup(E,X,A,L)}),new Xt($,z)}createSegments(E,y,A,L){return y.map($=>$.path.startsWith(":")?this.findPosParam(E,$,L):this.findOrReturn($,A))}findPosParam(E,y,A){const L=A[y.path.substring(1)];if(!L)throw new Error(`Cannot redirect to '${E}'. Cannot find '${y.path}'.`);return L}findOrReturn(E,y){let A=0;for(const L of y){if(L.path===E.path)return y.splice(A),L;A++}return E}}function F(b){const E={};for(const A of Object.keys(b.children)){const $=F(b.children[A]);($.segments.length>0||$.hasChildren())&&(E[A]=$)}return function Xs(b){if(1===b.numberOfChildren&&b.children[xe]){const E=b.children[xe];return new Xt(b.segments.concat(E.segments),E.children)}return b}(new Xt(b.segments,E))}class S{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class V{constructor(E,y){this.component=E,this.route=y}}function Pe(b,E,y){const A=b._root;return ui(A,E?E._root:null,y,[A.value])}function cn(b,E,y){const A=function ti(b){if(!b)return null;for(let E=b.parent;E;E=E.parent){const y=E.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig}return null}(E);return(A?A.module.injector:y).get(b)}function ui(b,E,y,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const $=$r(E);return b.children.forEach(z=>{(function ir(b,E,y,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const $=b.value,z=E?E.value:null,X=y?y.getContext(b.value.outlet):null;if(z&&$.routeConfig===z.routeConfig){const je=function Ms(b,E,y){if("function"==typeof y)return y(b,E);switch(y){case"pathParamsChange":return!ln(b.url,E.url);case"pathParamsOrQueryParamsChange":return!ln(b.url,E.url)||!Un(b.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Si(b,E)||!Un(b.queryParams,E.queryParams);default:return!Si(b,E)}}(z,$,$.routeConfig.runGuardsAndResolvers);je?L.canActivateChecks.push(new S(A)):($.data=z.data,$._resolvedData=z._resolvedData),ui(b,E,$.component?X?X.children:null:y,A,L),je&&X&&X.outlet&&X.outlet.isActivated&&L.canDeactivateChecks.push(new V(X.outlet.component,z))}else z&&ys(E,X,L),L.canActivateChecks.push(new S(A)),ui(b,null,$.component?X?X.children:null:y,A,L)})(z,$[z.value.outlet],y,A.concat([z.value]),L),delete $[z.value.outlet]}),Ge($,(z,X)=>ys(z,y.getContext(X),L)),L}function ys(b,E,y){const A=$r(b),L=b.value;Ge(A,($,z)=>{ys($,L.component?E?E.children.getContext(z):null:E,y)}),y.canDeactivateChecks.push(new V(L.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,L))}class _s{}function lo(b){return new De.y(E=>E.error(b))}class la{constructor(E,y,A,L,$,z){this.rootComponentType=E,this.config=y,this.urlTree=A,this.url=L,this.paramsInheritanceStrategy=$,this.relativeLinkResolution=z}recognize(){const E=Ze(this.urlTree.root,[],[],this.config.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution).segmentGroup,y=this.processSegmentGroup(this.config,E,xe);if(null===y)return null;const A=new Xn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xe,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Tr(A,y),$=new Zn(this.url,L);return this.inheritParamsAndData($._root),$}inheritParamsAndData(E){const y=E.value,A=pt(y,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),E.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(E,y,A){return 0===y.segments.length&&y.hasChildren()?this.processChildren(E,y):this.processSegment(E,y,y.segments,A)}processChildren(E,y){const A=[];for(const $ of Object.keys(y.children)){const z=y.children[$],X=P(E,$),je=this.processSegmentGroup(X,z,$);if(null===je)return null;A.push(...je)}const L=Ko(A);return function qr(b){b.sort((E,y)=>E.value.outlet===xe?-1:y.value.outlet===xe?1:E.value.outlet.localeCompare(y.value.outlet))}(L),L}processSegment(E,y,A,L){for(const $ of E){const z=this.processSegmentAgainstRoute($,y,A,L);if(null!==z)return z}return Ar(y,A,L)?[]:null}processSegmentAgainstRoute(E,y,A,L){if(E.redirectTo||!Sn(E,y,A,L))return null;let $,z=[],X=[];if("**"===E.path){const $n=A.length>0?yn(A).parameters:{};$=new Xn(A,$n,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hs(E),W(E),E.component,E,Yo(y),co(y)+A.length,ca(E))}else{const $n=ce(y,E,A);if(!$n.matched)return null;z=$n.consumedSegments,X=$n.remainingSegments,$=new Xn(z,$n.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hs(E),W(E),E.component,E,Yo(y),co(y)+z.length,ca(E))}const je=function Io(b){return b.children?b.children:b.loadChildren?b._loadedConfig.routes:[]}(E),{segmentGroup:Ot,slicedSegments:Hn}=Ze(y,z,X,je.filter($n=>void 0===$n.redirectTo),this.relativeLinkResolution);if(0===Hn.length&&Ot.hasChildren()){const $n=this.processChildren(je,Ot);return null===$n?null:[new Tr($,$n)]}if(0===je.length&&0===Hn.length)return[new Tr($,[])];const Yt=W(E)===L,fr=this.processSegment(je,Ot,Hn,Yt?xe:L);return null===fr?null:[new Tr($,fr)]}}function Zo(b){const E=b.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Ko(b){const E=[],y=new Set;for(const A of b){if(!Zo(A)){E.push(A);continue}const L=E.find($=>A.value.routeConfig===$.value.routeConfig);void 0!==L?(L.children.push(...A.children),y.add(L)):E.push(A)}for(const A of y){const L=Ko(A.children);E.push(new Tr(A.value,L))}return E.filter(A=>!y.has(A))}function Yo(b){let E=b;for(;E._sourceSegment;)E=E._sourceSegment;return E}function co(b){let E=b,y=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,y+=E._segmentIndexShift?E._segmentIndexShift:0;return y-1}function Hs(b){return b.data||{}}function ca(b){return b.resolve||{}}function ja(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function Zr(b){return(0,wt.w)(E=>{const y=b(E);return y?(0,he.D)(y).pipe((0,Rt.U)(()=>E)):(0,$e.of)(E)})}class Po extends class zr{shouldDetach(E){return!1}store(E,y){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,y){return E.routeConfig===y.routeConfig}}{}const ha=new p.OlP("ROUTES");class fa{constructor(E,y,A,L){this.injector=E,this.compiler=y,this.onLoadStartListener=A,this.onLoadEndListener=L}load(E,y){if(y._loader$)return y._loader$;this.onLoadStartListener&&this.onLoadStartListener(y);const L=this.loadModuleFactory(y.loadChildren).pipe((0,Rt.U)($=>{this.onLoadEndListener&&this.onLoadEndListener(y);const z=$.create(E);return new Ss(Rn(z.injector.get(ha,void 0,p.XFs.Self|p.XFs.Optional)).map(N),z)}),le($=>{throw y._loader$=void 0,$}));return y._loader$=new Xe(L,()=>new O.x).pipe(He()),y._loader$}loadModuleFactory(E){return Tt(E()).pipe((0,fn.z)(y=>y instanceof p.YKP?(0,$e.of)(y):(0,he.D)(this.compiler.compileModuleAsync(y))))}}class ou{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,y){return E}}function ba(b){throw b}function ts(b,E,y){return E.parse("/")}function To(b,E){return(0,$e.of)(null)}const Jo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ni={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class b{constructor(y,A,L,$,z,X,je){this.rootComponentType=y,this.urlSerializer=A,this.rootContexts=L,this.location=$,this.config=je,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new O.x,this.errorHandler=ba,this.malformedUriErrorHandler=ts,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:To,afterPreactivation:To},this.urlHandlingStrategy=new ou,this.routeReuseStrategy=new Po,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=z.get(p.h0i),this.console=z.get(p.c2e);const Yt=z.get(p.R0b);this.isNgZoneEnabled=Yt instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(je),this.currentUrlTree=function Zt(){return new dn(new Xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fa(z,X,fr=>this.triggerEvent(new pn(fr)),fr=>this.triggerEvent(new Ur(fr))),this.routerState=de(this.currentUrlTree,this.rootComponentType),this.transitions=new Q({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var y;return null===(y=this.location.getState())||void 0===y?void 0:y.\u0275routerPageId}setupNavigations(y){const A=this.events;return y.pipe((0,Ve.h)(L=>0!==L.id),(0,Rt.U)(L=>Object.assign(Object.assign({},L),{extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,wt.w)(L=>{let $=!1,z=!1;return(0,$e.of)(L).pipe((0,an.b)(X=>{this.currentNavigation={id:X.id,initialUrl:X.currentRawUrl,extractedUrl:X.extractedUrl,trigger:X.source,extras:X.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,wt.w)(X=>{const je=this.browserUrlTree.toString(),Ot=!this.navigated||X.extractedUrl.toString()!==je||je!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ot)&&this.urlHandlingStrategy.shouldProcessUrl(X.rawUrl))return ns(X.source)&&(this.browserUrlTree=X.extractedUrl),(0,$e.of)(X).pipe((0,wt.w)(Yt=>{const fr=this.transitions.getValue();return A.next(new Vr(Yt.id,this.serializeUrl(Yt.extractedUrl),Yt.source,Yt.restoredState)),fr!==this.transitions.getValue()?Ee.E:Promise.resolve(Yt)}),function R(b,E,y,A){return(0,wt.w)(L=>function Ni(b,E,y,A,L){return new Bs(b,E,y,A,L).apply()}(b,E,y,L.extractedUrl,A).pipe((0,Rt.U)($=>Object.assign(Object.assign({},L),{urlAfterRedirects:$}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,an.b)(Yt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Yt.urlAfterRedirects})}),function $s(b,E,y,A,L){return(0,fn.z)($=>function es(b,E,y,A,L="emptyOnly",$="legacy"){try{const z=new la(b,E,y,A,L,$).recognize();return null===z?lo(new _s):(0,$e.of)(z)}catch(z){return lo(z)}}(b,E,$.urlAfterRedirects,y($.urlAfterRedirects),A,L).pipe((0,Rt.U)(z=>Object.assign(Object.assign({},$),{targetSnapshot:z}))))}(this.rootComponentType,this.config,Yt=>this.serializeUrl(Yt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,an.b)(Yt=>{if("eager"===this.urlUpdateStrategy){if(!Yt.extras.skipLocationChange){const $n=this.urlHandlingStrategy.merge(Yt.urlAfterRedirects,Yt.rawUrl);this.setBrowserUrl($n,Yt)}this.browserUrlTree=Yt.urlAfterRedirects}const fr=new ur(Yt.id,this.serializeUrl(Yt.extractedUrl),this.serializeUrl(Yt.urlAfterRedirects),Yt.targetSnapshot);A.next(fr)}));if(Ot&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:fr,extractedUrl:$n,source:Ps,restoredState:ls,extras:Vo}=X,Mo=new Vr(fr,this.serializeUrl($n),Ps,ls);A.next(Mo);const Xr=de($n,this.rootComponentType).snapshot;return(0,$e.of)(Object.assign(Object.assign({},X),{targetSnapshot:Xr,urlAfterRedirects:$n,extras:Object.assign(Object.assign({},Vo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=X.rawUrl,X.resolve(null),Ee.E}),Zr(X=>{const{targetSnapshot:je,id:Ot,extractedUrl:Hn,rawUrl:Yt,extras:{skipLocationChange:fr,replaceUrl:$n}}=X;return this.hooks.beforePreactivation(je,{navigationId:Ot,appliedUrlTree:Hn,rawUrlTree:Yt,skipLocationChange:!!fr,replaceUrl:!!$n})}),(0,an.b)(X=>{const je=new Jn(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot);this.triggerEvent(je)}),(0,Rt.U)(X=>Object.assign(Object.assign({},X),{guards:Pe(X.targetSnapshot,X.currentSnapshot,this.rootContexts)})),function xs(b,E){return(0,fn.z)(y=>{const{targetSnapshot:A,currentSnapshot:L,guards:{canActivateChecks:$,canDeactivateChecks:z}}=y;return 0===z.length&&0===$.length?(0,$e.of)(Object.assign(Object.assign({},y),{guardsResult:!0})):function wa(b,E,y,A){return(0,he.D)(b).pipe((0,fn.z)(L=>function js(b,E,y,A,L){const $=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,$e.of)(!0);const z=$.map(X=>{const je=cn(X,E,L);let Ot;if(function Er(b){return b&&as(b.canDeactivate)}(je))Ot=Tt(je.canDeactivate(b,E,y,A));else{if(!as(je))throw new Error("Invalid CanDeactivate guard");Ot=Tt(je(b,E,y,A))}return Ot.pipe((0,$t.P)())});return(0,$e.of)(z).pipe(wi())}(L.component,L.route,y,E,A)),(0,$t.P)(L=>!0!==L,!0))}(z,A,L,b).pipe((0,fn.z)(X=>X&&function fs(b){return"boolean"==typeof b}(X)?function ua(b,E,y,A){return(0,he.D)(E).pipe((0,wn.b)(L=>(0,Se.z)(function Ir(b,E){return null!==b&&E&&E(new Li(b)),(0,$e.of)(!0)}(L.route.parent,A),function uo(b,E){return null!==b&&E&&E(new fe(b)),(0,$e.of)(!0)}(L.route,A),function bo(b,E,y){const A=E[E.length-1],$=E.slice(0,E.length-1).reverse().map(z=>function Ut(b){const E=b.routeConfig?b.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:b,guards:E}:null}(z)).filter(z=>null!==z).map(z=>Nt(()=>{const X=z.guards.map(je=>{const Ot=cn(je,z.node,y);let Hn;if(function Vs(b){return b&&as(b.canActivateChild)}(Ot))Hn=Tt(Ot.canActivateChild(A,b));else{if(!as(Ot))throw new Error("Invalid CanActivateChild guard");Hn=Tt(Ot(A,b))}return Hn.pipe((0,$t.P)())});return(0,$e.of)(X).pipe(wi())}));return(0,$e.of)($).pipe(wi())}(b,L.path,y),function ki(b,E,y){const A=E.routeConfig?E.routeConfig.canActivate:null;if(!A||0===A.length)return(0,$e.of)(!0);const L=A.map($=>Nt(()=>{const z=cn($,E,y);let X;if(function ps(b){return b&&as(b.canActivate)}(z))X=Tt(z.canActivate(E,b));else{if(!as(z))throw new Error("Invalid CanActivate guard");X=Tt(z(E,b))}return X.pipe((0,$t.P)())}));return(0,$e.of)(L).pipe(wi())}(b,L.route,y))),(0,$t.P)(L=>!0!==L,!0))}(A,$,b,E):(0,$e.of)(X)),(0,Rt.U)(X=>Object.assign(Object.assign({},y),{guardsResult:X})))})}(this.ngModule.injector,X=>this.triggerEvent(X)),(0,an.b)(X=>{if(Wr(X.guardsResult)){const Ot=mn(`Redirecting to "${this.serializeUrl(X.guardsResult)}"`);throw Ot.url=X.guardsResult,Ot}const je=new Ht(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot,!!X.guardsResult);this.triggerEvent(je)}),(0,Ve.h)(X=>!!X.guardsResult||(this.restoreHistory(X),this.cancelNavigationTransition(X,""),!1)),Zr(X=>{if(X.guards.canActivateChecks.length)return(0,$e.of)(X).pipe((0,an.b)(je=>{const Ot=new un(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(Ot)}),(0,wt.w)(je=>{let Ot=!1;return(0,$e.of)(je).pipe(function da(b,E){return(0,fn.z)(y=>{const{targetSnapshot:A,guards:{canActivateChecks:L}}=y;if(!L.length)return(0,$e.of)(y);let $=0;return(0,he.D)(L).pipe((0,wn.b)(z=>function Rs(b,E,y,A){return function ho(b,E,y,A){const L=ja(b);if(0===L.length)return(0,$e.of)({});const $={};return(0,he.D)(L).pipe((0,fn.z)(z=>function Qo(b,E,y,A){const L=cn(b,E,A);return Tt(L.resolve?L.resolve(E,y):L(E,y))}(b[z],E,y,A).pipe((0,an.b)(X=>{$[z]=X}))),we(1),(0,fn.z)(()=>ja($).length===L.length?(0,$e.of)($):Ee.E))}(b._resolve,b,E,A).pipe((0,Rt.U)($=>(b._resolvedData=$,b.data=Object.assign(Object.assign({},b.data),pt(b,y).resolve),null)))}(z.route,A,b,E)),(0,an.b)(()=>$++),we(1),(0,fn.z)(z=>$===L.length?(0,$e.of)(y):Ee.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,an.b)({next:()=>Ot=!0,complete:()=>{Ot||(this.restoreHistory(je),this.cancelNavigationTransition(je,"At least one route resolver didn't emit any value."))}}))}),(0,an.b)(je=>{const Ot=new kn(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(Ot)}))}),Zr(X=>{const{targetSnapshot:je,id:Ot,extractedUrl:Hn,rawUrl:Yt,extras:{skipLocationChange:fr,replaceUrl:$n}}=X;return this.hooks.afterPreactivation(je,{navigationId:Ot,appliedUrlTree:Hn,rawUrlTree:Yt,skipLocationChange:!!fr,replaceUrl:!!$n})}),(0,Rt.U)(X=>{const je=function oo(b,E,y){const A=nr(b,E._root,y?y._root:void 0);return new Ie(A,E)}(this.routeReuseStrategy,X.targetSnapshot,X.currentRouterState);return Object.assign(Object.assign({},X),{targetRouterState:je})}),(0,an.b)(X=>{this.currentUrlTree=X.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),this.routerState=X.targetRouterState,"deferred"===this.urlUpdateStrategy&&(X.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,X),this.browserUrlTree=X.urlAfterRedirects)}),((b,E,y)=>(0,Rt.U)(A=>(new ji(E,A.targetRouterState,A.currentRouterState,y).activate(b),A)))(this.rootContexts,this.routeReuseStrategy,X=>this.triggerEvent(X)),(0,an.b)({next(){$=!0},complete(){$=!0}}),function zt(b){return(0,se.e)((E,y)=>{try{E.subscribe(y)}finally{y.add(b)}})}(()=>{var X;$||z||this.cancelNavigationTransition(L,`Navigation ID ${L.id} is not equal to the current navigation id ${this.navigationId}`),(null===(X=this.currentNavigation)||void 0===X?void 0:X.id)===L.id&&(this.currentNavigation=null)}),le(X=>{if(z=!0,function on(b){return b&&b[In]}(X)){const je=Wr(X.url);je||(this.navigated=!0,this.restoreHistory(L,!0));const Ot=new cr(L.id,this.serializeUrl(L.extractedUrl),X.message);A.next(Ot),je?setTimeout(()=>{const Hn=this.urlHandlingStrategy.merge(X.url,this.rawUrlTree),Yt={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ns(L.source)};this.scheduleNavigation(Hn,"imperative",null,Yt,{resolve:L.resolve,reject:L.reject,promise:L.promise})},0):L.resolve(!1)}else{this.restoreHistory(L,!0);const je=new tr(L.id,this.serializeUrl(L.extractedUrl),X);A.next(je);try{L.resolve(this.errorHandler(X))}catch(Ot){L.reject(Ot)}}return Ee.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),y))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const A="popstate"===y.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{var L;const $={replaceUrl:!0},z=(null===(L=y.state)||void 0===L?void 0:L.navigationId)?y.state:null;if(z){const je=Object.assign({},z);delete je.navigationId,delete je.\u0275routerPageId,0!==Object.keys(je).length&&($.state=je)}const X=this.parseUrl(y.url);this.scheduleNavigation(X,A,z,$)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){Ri(y),this.config=y.map(N),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,A={}){const{relativeTo:L,queryParams:$,fragment:z,queryParamsHandling:X,preserveFragment:je}=A,Ot=L||this.routerState.root,Hn=je?this.currentUrlTree.fragment:z;let Yt=null;switch(X){case"merge":Yt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),$);break;case"preserve":Yt=this.currentUrlTree.queryParams;break;default:Yt=$||null}return null!==Yt&&(Yt=this.removeEmptyProps(Yt)),function vi(b,E,y,A,L){if(0===y.length)return Br(E.root,E.root,E.root,A,L);const $=function hi(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Ls(!0,0,b);let E=0,y=!1;const A=b.reduce((L,$,z)=>{if("object"==typeof $&&null!=$){if($.outlets){const X={};return Ge($.outlets,(je,Ot)=>{X[Ot]="string"==typeof je?je.split("/"):je}),[...L,{outlets:X}]}if($.segmentPath)return[...L,$.segmentPath]}return"string"!=typeof $?[...L,$]:0===z?($.split("/").forEach((X,je)=>{0==je&&"."===X||(0==je&&""===X?y=!0:".."===X?E++:""!=X&&L.push(X))}),L):[...L,$]},[]);return new Ls(y,E,A)}(y);if($.toRoot())return Br(E.root,E.root,new Xt([],{}),A,L);const z=function Ts(b,E,y){if(b.isAbsolute)return new wo(E.root,!0,0);if(-1===y.snapshot._lastPathIndex){const $=y.snapshot._urlSegment;return new wo($,$===E.root,0)}const A=ss(b.commands[0])?0:1;return function Ys(b,E,y){let A=b,L=E,$=y;for(;$>L;){if($-=L,A=A.parent,!A)throw new Error("Invalid number of '../'");L=A.segments.length}return new wo(A,!1,L-$)}(y.snapshot._urlSegment,y.snapshot._lastPathIndex+A,b.numberOfDoubleDots)}($,E,b),X=z.processChildren?os(z.segmentGroup,z.index,$.commands):Qs(z.segmentGroup,z.index,$.commands);return Br(E.root,z.segmentGroup,X,A,L)}(Ot,this.currentUrlTree,y,Yt,null!=Hn?Hn:null)}navigateByUrl(y,A={skipLocationChange:!1}){const L=Wr(y)?y:this.parseUrl(y),$=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation($,"imperative",null,A)}navigate(y,A={skipLocationChange:!1}){return function au(b){for(let E=0;E<b.length;E++){const y=b[E];if(null==y)throw new Error(`The requested path contains ${y} segment at index ${E}`)}}(y),this.navigateByUrl(this.createUrlTree(y,A),A)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let A;try{A=this.urlSerializer.parse(y)}catch(L){A=this.malformedUriErrorHandler(L,this.urlSerializer,y)}return A}isActive(y,A){let L;if(L=!0===A?Object.assign({},Jo):!1===A?Object.assign({},ni):A,Wr(y))return ue(this.currentUrlTree,y,L);const $=this.parseUrl(y);return ue(this.currentUrlTree,$,L)}removeEmptyProps(y){return Object.keys(y).reduce((A,L)=>{const $=y[L];return null!=$&&(A[L]=$),A},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new er(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,A,L,$,z){var X,je;if(this.disposed)return Promise.resolve(!1);let Ot,Hn,Yt;z?(Ot=z.resolve,Hn=z.reject,Yt=z.promise):Yt=new Promise((Ps,ls)=>{Ot=Ps,Hn=ls});const fr=++this.navigationId;let $n;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),$n=L&&L.\u0275routerPageId?L.\u0275routerPageId:$.replaceUrl||$.skipLocationChange?null!==(X=this.browserPageId)&&void 0!==X?X:0:(null!==(je=this.browserPageId)&&void 0!==je?je:0)+1):$n=0,this.setTransition({id:fr,targetPageId:$n,source:A,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:$,resolve:Ot,reject:Hn,promise:Yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yt.catch(Ps=>Promise.reject(Ps))}setBrowserUrl(y,A){const L=this.urlSerializer.serialize(y),$=Object.assign(Object.assign({},A.extras.state),this.generateNgRouterState(A.id,A.targetPageId));this.location.isCurrentPathEqualTo(L)||A.extras.replaceUrl?this.location.replaceState(L,"",$):this.location.go(L,"",$)}restoreHistory(y,A=!1){var L,$;if("computed"===this.canceledNavigationResolution){const z=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(L=this.currentNavigation)||void 0===L?void 0:L.finalUrl)||0===z?this.currentUrlTree===(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)&&0===z&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(z)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,A){const L=new cr(y.id,this.serializeUrl(y.extractedUrl),A);this.triggerEvent(L),y.resolve(!1)}generateNgRouterState(y,A){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:A}:{navigationId:y}}}return b.\u0275fac=function(y){p.$Z()},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac}),b})();function ns(b){return"imperative"!==b}let Os=(()=>{class b{constructor(y,A,L,$,z){this.router=y,this.route=A,this.tabIndexAttribute=L,this.renderer=$,this.el=z,this.commands=null,this.onChanges=new O.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const A=this.renderer,L=this.el.nativeElement;null!==y?A.setAttribute(L,"tabindex",y):A.removeAttribute(L,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const y={skipLocationChange:$i(this.skipLocationChange),replaceUrl:$i(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$i(this.preserveFragment)})}}return b.\u0275fac=function(y){return new(y||b)(p.Y36(bi),p.Y36(nt),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},b.\u0275dir=p.lG2({type:b,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,A){1&y&&p.NdJ("click",function(){return A.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),b})(),No=(()=>{class b{constructor(y,A,L){this.router=y,this.route=A,this.locationStrategy=L,this.commands=null,this.href=null,this.onChanges=new O.x,this.subscription=y.events.subscribe($=>{$ instanceof er&&this.updateTargetUrlAndHref()})}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,A,L,$,z){if(0!==y||A||L||$||z||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const X={skipLocationChange:$i(this.skipLocationChange),replaceUrl:$i(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,X),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$i(this.preserveFragment)})}}return b.\u0275fac=function(y){return new(y||b)(p.Y36(bi),p.Y36(nt),p.Y36(qn.S$))},b.\u0275dir=p.lG2({type:b,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,A){1&y&&p.NdJ("click",function($){return A.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&y&&p.uIk("target",A.target)("href",A.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),b})();function $i(b){return""===b||!!b}class Ha{}class $a{preload(E,y){return(0,$e.of)(null)}}let Cr=(()=>{class b{constructor(y,A,L,$){this.router=y,this.injector=L,this.preloadingStrategy=$,this.loader=new fa(L,A,je=>y.triggerEvent(new pn(je)),je=>y.triggerEvent(new Ur(je)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.h)(y=>y instanceof er),(0,wn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const y=this.injector.get(p.h0i);return this.processRoutes(y,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,A){const L=[];for(const $ of A)if($.loadChildren&&!$.canLoad&&$._loadedConfig){const z=$._loadedConfig;L.push(this.processRoutes(z.module,z.routes))}else $.loadChildren&&!$.canLoad?L.push(this.preloadConfig(y,$)):$.children&&L.push(this.processRoutes(y,$.children));return(0,he.D)(L).pipe((0,vn.J)(),(0,Rt.U)($=>{}))}preloadConfig(y,A){return this.preloadingStrategy.preload(A,()=>(A._loadedConfig?(0,$e.of)(A._loadedConfig):this.loader.load(y.injector,A)).pipe((0,fn.z)($=>(A._loadedConfig=$,this.processRoutes($.module,$.routes)))))}}return b.\u0275fac=function(y){return new(y||b)(p.LFG(bi),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(Ha))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac}),b})(),ko=(()=>{class b{constructor(y,A,L={}){this.router=y,this.viewportScroller=A,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof er&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof ct&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,A){this.router.triggerEvent(new ct(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return b.\u0275fac=function(y){p.$Z()},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac}),b})();const Gi=new p.OlP("ROUTER_CONFIGURATION"),Fo=new p.OlP("ROUTER_FORROOT_GUARD"),Xo=[qn.Ye,{provide:jr,useClass:mr},{provide:bi,useFactory:function ml(b,E,y,A,L,$,z={},X,je){const Ot=new bi(null,b,E,y,A,L,Rn($));return X&&(Ot.urlHandlingStrategy=X),je&&(Ot.routeReuseStrategy=je),function Ga(b,E){b.errorHandler&&(E.errorHandler=b.errorHandler),b.malformedUriErrorHandler&&(E.malformedUriErrorHandler=b.malformedUriErrorHandler),b.onSameUrlNavigation&&(E.onSameUrlNavigation=b.onSameUrlNavigation),b.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=b.paramsInheritanceStrategy),b.relativeLinkResolution&&(E.relativeLinkResolution=b.relativeLinkResolution),b.urlUpdateStrategy&&(E.urlUpdateStrategy=b.urlUpdateStrategy),b.canceledNavigationResolution&&(E.canceledNavigationResolution=b.canceledNavigationResolution)}(z,Ot),z.enableTracing&&Ot.events.subscribe(Hn=>{var Yt,fr;null===(Yt=console.group)||void 0===Yt||Yt.call(console,`Router Event: ${Hn.constructor.name}`),console.log(Hn.toString()),console.log(Hn),null===(fr=console.groupEnd)||void 0===fr||fr.call(console)}),Ot},deps:[jr,gs,qn.Ye,p.zs3,p.Sil,ha,Gi,[class Do{},new p.FiY],[class Co{},new p.FiY]]},gs,{provide:nt,useFactory:function fi(b){return b.routerState.root},deps:[bi]},Cr,$a,class uu{preload(E,y){return y().pipe(le(()=>(0,$e.of)(null)))}},{provide:Gi,useValue:{enableTracing:!1}}];function Lo(){return new p.PXZ("Router",bi)}let Pr=(()=>{class b{constructor(y,A){}static forRoot(y,A){return{ngModule:b,providers:[Xo,Es(y),{provide:Fo,useFactory:Ca,deps:[[bi,new p.FiY,new p.tp0]]},{provide:Gi,useValue:A||{}},{provide:qn.S$,useFactory:Gs,deps:[qn.lw,[new p.tBr(qn.mr),new p.FiY],Gi]},{provide:ko,useFactory:lu,deps:[bi,qn.EM,Gi]},{provide:Ha,useExisting:A&&A.preloadingStrategy?A.preloadingStrategy:$a},{provide:p.PXZ,multi:!0,useFactory:Lo},[Ao,{provide:p.ip1,multi:!0,useFactory:ws,deps:[Ao]},{provide:eo,useFactory:So,deps:[Ao]},{provide:p.tb,multi:!0,useExisting:eo}]]}}static forChild(y){return{ngModule:b,providers:[Es(y)]}}}return b.\u0275fac=function(y){return new(y||b)(p.LFG(Fo,8),p.LFG(bi,8))},b.\u0275mod=p.oAB({type:b}),b.\u0275inj=p.cJS({}),b})();function lu(b,E,y){return y.scrollOffset&&E.setOffset(y.scrollOffset),new ko(b,E,y)}function Gs(b,E,y={}){return y.useHash?new qn.Do(b,E):new qn.b0(b,E)}function Ca(b){return"guarded"}function Es(b){return[{provide:p.deG,multi:!0,useValue:b},{provide:ha,multi:!0,useValue:b}]}let Ao=(()=>{class b{constructor(y){this.injector=y,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new O.x}appInitializer(){return this.injector.get(qn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let A=null;const L=new Promise(X=>A=X),$=this.injector.get(bi),z=this.injector.get(Gi);return"disabled"===z.initialNavigation?($.setUpLocationChangeListener(),A(!0)):"enabled"===z.initialNavigation||"enabledBlocking"===z.initialNavigation?($.hooks.afterPreactivation=()=>this.initNavigation?(0,$e.of)(null):(this.initNavigation=!0,A(!0),this.resultOfPreactivationDone),$.initialNavigation()):A(!0),L})}bootstrapListener(y){const A=this.injector.get(Gi),L=this.injector.get(Cr),$=this.injector.get(ko),z=this.injector.get(bi),X=this.injector.get(p.z2F);y===X.components[0]&&(("enabledNonBlocking"===A.initialNavigation||void 0===A.initialNavigation)&&z.initialNavigation(),L.setUpPreloading(),$.init(),z.resetRootComponentType(X.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return b.\u0275fac=function(y){return new(y||b)(p.LFG(p.zs3))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac}),b})();function ws(b){return b.appInitializer.bind(b)}function So(b){return b.bootstrapListener.bind(b)}const eo=new p.OlP("Router Initializer")},3942:(kt,Ue,j)=>{j.d(Ue,{Z:()=>et});var p=j(2090),O=j(4859),Q=j(9681),De=j(1877);class pe{constructor(ke,tt){this._delegate=ke,this.firebase=tt,(0,Q._addComponent)(ke,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this._delegate.automaticDataCollectionEnabled=ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ke=>{this._delegate.checkDestroyed(),ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(ke,tt=Q._DEFAULT_ENTRY_NAME){var Nt;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(ke);return!yt.isInitialized()&&"EXPLICIT"===(null===(Nt=yt.getComponent())||void 0===Nt?void 0:Nt.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:tt})}_removeServiceInstance(ke,tt=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ke).clearInstance(tt)}_addComponent(ke){(0,Q._addComponent)(this._delegate,ke)}_addOrOverwriteComponent(ke){(0,Q._addOrOverwriteComponent)(this._delegate,ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Me(){const ft=function Ce(ft){const ke={},tt={__esModule:!0,initializeApp:function se(ze,Se={}){const Ee=Q.initializeApp(ze,Se);if((0,p.r3)(ke,Ee.name))return ke[Ee.name];const le=new ft(Ee,tt);return ke[Ee.name]=le,le},app:yt,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function Xe(ze){const Se=ze.name,Ee=Se.replace("-compat","");if(Q._registerComponent(ze)&&"PUBLIC"===ze.type){const le=(Ve=yt())=>{if("function"!=typeof Ve[Ee])throw be.create("invalid-app-argument",{appName:Se});return Ve[Ee]()};void 0!==ze.serviceProps&&(0,p.ZB)(le,ze.serviceProps),tt[Ee]=le,ft.prototype[Ee]=function(...Ve){return this._getService.bind(this,Se).apply(this,ze.multipleInstances?Ve:[])}}return"PUBLIC"===ze.type?tt[Ee]:null},removeApp:function Nt(ze){delete ke[ze]},useAsService:function $e(ze,Se){return"serverAuth"===Se?null:Se},modularAPIs:Q}};function yt(ze){if(!(0,p.r3)(ke,ze=ze||Q._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:ze});return ke[ze]}return tt.default=tt,Object.defineProperty(tt,"apps",{get:function He(){return Object.keys(ke).map(ze=>ke[ze])}}),yt.App=ft,tt}(pe);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function ke(tt){(0,p.ZB)(ft,tt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),ft}(),oe=new De.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=ae;!function Be(ft){(0,Q.registerVersion)("@firebase/app-compat","0.1.22",ft)}()},9681:(kt,Ue,j)=>{j.r(Ue),j.d(Ue,{FirebaseError:()=>De.ZR,SDK_VERSION:()=>er,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>Vt,_addOrOverwriteComponent:()=>wn,_apps:()=>At,_clearComponents:()=>vn,_components:()=>sn,_getProvider:()=>fn,_registerComponent:()=>$t,_removeServiceInstance:()=>an,deleteApp:()=>Jn,getApp:()=>tr,getApps:()=>ur,initializeApp:()=>cr,onLog:()=>kn,registerVersion:()=>un,setLogLevel:()=>pn});var p=j(5861),O=j(4859),Q=j(1877),De=j(2090);class pe{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function he(Lt){const Ge=Lt.getComponent();return"VERSION"===(null==Ge?void 0:Ge.type)}(Tt)){const Zt=Tt.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(Tt=>Tt).join(" ")}}const be="@firebase/app",Me=new Q.Yd("@firebase/app"),Rt="[DEFAULT]",wt={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},At=new Map,sn=new Map;function Vt(Lt,Ge){try{Lt.container.addComponent(Ge)}catch(Tt){Me.debug(`Component ${Ge.name} failed to register with FirebaseApp ${Lt.name}`,Tt)}}function wn(Lt,Ge){Lt.container.addOrOverwriteComponent(Ge)}function $t(Lt){const Ge=Lt.name;if(sn.has(Ge))return Me.debug(`There were multiple attempts to register component ${Ge}.`),!1;sn.set(Ge,Lt);for(const Tt of At.values())Vt(Tt,Lt);return!0}function fn(Lt,Ge){const Tt=Lt.container.getProvider("heartbeat").getImmediate({optional:!0});return Tt&&Tt.triggerHeartbeat(),Lt.container.getProvider(Ge)}function an(Lt,Ge,Tt=Rt){fn(Lt,Ge).clearInstance(Tt)}function vn(){sn.clear()}const Qn=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Vr{constructor(Ge,Tt,Zt){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}const er="9.6.11";function cr(Lt,Ge={}){"object"!=typeof Ge&&(Ge={name:Ge});const Tt=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},Ge),Zt=Tt.name;if("string"!=typeof Zt||!Zt)throw Qn.create("bad-app-name",{appName:String(Zt)});const Cn=At.get(Zt);if(Cn){if((0,De.vZ)(Lt,Cn.options)&&(0,De.vZ)(Tt,Cn.config))return Cn;throw Qn.create("duplicate-app",{appName:Zt})}const Kt=new O.H0(Zt);for(const ie of sn.values())Kt.addComponent(ie);const ue=new Vr(Lt,Tt,Kt);return At.set(Zt,ue),ue}function tr(Lt=Rt){const Ge=At.get(Lt);if(!Ge)throw Qn.create("no-app",{appName:Lt});return Ge}function ur(){return Array.from(At.values())}function Jn(Lt){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(Lt){const Ge=Lt.name;At.has(Ge)&&(At.delete(Ge),yield Promise.all(Lt.container.getProviders().map(Tt=>Tt.delete())),Lt.isDeleted=!0)})).apply(this,arguments)}function un(Lt,Ge,Tt){var Zt;let Cn=null!==(Zt=wt[Lt])&&void 0!==Zt?Zt:Lt;Tt&&(Cn+=`-${Tt}`);const Kt=Cn.match(/\s|\//),ue=Ge.match(/\s|\//);if(Kt||ue){const ie=[`Unable to register library "${Cn}" with version "${Ge}":`];return Kt&&ie.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),Kt&&ue&&ie.push("and"),ue&&ie.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void Me.warn(ie.join(" "))}$t(new O.wA(`${Cn}-version`,()=>({library:Cn,version:Ge}),"VERSION"))}function kn(Lt,Ge){if(null!==Lt&&"function"!=typeof Lt)throw Qn.create("invalid-log-argument");(0,Q.Am)(Lt,Ge)}function pn(Lt){(0,Q.Ub)(Lt)}const Qe="firebase-heartbeat-store";let fe=null;function _e(){return fe||(fe=(0,De.X3)("firebase-heartbeat-database",1,(Lt,Ge)=>{0===Ge&&Lt.createObjectStore(Qe)}).catch(Lt=>{throw Qn.create("storage-open",{originalErrorMessage:Lt.message})})),fe}function xe(){return(xe=(0,p.Z)(function*(Lt){try{return(yield _e()).transaction(Qe).objectStore(Qe).get(In(Lt))}catch(Ge){throw Qn.create("storage-get",{originalErrorMessage:Ge.message})}})).apply(this,arguments)}function st(Lt,Ge){return bt.apply(this,arguments)}function bt(){return(bt=(0,p.Z)(function*(Lt,Ge){try{const Zt=(yield _e()).transaction(Qe,"readwrite");return yield Zt.objectStore(Qe).put(Ge,In(Lt)),Zt.complete}catch(Tt){throw Qn.create("storage-set",{originalErrorMessage:Tt.message})}})).apply(this,arguments)}function In(Lt){return`${Lt.name}!${Lt.options.appId}`}class Yr{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const Tt=this.container.getProvider("app").getImmediate();this._storage=new It(Tt),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var Ge=this;return(0,p.Z)(function*(){const Zt=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Cn=lr();if(null===Ge._heartbeatsCache&&(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise),Ge._heartbeatsCache.lastSentHeartbeatDate!==Cn&&!Ge._heartbeatsCache.heartbeats.some(Kt=>Kt.date===Cn))return Ge._heartbeatsCache.heartbeats.push({date:Cn,agent:Zt}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(Kt=>{const ue=new Date(Kt.date).valueOf();return Date.now()-ue<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache)})()}getHeartbeatsHeader(){var Ge=this;return(0,p.Z)(function*(){if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null===Ge._heartbeatsCache||0===Ge._heartbeatsCache.heartbeats.length)return"";const Tt=lr(),{heartbeatsToSend:Zt,unsentEntries:Cn}=function Un(Lt,Ge=1024){const Tt=[];let Zt=Lt.slice();for(const Cn of Lt){const Kt=Tt.find(ue=>ue.agent===Cn.agent);if(Kt){if(Kt.dates.push(Cn.date),Rn(Tt)>Ge){Kt.dates.pop();break}}else if(Tt.push({agent:Cn.agent,dates:[Cn.date]}),Rn(Tt)>Ge){Tt.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:Tt,unsentEntries:Zt}}(Ge._heartbeatsCache.heartbeats),Kt=(0,De.L)(JSON.stringify({version:2,heartbeats:Zt}));return Ge._heartbeatsCache.lastSentHeartbeatDate=Tt,Cn.length>0?(Ge._heartbeatsCache.heartbeats=Cn,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),Kt})()}}function lr(){return(new Date).toISOString().substring(0,10)}class It{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,p.Z)(function*(){return(yield Ge._canUseIndexedDBPromise)&&(yield function ct(Lt){return xe.apply(this,arguments)}(Ge.app))||{heartbeats:[]}})()}overwrite(Ge){var Tt=this;return(0,p.Z)(function*(){var Zt;if(yield Tt._canUseIndexedDBPromise){const Kt=yield Tt.read();return st(Tt.app,{lastSentHeartbeatDate:null!==(Zt=Ge.lastSentHeartbeatDate)&&void 0!==Zt?Zt:Kt.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var Tt=this;return(0,p.Z)(function*(){var Zt;if(yield Tt._canUseIndexedDBPromise){const Kt=yield Tt.read();return st(Tt.app,{lastSentHeartbeatDate:null!==(Zt=Ge.lastSentHeartbeatDate)&&void 0!==Zt?Zt:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Ge.heartbeats]})}})()}}function Rn(Lt){return(0,De.L)(JSON.stringify({version:2,heartbeats:Lt})).length}!function yn(Lt){$t(new O.wA("platform-logger",Ge=>new pe(Ge),"PRIVATE")),$t(new O.wA("heartbeat",Ge=>new Yr(Ge),"PRIVATE")),un(be,"0.7.21",Lt),un(be,"0.7.21","esm2017"),un("fire-js","")}("")},4859:(kt,Ue,j)=>{j.d(Ue,{H0:()=>Ce,wA:()=>Q});var p=j(5861),O=j(2090);class Q{constructor(ae,oe,Ae){this.name=ae,this.instanceFactory=oe,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const De="[DEFAULT]";class pe{constructor(ae,oe){this.name=ae,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const oe=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(oe)){const Ae=new O.BH;if(this.instancesDeferred.set(oe,Ae),this.isInitialized(oe)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:oe});ut&&Ae.resolve(ut)}catch(ut){}}return this.instancesDeferred.get(oe).promise}getImmediate(ae){var oe;const Ae=this.normalizeInstanceIdentifier(null==ae?void 0:ae.identifier),ut=null!==(oe=null==ae?void 0:ae.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Be){if(ut)return null;throw Be}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function be(Me){return"EAGER"===Me.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:De})}catch(oe){}for(const[oe,Ae]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(oe);try{const Be=this.getOrInitializeService({instanceIdentifier:ut});Ae.resolve(Be)}catch(Be){}}}}clearInstance(ae=De){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,p.Z)(function*(){const oe=Array.from(ae.instances.values());yield Promise.all([...oe.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...oe.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=De){return this.instances.has(ae)}getOptions(ae=De){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:oe={}}=ae,Ae=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:Ae,options:oe});for(const[Be,et]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Be)&&et.resolve(ut);return ut}onInit(ae,oe){var Ae;const ut=this.normalizeInstanceIdentifier(oe),Be=null!==(Ae=this.onInitCallbacks.get(ut))&&void 0!==Ae?Ae:new Set;Be.add(ae),this.onInitCallbacks.set(ut,Be);const et=this.instances.get(ut);return et&&ae(et,ut),()=>{Be.delete(ae)}}invokeOnInitCallbacks(ae,oe){const Ae=this.onInitCallbacks.get(oe);if(Ae)for(const ut of Ae)try{ut(ae,oe)}catch(Be){}}getOrInitializeService({instanceIdentifier:ae,options:oe={}}){let Ae=this.instances.get(ae);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=ae,Me===De?void 0:Me),options:oe}),this.instances.set(ae,Ae),this.instancesOptions.set(ae,oe),this.invokeOnInitCallbacks(Ae,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Ae)}catch(ut){}var Me;return Ae||null}normalizeInstanceIdentifier(ae=De){return this.component?this.component.multipleInstances?ae:De:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const oe=this.getProvider(ae.name);if(oe.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);oe.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const oe=new pe(ae,this);return this.providers.set(ae,oe),oe}getProviders(){return Array.from(this.providers.values())}}},1877:(kt,Ue,j)=>{j.d(Ue,{Am:()=>Me,Ub:()=>Ce,Yd:()=>be,in:()=>O});const p=[];var O=(()=>{return(ae=O||(O={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",O;var ae})();const Q={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},De=O.INFO,pe={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},he=(ae,oe,...Ae)=>{if(oe<ae.logLevel)return;const ut=(new Date).toISOString(),Be=pe[oe];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Be](`[${ut}]  ${ae.name}:`,...Ae)};class be{constructor(oe){this.name=oe,this._logLevel=De,this._logHandler=he,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in O))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?Q[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...oe),this._logHandler(this,O.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...oe),this._logHandler(this,O.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,O.INFO,...oe),this._logHandler(this,O.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,O.WARN,...oe),this._logHandler(this,O.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...oe),this._logHandler(this,O.ERROR,...oe)}}function Ce(ae){p.forEach(oe=>{oe.setLogLevel(ae)})}function Me(ae,oe){for(const Ae of p){let ut=null;oe&&oe.level&&(ut=Q[oe.level]),Ae.userLogHandler=null===ae?null:(Be,et,...ft)=>{const ke=ft.map(tt=>{if(null==tt)return null;if("string"==typeof tt)return tt;if("number"==typeof tt||"boolean"==typeof tt)return tt.toString();if(tt instanceof Error)return tt.message;try{return JSON.stringify(tt)}catch(Nt){return null}}).filter(tt=>tt).join(" ");et>=(null!=ut?ut:Be.logLevel)&&ae({level:O[et].toLowerCase(),message:ke,args:ft,type:Be.name})}}}},5861:(kt,Ue,j)=>{function p(Q,De,pe,he,be,Ce,Me){try{var ae=Q[Ce](Me),oe=ae.value}catch(Ae){return void pe(Ae)}ae.done?De(oe):Promise.resolve(oe).then(he,be)}function O(Q){return function(){var De=this,pe=arguments;return new Promise(function(he,be){var Ce=Q.apply(De,pe);function Me(oe){p(Ce,he,be,Me,ae,"next",oe)}function ae(oe){p(Ce,he,be,Me,ae,"throw",oe)}Me(void 0)})}}j.d(Ue,{Z:()=>O})}},kt=>{kt(kt.s=180)}]);